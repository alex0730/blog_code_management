(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{0:function(t,e,n){"use strict";function i(t,e,n,i,r,o,a,s){var c,l="function"==typeof t?t.options:t;if(e&&(l.render=e,l.staticRenderFns=n,l._compiled=!0),i&&(l.functional=!0),o&&(l._scopeId="data-v-"+o),a?(c=function(t){(t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),r&&r.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(a)},l._ssrRegister=c):r&&(c=s?function(){r.call(this,this.$root.$options.shadowRoot)}:r),c)if(l.functional){l._injectStyles=c;var u=l.render;l.render=function(t,e){return c.call(e),u(t,e)}}else{var d=l.beforeCreate;l.beforeCreate=d?[].concat(d,c):[c]}return{exports:t,options:l}}n.d(e,"a",(function(){return i}))},1:function(t,e,n){t.exports=n(28)(0)},10:function(t,e,n){t.exports=n(28)(23)},103:function(t,e,n){"use strict";var i=n(64),r=n.n(i),o=n(14),a=n.n(o);function s(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function c(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?s(Object(n),!0).forEach((function(e){a()(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var l=n(2),u=n(1),d=n(576),f=n(129);function p(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];return function(){var e=this,i=e.select;return i&&i[t]&&i[t].apply(i,[].concat(n,Array.prototype.slice.call(arguments)))}}var h={props:["isMulti","isDisabled","noSelectAll","value","size","needSearch","text","options","autoWidth"],data:function(){return{id:"",clazz:""}},mounted:function(){var t=this;t.$nextTick((function(){t.initCpn(),t.initVal()}))},methods:{initCpn:function(){var t=this.select=this.initSelect(),e=t.getEl();t.$el=l(this.$el),t.el=this.el,this.id=e.get(0).id,this.clazz=e.get(0).className,l(this.$el).html(e.html()),e.remove(),t.render(),this.clazz+=" ".concat(this.$el.className||""," ")},initSelect:function(){var t=this,e=new(t.isMulti?d:f)({noRender:!0,needSearch:t.needSearch,autoWidth:!!t.autoWidth,disabled:!!t.isDisabled,noSelectAll:!!t.noSelectAll,text:t.text,size:t.size,options:u.map(t.options,(function(t){return c({},t)}))});return e.listen("change",(function(){return t.$emit("input",e.val())})),t.$watch("options",(function(n){var i=t.isMulti?u.toMap(t.value,(function(t){return{key:t}})):a()({},t.value,!0),r=u.map(n,(function(t){return c(c({},t),{},{checked:i[t.value]})})),o=JSON.stringify(e.val()||"");e.replaceOptions(r);var s=e.val();o!==JSON.stringify(s)&&t.$emit("input",s)})),t.$watch("isDisabled",(function(t){return e.disabled(!!t)})),t.$watch("noSelectAll",(function(n){e.rawConfig.noSelectAll=!!n,e.replaceOptions(t.options)})),t.$watch("text",(function(t){e.rawConfig.text=t,e.updateText&&e.updateText()})),e},initVal:function(){var t=this;t.select.val(t.value),t.$watch("valStr",(function(e,n){t.select&&t.select.val(t.value)}))},val:p("val"),error:p("error"),setNone:p("error",!1),setError:p("error")},computed:{valStr:function(){var t=this.isMulti?r()(this.value||[]):[this.value];return(t=(t=u.map(t,(function(t){return JSON.stringify(t)||""}))).sort((function(t,e){return t-e}))).join("T_T")}}},g=n(0),v=Object(g.a)(h,(function(){var t=this.$createElement;return(this._self._c||t)("div",{"class":this.clazz,attrs:{id:this.id}})}),[],!1,null,null,null);e.a=v.exports},113:function(t,e,n){"use strict";var i=n(2),r=n.n(i);n(1);var o={name:"nc-input",props:["tagName","isDisabled","isReadonly","type","placeholder","iptCls","iptStyle","tipsStyle","content","noShowMark","focusTips","focusCls","maxlength"],model:{prop:"content",event:"change"},components:{NCTag:n(279).a},data:function(){return{value:this.content||"",isError:"",isSuccess:"",isFocus:"",tips:""}},methods:{focus:function(){r()(this.$refs.input).focus()},blur:function(){r()(this.$refs.input).blur()},val:function(t){var e=this,n=r()(e.$refs.input);if(0===arguments.length)return n.val();e.value=t},setSuccess:function(t){if(this.setNone(),!1===t)return;this.isSuccess=!0,this.tips=r.a.trim(t)},setError:function(t){if(this.setNone(),!1===t)return;this.isError=!0,this.tips=r.a.trim(t)},setFocusTips:function(t){if(this.setNone(),!1===t)return this.isFocus=!1;this.isFocus=!0,this.tips=r.a.trim(this.focusTips)},setNone:function(){this.isSuccess="",this.isError="",this.tips=""},actionFocus:function(){this.isFocus=!0,this.setNone(),this.setFocusTips(),this.$emit("focus")},actionBlur:function(){this.isFocus=!1,this.$emit("blur")}},computed:{isText:function(){return"textarea"!==this.type}},watch:{value:function(){this.$emit("change",this.value),this.setNone()},content:function(t){this.value=t}}},a=n(0),s=Object(a.a)(o,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("NCTag",{staticClass:"control-group","class":(t.isError?"error":t.isSuccess?"success":"")+" "+(t.focusCls&&t.isFocus?t.focusCls:""),attrs:{tagName:t.tagName}},[t._t("before"),t._v(" "),"checkbox"===(t.type||"text")&&t.isText?n("input",{directives:[{name:"model",rawName:"v-model",value:t.value,expression:"value"}],ref:"input","class":t.iptCls,style:t.iptStyle,attrs:{disabled:t.isDisabled,readonly:t.isReadonly,placeholder:t.placeholder,maxlength:t.maxlength,type:"checkbox"},domProps:{checked:Array.isArray(t.value)?t._i(t.value,null)>-1:t.value},on:{keydown:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.$emit("enter")},focus:t.actionFocus,blur:t.actionBlur,change:function(e){var n=t.value,i=e.target,r=!!i.checked;if(Array.isArray(n)){var o=t._i(n,null);i.checked?o<0&&(t.value=n.concat([null])):o>-1&&(t.value=n.slice(0,o).concat(n.slice(o+1)))}else t.value=r}}}):"radio"===(t.type||"text")&&t.isText?n("input",{directives:[{name:"model",rawName:"v-model",value:t.value,expression:"value"}],ref:"input","class":t.iptCls,style:t.iptStyle,attrs:{disabled:t.isDisabled,readonly:t.isReadonly,placeholder:t.placeholder,maxlength:t.maxlength,type:"radio"},domProps:{checked:t._q(t.value,null)},on:{keydown:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.$emit("enter")},focus:t.actionFocus,blur:t.actionBlur,change:function(e){t.value=null}}}):t.isText?n("input",{directives:[{name:"model",rawName:"v-model",value:t.value,expression:"value"}],ref:"input","class":t.iptCls,style:t.iptStyle,attrs:{disabled:t.isDisabled,readonly:t.isReadonly,placeholder:t.placeholder,maxlength:t.maxlength,type:t.type||"text"},domProps:{value:t.value},on:{keydown:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.$emit("enter")},focus:t.actionFocus,blur:t.actionBlur,input:function(e){e.target.composing||(t.value=e.target.value)}}}):n("textarea",{directives:[{name:"model",rawName:"v-model",value:t.value,expression:"value"}],ref:"input","class":t.iptCls,staticStyle:{resize:"none"},style:t.iptStyle,attrs:{disabled:t.isDisabled,readonly:t.isReadonly,placeholder:t.placeholder,maxlength:t.maxlength},domProps:{value:t.value},on:{keydown:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.$emit("enter")},focus:t.actionFocus,blur:t.actionBlur,input:function(e){e.target.composing||(t.value=e.target.value)}}}),t._v(" "),t.noShowMark?t._e():n("i",{staticClass:"input-icon fui-cross"}),t._v(" "),t.noShowMark?t._e():n("i",{staticClass:"input-icon fui-check-inverted"}),t._v(" "),n("span",{staticClass:"input-tip",staticStyle:{"z-index":"9"},style:(t.isFocus&&t.focusTips?"display:block;":"")+" "+t.tipsStyle,domProps:{innerHTML:t._s(t.tips)}}),t._v(" "),t._t("after")],2)}),[],!1,null,null,null).exports;s.install=function(t){return t.component(s.name,s)};e.a=s},12:function(t,e,n){t.exports=n(28)(9)},122:function(t,e,n){var i=n(14),r=n(2),o=n(1),a=n(678),s=[{id:"1",name:"C(clang11)",template:"cTemplate",tplId:"purecTpl",suffix:"c",cm:{plugin:"clike",name:"text/x-csrc"},envDesc:"版本：Clang11，采用gnu99标准，编译的时候采用-O2级优化。",demoCode:a[1]},{id:"2",name:"C++(clang++11)",template:"cppTemplate",tplId:"cTpl",suffix:"cpp",cm:{plugin:"clike",name:"text/x-c++hdr"},envDesc:"版本：clang++11，采用c++17标准，编译的时候采用-O2级优化，支持万能头文件。",demoCode:a[2]},{id:"22",name:"C++14(g++5.4)",template:"cpp14Template",tplId:"cpp14Tpl",suffix:"cpp",cm:{plugin:"clike",name:"text/x-c++hdr"},envDesc:"版本：G++5.4，采用C++14标准，编译的时候采用-O2级优化，支持万能头文件 <bits/stdc++.h>。",demoCode:a[2]},{id:"3",name:"Pascal(fpc 3.0.2)",template:"pascalTemplate",tplId:"pascalTpl",suffix:"pas",cm:{plugin:"pascal",name:"text/x-pascal"},envDesc:"版本：fpc3.0，编译的时候采用-O2级优化。",demoCode:a[3]},{id:"4",name:"Java(javac 1.8)",template:"javaTemplate",tplId:"javaTpl",suffix:"java",cm:{plugin:"clike",name:"text/x-java"},envDesc:"版本：OpenJDK 1.8。支持Java8的最新特性，比如stream操作和lambda表达式。",demoCode:a[4]},{id:"5",name:"Python(2.7.3)",template:"pythonTemplate",tplId:"pythonTpl",suffix:"py",cm:{plugin:"python",name:"text/x-python"},envDesc:"版本：Python2.7，支持大部分的常用库。Numpy库与SciPy库默认不支持，请根据题目要求查看是否支持。",demoCode:a[5]},{id:"6",name:"perl",template:"perlTemplate"},{id:"7",name:"scheme",template:"schemeTemplate"},{id:"8",name:"PHP(7.4.7)",template:"phpTemplate",tplId:"phpTpl",suffix:"php",cm:{plugin:"php",name:"application/x-httpd-php"},envDesc:"版本：Php7.4",demoCode:a[8]},{id:"9",name:"C#(mcs 5.4)",template:"csharpTemplate",tplId:"cSharpTpl",suffix:"cs",cm:{plugin:"clike",name:"text/x-csharp"},envDesc:"版本：mcs5.4，编译的时候关闭了debug选项，采用optimize优化。",demoCode:a[9]},{id:"10",name:"ObjC(gcc 5.4)",template:"objCTemplate",tplId:"objCTpl",suffix:"m",cm:{plugin:"clike",name:"text/x-c++hdr"},envDesc:"版本：Gcc5.4，采用c99标准编译。",demoCode:a[10]},{id:"11",name:"Python3(3.9)",template:"python3Template",tplId:"python3Tpl",suffix:"py",cm:{plugin:"python",name:"text/x-python"},envDesc:"版本：Python3.9，支持大部分的常用库。Numpy库与SciPy库默认不支持，请根据题目要求查看是否支持。",demoCode:a[11]},{id:"12",name:"HTML/CSS/JavaScript",template:"htmlCssJsTemplate",cm:{plugin:"clike",name:"text/x-csrc"}},{id:"13",name:"JavaScript(Node 12.18.2)",template:"jsTemplate",tplId:"jsTpl",suffix:"js",cm:{plugin:"javascript",name:"text/javascript"},envDesc:"版本：Node 12.18",demoCode:a[13]},{id:"14",name:"JavaScript(V8 6.0.0)",template:"jsV8Template",tplId:"jsV8Tpl",suffix:"js",cm:{plugin:"javascript",name:"text/javascript"},envDesc:'版本：<a href="https://v8.dev/docs/d8" target="_blank">d8</a> 6.0',demoCode:a[14]},{id:"15",name:"Sql(sqlite3.7.9)",template:"sqlTemplate",tplId:"sqlTpl",suffix:"sql",cm:{plugin:"sql",name:"text/x-mysql"},envDesc:"sqlite3.7.9"},{id:"16",name:"R(4.0.3)",template:"rTemplate",tplId:"rTpl",suffix:"r",cm:{plugin:"r",name:"text/x-rsrc"},envDesc:"版本：R 3.4",demoCode:a[16]},{id:"17",name:"Go(1.14.4)",template:"goTemplate",tplId:"goTpl",suffix:"go",cm:{plugin:"go",name:"text/x-go"},envDesc:"版本：Go 1.14",demoCode:a[17]},{id:"18",name:"TCL(TestCase L)",template:"tclTemplate",tplId:"tclTpl",suffix:"txt",cm:{plugin:"clike",name:"text/x-c++hdr"},envDesc:""},{id:"19",name:"Ruby(2.7.1)",template:"rubyTemplate",tplId:"rubyTpl",suffix:"rb",cm:{plugin:"ruby",name:"text/x-ruby"},envDesc:"版本：Ruby2.7",demoCode:a[19]},{id:"20",name:"Swift(5.3)",template:"swiftTemplate",tplId:"swiftTpl",suffix:"swift",cm:{plugin:"swift",name:"text/x-swift"},envDesc:"版本：Swift-4.0",demoCode:a[20]},{id:"21",name:"matlab(Octave 5.2)",template:"matlabTemplate",tplId:"matlabTpl",suffix:"m",cm:{plugin:"clike",name:"text/x-csrc"},envDesc:'版本：<a href="https://www.gnu.org/software/octave/" target="_blank">octave-cli</a> 4.0',demoCode:a[21]},{id:"23",name:"bash(GNU bash4.3.46)",template:"bashTemplate",tplId:"bashTpl",suffix:"bash",cm:{plugin:"clike",name:"text/x-sh"},envDesc:"版本：Bash 4.3",demoCode:a[23]},{id:"24",name:"pypy2(pypy2.7.13)",template:"pypy2Template",tplId:"pypy2Tpl",suffix:"py",cm:{plugin:"python",name:"text/x-python"},envDesc:"版本：Pypy2.7，支持大部分的常用库。",demoCode:a[5]},{id:"25",name:"pypy3(pypy3.6.1)",template:"pypy3Template",tplId:"pypy3Tpl",suffix:"py",cm:{plugin:"python",name:"text/x-python"},envDesc:"版本：Pypy3.6，支持大部分的常用库。",demoCode:a[11]},{id:"26",name:"HTML/CSS/JavaScript",cm:{plugin:"clike",name:"text/x-csrc"}},{id:"27",name:"Rust(1.44)",template:"rustTemplate",tplId:"rustTpl",suffix:"rs",cm:{plugin:"javascript",name:"text/x-rustsrc"},envDesc:"版本：Rust 1.44",demoCode:a[27]},{id:"28",name:"Scala(2.11.12)",template:"scalaTemplate",tplId:"scalaTpl",suffix:"scala",cm:{plugin:"clike",name:"text/x-scala"},envDesc:"版本：2.11.12",demoCode:a[28]},{id:"29",name:"Kotlin(1.4.10)",template:"kotlinTemplate",tplId:"kotlinTpl",suffix:"kt",cm:{plugin:"clike",name:"text/x-kotlin"},envDesc:"版本：1.4.10",demoCode:a[29]},{id:"30",name:"Groovy(3.0.6)",template:"groovyTemplate",tplId:"groovyTpl",suffix:"groovy",cm:{plugin:"groovy",name:"text/x-groovy"},envDesc:"版本：3.0.6",demoCode:a[30]},{id:"31",name:"TypeScript(4.1.2)",template:"tsTemplate",tplId:"tsTpl",suffix:"ts",cm:{plugin:"javascript",name:"text/typescript"},envDesc:"版本：4.1.2",demoCode:a[13]},{id:"32",name:"Sql(mysql 8.0)",template:"mysqlTemplate",tplId:"mysqlTpl",suffix:"sql",cm:{plugin:"sql",name:"text/x-mysql"},envDesc:"MySQL 8.0"},{id:"101",name:"Python3",cm:{plugin:"python",name:"text/x-python"},demoCode:a[11]},{id:"102",name:"Swift",cm:{plugin:"swift",name:"text/x-swift"},demoCode:a[20]},{id:"103",name:"Lua(luac 5.2)",cm:{plugin:"lua",name:"text/x-lua"}},{id:"104",name:"Go(go 1.1.1)",cm:{plugin:"go",name:"text/x-go"},demoCode:a[17]}],c=(a[2],a[4],o.toMap(s,(function(t){return{key:t.id,value:t}}))),l=o.map(s,(function(t){return t.id})),u=["2","4","1","5","11","24","25","9","8","14","13","16","17","19","27","20","10","3","15","32","18","21","23","28","29","30","31"],d=["1","2","4","5","8","9","11","13","14"],f=["1","2","4","5","11","8","9","13","14","17","19","20","27","28","29","30","31"],p=["2","1","4","5","11","13","17","8","9","19","20","27","28","29","30","31"],h=["2","4","1","5","11","24","25","9","8","14","13","16","17","19","27","20","10","3","21","23","28","29","30","31"];t.exports={langCpp:"2",langJava:"4",langSql:"15",langMySql:"32",langTCL:"18",langShell:"23",langFE:"26",isJudgeVoj:function(t,e){return("3"===t||"8"===t)&&((o.isString(e)?Str.split(e,","):e)||[]).length>0},getAllLang:function(){return l.slice(0)},getQuestionLang:function(t){return t?u.slice(0):o.without(u,this.langTCL)},getFilterLang:function(){return[{text:"Java",value:"101"},{text:"C++",value:"102"},{text:"C",value:"104"},{text:"Pascal",value:"105"},{text:"Python2",value:"106"},{text:"Python3",value:"107"},{text:"PyPy2",value:"112"},{text:"PyPy3",value:"113"},{text:"其他",value:"115"}]},getHintLang:function(){return d.slice(0)},getPreTplLang:function(){return f.slice(0)},getLeetCodeLang:function(){return p.slice(0)},getItemById:function(t,e){return t=r.trim(t),("voj"===e?LANGVOJ_MAP:c)[t]},getNameById:function(t,e){return(this.getItemById(t,e)||{}).name||""},getCMById:function(t,e){return(this.getItemById(t,e)||{}).cm},getTemplateById:function(t,e){return(this.getItemById(t,e)||{}).template},content2comment:function(t,e){if(!(e=o.id(e)))return"";var n=(t||"").split("\n"),i=o.map(n,(function(t){return{1:1,2:1,22:1,3:1,4:1,8:1,9:1,10:1,13:1,14:1,17:1,20:1,27:1}[e]?"//".concat(t):{5:1,11:1,16:1,19:1,23:1,24:1,25:1}[e]?"#".concat(t):{21:1}[e]?"%".concat(t):""})).join("\n");return r.trim(i)?i:""},getExample:function(){return o.map(r(".js-sample-io"),(function(t){var e=(t=r(t)).find("textarea[data-type=input]"),n=t.find("textarea[data-type=output]");return{input:e.val()||"",output:n.val()||""}}))},getTpl:function(t){var e=this,n=[];return t=t||{},o.forEach(u,(function(i){var o=e.getItemById(i);if(o){var a=t[i]||o.tplId||"";n.push({id:i,tpl:r("#"+a)})}})),n},getTplByData:function(t,e,n){var i=this;e=e||{},t=o.id(t);var a=0===(n||[]).length?null:o.toMap(n,(function(t){return{key:t,value:!0}})),c=o.toMap(s,(function(t){return{key:t.id,value:t.template}})),l=[],u=[];o.forEach(h,(function(t){var n={2:!0,4:!0}[t];if(a){r=f(e[c[t]]);var i=n?f(e[c[t]],!0):r;r&&a[t]&&l.push({id:t,tpl:r}),i&&u.push({id:t,tpl:i})}else{var r;(r=f(e[c[t]],n))&&l.push({id:t,tpl:r})}})),0===l.length&&(l=u);var d=!e[c[i.langSql]]&&!e[c[i.langMySql]];return l.push({id:i.langMySql,tpl:f(e[c[i.langMySql]])}),l.push({id:i.langSql,tpl:f(e[c[i.langSql]],d)}),l.push({id:i.langTCL,tpl:f(e[c[i.langTCL]],"5"===t)}),!o.find(l,(function(t){return t.id===i.langShell}))&&"9"===t&&l.push({id:i.langShell,tpl:f(e[c[i.langShell]],"9"===t)}),l;function f(e,n){if(n||"0"===t||("1"===t||"4"===t)&&e)return r("<textarea>".concat("4"===t?"":e||"","</textarea>"))}},getTplVoj:function(t){var e=this,n=[];return o.forEach(t,(function(t){var i=e.getItemById(t.renderLikeNowcoderLanguage);i&&n.push({id:t.id,idNc:t.renderLikeNowcoderLanguage,tpl:r("#".concat(i.tplId||"")),name:t.name})})),n},getTplFE:function(t){return[{id:"html",tpl:r("#".concat((t=t||{}).html||"htmlTpl"))},{id:"css",tpl:r("#".concat(t.css||"cssTpl"))},{id:"javascript",tpl:r("#".concat(t.javascript||"javascriptTpl"))}]},getTplFEByData:function(t){return[{id:"html",tpl:e((t=t||{}).cppTemplate)},{id:"css",tpl:e(t.cTemplate)},{id:"javascript",tpl:e(t.javaTemplate)}];function e(t){return r("<textarea>".concat(t||"","</textarea>"))}},checkTpl:function(t,e){var n=this;t=o.id(t);var a=[],s=o.toMap(e,(function(t){return{key:t.id,value:t}}));"4"===t?(r((s[n.langMySql]||{}).tpl).length>0&&a.push(s[n.langMySql]),r((s[n.langSql]||{}).tpl).length>0&&a.push(s[n.langSql]),0===a.length&&a.push(s[n.langSql])):"5"===t?a.push(s[n.langTCL]):"9"===t?a.push(s[n.langShell]):o.forEach(e,(function(e){var o,s=e.id;if(!(o={},i(o,n.langSql,1),i(o,n.langMySql,1),i(o,n.langTCL,1),o)[s]){var c={2:!0,4:!0}[s];(c=(c=c||"0"===t)||"1"===t&&e.tpl&&r(e.tpl).length>0)&&a.push(e)}}));return a}}},128:function(module,exports,__webpack_require__){var $=__webpack_require__(2),Base=__webpack_require__(1),Str=__webpack_require__(9);function fReplaceLink(t){var e=!1,n=(t||"").split(/(<\s*\/?\s*?\w+\s*[^>]*?>)/),i=[];return Base.forEach(n,(function(t,s){if(t){var c=/<\s*(\/)?\s*?(\w+)\s*[^>]*?>/i.exec(t)||[],l=(c[2]||"").toLowerCase(),u="/"===c[1];if(!u&&l&&i.push(l),u&&l&&i.pop(),!l&&!r("a")&&!r("pre")&&o(t)){t=Str.decodeHTML(t);var d=Base.map(t.split(/((?:(?:(?:http|https|ftp):\/\/)|(?:www\.))[a-z0-9-\.]+\.[a-z]+[a-z0-9-\/\.:\?_=&#%]*)/gi),a);n[s]=d.join(""),e=!0}}})),e?n.join(""):t;function r(t){return t=(t||"").toLowerCase(),Base.contains(i,t)}function o(t){return/(((http|https|ftp):\/\/)|(www\.))[a-zA-Z0-9-\.]+\.[a-zA-Z]+[a-zA-Z0-9-\/\.:\?=&]*/.test(t||"")}function a(t){if(!o(t))return t?Str.encodeHTML(t):"";var e=$.trim(t);return'<a href="'+(e=e.indexOf("://")<0?"http://"+e:e)+'" target="_blank">'+Str.encodeHTML(t)+"</a>"}}function fTxt2Html(t){return t=(t=(t||"").replace(/\n/gi,"<br />")).replace(/\s+([^<>]+)(?=<)|\s+([^<>]+)$/g,(function(t){return t.replace(/\s/g,"&nbsp;")}))}function fHtml2Txt(t){return t=(t=(t=(t=(t=(t=t.replace(/&nbsp;/gi," ")).replace(/\n\s*\n/g,"\n")).replace(/<br[^>]*>/gi,"\n")).replace(/<\/p><p[^>]*>/gi,"\n")).replace(/<\/div><div[^>]*>/gi,"\n")).replace(/<[^>]+>/g,"")}function fCopy(t){if((t=t||{}).dealContent&&window.getSelection&&window.getSelection()){var e=Base.isArray(t.el)?t.el:[t.el];Base.forEach(e,(function(t){t&&$(t).on("copy",n)}))}function n(e){var n=$(e.target),i=e.originalEvent.clipboardData;if(i&&i.setData&&(!{input:1,textarea:1,iframe:1}[n.prop("tagName").toLowerCase()]&&!n.closest("input,textarea,iframe").get(0))){var r=window.getSelection(),o=r.toString();if(!(o.length<(+t.max||0))){o=Base.map(o.split(""),(function(t){return 160===t.charCodeAt(0)?" ":t})).join("");var a=r.getRangeAt(0).cloneContents(),s=$("<div></div>").append(a).html();t.canCopy&&!t.canCopy(n,s,o)||(t.dealContent&&(o=t.dealContent(n,o)),t.dealContent&&(s=t.dealContent(n,s,!0)),i.setData("text/plain",o||""),i.setData("text/html",s||""),e.preventDefault())}}}}function fClear(t,e){var n=this;if(!t||!Base.isObject(e)||0===Base.keys(e))return t||"";var i=e.removeTag||{};return t.replace(/(\s*)<(\/)?([\w\-:]+)((?:\s+|(?:\s+[\w\-:]+)|(?:\s+[\w\-:]+=[^\s"'<>]+)|(?:\s+[\w\-:"]+="[^"]*")|(?:\s+[\w\-:"]+='[^']*'))*)(\/)?>(\s*)/g,(function(t,r,o,a,s,c,l){var u=t,d=r||"",f=o||"",p=a.toLowerCase(),h=s||"",g=c?" "+c:"",v=l||"";if(h){var m=n.getAttrList(u);"img"===p&&0===(m.src||"").indexOf("//")&&(m.src="https:"+m.src),h=" ",Base.forEach(m,(function(t,n){e.removeStyle&&"style"===n||{align:1}[n]||t&&(h+=n+'="'+t+'" ')}))}return d+"<"+f+(p=i[p]||p)+h+g+">"+v}))}function fGetAttrList(t){for(var e,n={},i=/\s+(?:([\w\-:]+)|(?:([\w\-:]+)=([^\s"'<>]+))|(?:([\w\-:"]+)="([^"]*)")|(?:([\w\-:"]+)='([^']*)'))(?=(?:\s|\/|>)+)/g;e=i.exec(t);){var r=(e[1]||e[2]||e[4]||e[6]).toLowerCase(),o=(e[2]?e[3]:e[4]?e[5]:e[7])||"";n[r]=o}return n}function fRemoveTag(sContent,sTag){sTag=sTag.replace(/(<|\/>)/gi,"");var rReg=eval("/<".concat(sTag,"[^>].*?>/gi"));return sContent.replace(rReg,"")}module.exports={replaceLink:fReplaceLink,txt2html:fTxt2Html,html2txt:fHtml2Txt,copy:fCopy,clear:fClear,getAttrList:fGetAttrList,removeTag:fRemoveTag}},129:function(t,e,n){var i=n(2),r=n(1),o=n(7),a=n(4),s=(n(9),n(8),n(166)),c=t.exports=a.create();a.mix(c,o,{_template:['<div class="btn-group">','<button class="btn btn-default dropdown-toggle">','<span class="js-txt #{txtCls}">#{text}</span>','<span class="caret"></span>',"</button>","</div>"].join(""),listeners:[{name:"render",type:"custom",handler:function(){var t=this.getEl(),e=this.rawConfig;this.btnEl=t.find("button.dropdown-toggle"),this.txtEl=t.find("span.js-txt"),this.size(e.size),this.initSel(),this.updateText();var n=this.btnEl.width();!e.autoWidth&&n>20&&this.txtEl.outerWidth(n),this.isDisabled=!!e.disabled,this.disabled(this.isDisabled)}},{name:"destroy",type:"custom",handler:function(){this.attachSel&&this.attachSel.destroy()}}],transformConf:function(t){var e=t.find("ul.dropdown-menu li"),n=[],o="";return r.forEach(e,(function(t,e){var r=(t=i(t)).hasClass("selected");n.push({text:i.trim(t.text()),value:t.attr("data-val")||e,checked:r}),r&&(o=i.trim(t.text()))})),o&&t.find("button.dropdown-toggle .dropdown-value").html(o),{text:o,options:n}}},{initSel:function(){var t=this,e=t.rawConfig,n=t.getEl(),i=(t.attachSel=s.show({target:t.getEl(),options:e.options,zIndex:e.zIndex,noHover:!!e.noHover,needSearch:!!e.needSearch,clickItemNoHide:e.clickItemNoHide,needClick:!0,needReWidth:!0,needKeyboard:!0,attach:{extOffset:{left:-1,top:-2}},canShow:function(){return!t.isDisabled},listeners:{select:function(){t.error(!1)},change:function(){t.fire("change"),t.updateText(),e.change&&e.change.call(t)}}})).attach;i.listen("attachShow",(function(){n.addClass("open")})),i.listen("attachHide",(function(){n.removeClass("open")}))},isOpen:function(){return this.getEl().hasClass("open")},open:function(t){this.getEl();this.attachSel.attach[!1===t?"forceHide":"forceShow"]()},select:function(t,e){var n=this,i=(n.rawConfig,n.attachSel);if(0===arguments.length)return i.index();i.index(t,!e),n.updateText()},val:function(t,e){var n=this,i=n.rawConfig,r=n.attachSel;i.options;if(0===arguments.length)return r.val();r.val(t,!e),n.updateText()},text:function(){this.rawConfig;var t=this.attachSel.getSelectedItem();return t&&(t.text||i(t.html).text())||""},updateText:function(){var t=this.rawConfig,e=this.attachSel.getSelectedItem(),n=i.trim(e?e.text:t.text||"请选择");this.txtEl.html(n),this.txtEl.attr("title",n.replace(/<[^>]+>/g,""))},error:function(t){this.getEl()[!1===t?"removeClass":"addClass"]("error")},size:function(t){var e=this.getEl(),n={xsmall:"btn-group-xs",small:"btn-group-sm",large:"btn-group-lg"}[t||""];e.removeClass("btn-group-sm btn-group-lg"),n&&e.addClass(n)},clear:function(t){this.rawConfig;this.txtEl.html(t),this.attachSel.clear()},disabled:function(t){this.isDisabled=!1!==t,this.getEl()[this.isDisabled?"addClass":"removeClass"]("disabled")},_getData:function(t){return{text:t.text,txtCls:t.autoWidth?"":"dropdown-value",menuCls:t.autoWidth?"dropdown-auto":""}},replaceOptions:function(t){this.rawConfig.options=t,this.attachSel&&this.attachSel.destroy(),this.initSel(),this.updateText(),this.fire("replaceOptions")}})},13:function(t,e,n){var i=n(1),r=n(9);t.exports={data:window.globalInfo||{},getUser:function(){return this.data},getUid:function(){return i.id(this.data.ownerId)},isLogin:function(){return!!i.id(this.data.ownerId)},isActive:function(){return"0"===i.id(this.data.status)},isAdmin:function(){return"3"===i.id(this.data.ownerType)},isCompleteInfo:function(){return!!this.data.isCompleteInfo},isInDev:function(){if("ncJsInDev"in window)return!!window.ncJsInDev;return(((window.seajs||{}).data||{}).base||"").indexOf("javascripts")>=0},isInPre:function(){if("ncJsInPre"in window)return!!window.ncJsInPre},isInHttps:function(){return r.isHttps(window.location.href)},isInMainSite:function(){return!!window.ncIsInNowcoderMainSite},canInIframe:function(){return"true"===this.data.canLoadInIframe},getMainDomain:function(t){if(this.isInMainSite())return"";var e=this.isInDev()?"d.nowcoder.com":"www.nowcoder.com";return(t?this.isInHttps()?"https://":"http://":"")+e},getBlogDomain:function(t){var e=this.isInDev()?"d.blog.nowcoder.net":"blog.nowcoder.net";return(t?this.isInHttps()?"https://":"http://":"")+e}}},130:function(t,e,n){var i=n(1545)["default"];t.exports={show:function(t){i.show({propsData:t})}}},136:function(t,e,n){t.exports=n(28)(39)},14:function(t,e,n){t.exports=n(28)(6)},15:function(t,e,n){t.exports=n(28)(33)},1506:function(t,e,n){"use strict";n.r(e);var i=n(32),r=n(39),o=n(3);var a={props:["isShow"],components:{VueStatus:i["default"]},data:function(){return{timerPing:null,timerExpire:null,isLoading:!0,isExpire:!1,code:"",error:""}},mounted:function(){this.actionRefresh()},methods:{startPing:function(){var t=this;window.clearTimeout(t.timerPing),t.timerPing=window.setTimeout((function(){if(t.isExpire)return t.startPing();r.scanPingAppScanned({query:{code:t.code},call:function(){return o.tips("扫码成功，正在跳转...",(function(){return t.$emit("submit")}))},error:function(e){if(2!==e.code)return t.startPing();window.clearTimeout(t.timerExpire),t.isExpire=!0}})}),2e3)},actionRefresh:function(){var t=this;window.clearTimeout(t.timer),t.isLoading=!0,r.scanGetCode({type:"GEt",call:function(e){var n=e.data;t.code=n.code,t.error="",t.timerExpire=window.setTimeout((function(){return t.isExpire=!0}),1e3*+n.expireSecs),t.startPing()},error:function(e){return t.error=e.msg},always:function(){t.isLoading=!1,t.isExpire=!1}})}}},s=n(0),c=Object(s.a)(a,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"pop-scan-wrapper"},[t.isLoading?n("div",{staticClass:"login-qrcode-wrapper fn-center"},[n("VueStatus",{attrs:{loading:!0}})],1):[n("div",{staticClass:"login-qrcode-wrapper"},[n("div",{staticClass:"login-qrcode"},[t.isExpire||t.error?n("div",{staticClass:"qrcode-mask"},[n("p",[t._v(t._s(t.isExpire?"二维码已失效":t.error))]),t._v(" "),n("button",{staticClass:"btn btn-primary btn-sm",attrs:{type:"button"},on:{click:t.actionRefresh}},[t._v("点击刷新")])]):t._e(),t._v(" "),n("img",{attrs:{src:"/qrcode/to-pc-code?code="+t.code}})]),t._v(" "),n("img",{staticClass:"guide-img",attrs:{src:"//static.nowcoder.com/fe/style/images/common/res/popup/1.png",alt:""}}),t._v(" "),t._m(0)]),t._v(" "),t._e()]],2)}),[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"scan-box"},[e("div",{staticClass:"icon-nc-scan"}),this._v(" "),e("div",{staticClass:"scan-tips"},[e("p",[this._v("打开"),e("a",{staticClass:"link-green",attrs:{href:"https://www.nowcoder.com/app",target:"_blank"}},[this._v("牛客手机APP")])]),e("p",[this._v("扫一扫登录")])])])}],!1,null,null,null).exports,l=n(230),u=n(2),d=n(1),f=n(9),p=n(21),h=n(12),g=n(3),v=n(25),m=n(17),w=n(13),y=n(39),b=n(178),x=document.createElement("A"),C=n(10);var k={ncPopup:function(t){var e=new(C.extend(this))(t);return g.wrap(e,{width:650,hasNoFooter:true,hasNoTitle:true}).listen("close",(function(){return e.$emit("close")})),e},props:["href","register"],components:{Scan:c},data:function(){return{isScanLoaded:!1,isScan:!1,mode:!1===this.register?"login":"register",openBigDay:"",loginType:"password",isLogining:!1,isRegistering:!1,loginCpn:{},registerCpn:{},wxHref:"",qqHref:"",wbHref:"",rrHref:"",dbHref:"",gitHref:""}},mounted:function(){var t=this;t.$nextTick((function(){t.initScan(),t.initCpn(),t.initCaptcha(),t.initShareHref(),t.getPublicKey(null,!0)}))},methods:{initScan:function(){var t=this,e=t.$watch("isScan",(function(n){n&&(t.isScanLoaded=!0,e())}))},initCpn:function(){var t=this,e=t.$refs;t.loginCpn={account:v.transform(e.loginAccount),pwd:v.transform(e.loginPwd),zip:b.initPhoneZip({renderTo:e.loginCountry}),accountPhone:v.transform(e.loginAccountPhone),captcha:v.transform(e.loginCaptcha)};var n=t.registerCpn={zip:b.initPhoneZip({renderTo:e.regCountry,showNow:!0}),account:v.transform(e.regAccount),captcha:v.transform(e.regCaptcha),pwd:v.transform(e.regPwd),pwd2:v.transform(e.regPwdRepeat)};function i(){u.trim(n.account.val())&&t.checkRegisterAccount()}n.zip.listen("change",i),n.account.listen("blur",i),n.pwd.listen("blur",d.bind(t.checkRegisterPwd,t)),n.pwd2.listen("blur",d.bind(t.checkRegisterPwd,t))},initCaptcha:function(){var t=this,e=t.registerCpn,n=t.loginCpn;t.registerAuthCaptcha=b.initCaptcha({btn:t.$refs.regCaptchaBtn,cpn:t,isPhone:!0,check:d.bind(t.checkRegisterAccount,t),val:function(){return"".concat(u.trim(e.zip.val())).concat(u.trim(e.account.val()))}}),b.initCaptcha({btn:t.$refs.loginCaptchaBtn,cpn:t,isPhone:!0,check:function(i){b.checkPhone({zip:n.zip,phone:n.accountPhone,needRegister:!0,call:function(r,o){if(o.isError||o.isRegister)return i&&i(!o.isError);n.accountPhone.setNone();var a=g.confirm("该手机还没注册，是否立即注册？",(function(){t.actionMode("register"),e.zip.val(n.zip.val()),e.account.val(n.accountPhone.val()),e.captcha.val(""),t.registerAuthCaptcha&&t.registerAuthCaptcha.send(),i&&i(!1)}),(function(){return i&&i(!1)}));a.okBtn.html("立即注册"),a.cancelBtn.html("暂不注册")}})},val:function(){return"".concat(u.trim(n.zip.val())).concat(u.trim(n.accountPhone.val()))}})},initShareHref:function(){var t=this,e=t.href,n={};(e=e&&e!==window.location.href?e:"")&&(x.href=e),n.callBack=e?x.href:undefined;var i=window.location.hostname;"www.nowcoder.com"!==i&&(n.callBackHostName=i);var r=w.isInHttps()?"https://":"http://";t.wxHref=p.addParam({callBack:window.location.href},"/oauth2/login/wechat_mp_index"),t.qqHref="https://graph.qq.com/oauth2.0/authorize?client_id=101003590&response_type=code&state=web&redirect_uri="+p.addParam(n,"".concat(r,"www.nowcoder.com/oauth2/qqconfig")),t.wbHref="https://api.weibo.com/oauth2/authorize?client_id=3023520088&response_type=code&state=web&scope=follow_app_official_microblog&redirect_uri="+p.addParam(n,r+"www.nowcoder.com/oauth2/sinaconfig"),t.rrHref="https://graph.renren.com/oauth/authorize?client_id=33356a41ddac4028a9ad64925e68c0e0&redirect_uri=http://www.nowcoder.com/oauth2/rrconfig&response_type=code&state=web",t.dbHref="https://www.douban.com/service/auth2/auth?client_id=075c6b46242f18c8161541d26c8d4a58&redirect_uri=http://www.nowcoder.com/oauth2/dbconfig&response_type=code&state=web",t.gitHref="https://github.com/login/oauth/authorize?client_id=1c539827b9400016d0c9&scope=user:email&redirect_uri="+p.addParam(n,"http://www.nowcoder.com/oauth2/gitconfig")+"&response_type=code&state=web",y.getOauthState({type:"GET",call:function(e){return t.wbHref="https://api.weibo.com/oauth2/authorize?client_id=3023520088&response_type=code&state=".concat(e.data||"web","&scope=follow_app_official_microblog&redirect_uri=")+p.addParam(n,r+"www.nowcoder.com/oauth2/sinaconfig")}})},clear:function(){d.forEach(this.loginCpn,(function(t){return t.setNone&&t.setNone()})),d.forEach(this.registerCpn,(function(t){return t.setNone&&t.setNone()}))},val:function(t){var e=this.loginCpn,n=this.registerCpn;if(this.isRegister){var i={zip:o=u.trim(n.zip.val())||"+86",phone:(t?o:"")+u.trim(n.account.val()),code:u.trim(n.captcha.val()),password:u.trim(n.pwd.val()),pwd2:u.trim(n.pwd2.val())};return t&&(i.cipherPwd=this.encrypt(i.password),i.method=1,delete i.zip,delete i.password,delete i.pwd2),i}var r=this.isPassword,o=u.trim(e.zip.val())||"+86",a=u.trim(e[r?"account":"accountPhone"].val());i={zip:o,email:t&&!r?(o||"")+a:a,code:u.trim(e.captcha.val()),pwd:u.trim(e.pwd.val()),remember:this.$refs.loginRember.checked?"true":"false"};t&&(r&&(i.cipherPwd=this.encrypt(i.pwd),delete i.code),delete i.zip,delete i.pwd);return i},check:function(t){var e=this.val(),n=this.loginCpn,i=this.registerCpn,r=this.isRegister,o=this.isPassword,a=!0;if(r)return e.code||(i.captcha.setErrorTips("验证码不能为空"),a=!1),a=this.checkRegisterPwd(!0)&&a,this.checkRegisterAccount((function(e){t&&t(a&&e)}));o?(f.isEmail(e.email)||f.isPhone(e.email)||/^\+\d+$/.test(e.email)||(n.account.setErrorTips("请输入正确的邮箱或手机"),a=!1),e.pwd||(n.pwd.setErrorTips("密码不能为空"),a=!1)):(("+86"===e.zip?f.isPhone(e.email):/\d+$/.test(e.email))||(n.accountPhone.setErrorTips("请输入正确的手机"),a=!1),e.code||(n.captcha.setErrorTips("验证码不能为空"),a=!1));t&&t(a)},checkRegisterAccount:function(t){b.checkPhone({zip:this.registerCpn.zip,phone:this.registerCpn.account,call:t})},checkRegisterPwd:function(t){var e=this.registerCpn;return b.checkPwd({ipt1:e.pwd,ipt2:e.pwd2,isSubmit:t})},encrypt:function(t){var e=new window.NCJSEncrypt;return e.setPublicKey(this.publicKey||""),e.encrypt(u.trim(t))},getPublicKey:function(t,e){var n=this;!function(t){n.publicKey&&t&&t(),!n.publicKey&&y.getLoginPublicKey({type:"GET",call:function(i){var r=i.data||{},o=r.rsaPublicKey;if(n.openBigDay=r.openBigDay,!o)return!e&&g.alert("获取公钥出错，请联系牛客工作人员");n.publicKey=o,t&&t()},error:function(t){return!e&&g.alert(t.msg)}})}((function(){return function(t){window.NCJSEncrypt&&t&&t(),!window.NCJSEncrypt&&l.js("//static.nowcoder.com/nc/jslib/jsencrypt.min.js",(function(){h.waitUtil({times:250,condition:function(){return!!window.NCJSEncrypt},call:t,error:function(){return!e&&g.alert("获取加密文件出错，请重试")}})}))}(t)}))},actionMode:function(t){this.mode=t||"register",this.clear(),this.popup&&this.popup.fixPosition()},actionLoginType:function(t){this.loginType=t,this.popup&&this.popup.fixPosition()},actionSubmit:function(t){t.preventDefault(),this[this.isRegister?"actionRegister":"actionLogin"]()},actionRegister:function(){var t=this;t.clear(),t.check((function(e){e&&t.getPublicKey((function(){t.isRegistering||(t.isRegistering=!0,y.register({body:t.val(!0),call:function(){return t.$emit("register")},error:function(e){var n=t.registerCpn,i=e.msg||"";i.indexOf("密码")>=0?(n.pwd.setErrorTips(i),n.pwd2.setErrorTips(i)):i.indexOf("验证码")>=0?n.captcha.setErrorTips(i):g.alert(i)},always:function(){return t.isRegistering=!1}}))}))}))},actionLogin:function(){var t=this;t.clear(),t.check((function(e){e&&t.getPublicKey((function(){t.isLogining||(t.isLogining=!0,y.login({body:t.val(!0),captcha:{type:m.captcha.login},call:function(){return t.$emit("login")},error:function(e){var n=t.loginCpn;if(!t.isPassword)return n.accountPhone.setErrorTips(e.msg);4===e.code?n.pwd.setErrorTips(e.msg||"密码不正确，请重试！"):n.account.setErrorTips(e.msg)},always:function(){return t.isLogining=!1}}))}))}))}},computed:{isRegister:function(){return"register"===this.mode},isLogin:function(){return"login"===this.mode},isPassword:function(){return"password"===this.loginType}}},S=Object(s.a)(k,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"pop-content"},[n("a",{staticClass:"pop-close",attrs:{href:"javascript:void(0);",title:"关闭"}}),t._v(" "),t._m(0),t._v(" "),n("div",{staticClass:"pop-reg-form clearfix"},[n("div",{staticClass:"login-type",staticStyle:{"z-index":"99"}},[t.isScan?n("a",{staticClass:"icon-nc-pclogin",attrs:{href:"javascript:void(0);"},on:{click:function(e){t.isScan=!1}}},[n("span",{staticClass:"login-type-tips"},[t._v("牛客账号登录")])]):n("a",{staticClass:"icon-nc-codelogin",attrs:{href:"javascript:void(0);"},on:{click:function(e){t.isScan=!0}}},[n("span",{staticClass:"login-type-tips"},[t._v("牛客APP扫码登录")])])]),t._v(" "),n("div",{staticClass:"input-section"},[t.isScanLoaded?n("Scan",{directives:[{name:"show",rawName:"v-show",value:t.isScan,expression:"isScan"}],on:{submit:function(e){return t.$emit("login")}}}):t._e(),t._v(" "),n("form",{directives:[{name:"show",rawName:"v-show",value:!t.isScan,expression:"!isScan"}],on:{submit:t.actionSubmit}},[n("div",{directives:[{name:"show",rawName:"v-show",value:t.isRegister,expression:"isRegister"}]},[n("div",{staticClass:"form-group"},[n("label",{staticClass:"control-label"},[t._v("手机号码")]),t._v(" "),n("div",{ref:"regAccount",staticClass:"control-group form-phone-fill"},[n("div",{ref:"regCountry",staticClass:"btn-group"}),n("input",{attrs:{type:"text",placeholder:"请输入手机号码"}})])]),t._v(" "),n("div",{staticClass:"form-group"},[n("label",{staticClass:"control-label"},[t._v("验证码")]),t._v(" "),n("div",{staticClass:"btn-group phone-code"},[n("div",{ref:"regCaptcha",staticClass:"control-group"},[n("input",{attrs:{type:"text",placeholder:"请输入验证码"}})]),t._v(" "),n("span",{staticClass:"input-group-btn"},[n("button",{ref:"regCaptchaBtn",staticClass:"btn btn-primary",staticStyle:{padding:"0 5px"}},[t._v("获取验证码")])])])]),t._v(" "),n("div",{staticClass:"form-group"},[n("label",{staticClass:"control-label"},[t._v("密码")]),t._v(" "),n("div",{ref:"regPwd",staticClass:"control-group"},[n("input",{attrs:{type:"password",placeholder:"请输入密码"}})])]),t._v(" "),n("div",{staticClass:"form-group"},[n("label",{staticClass:"control-label"},[t._v("重输密码")]),t._v(" "),n("div",{ref:"regPwdRepeat",staticClass:"control-group"},[n("input",{attrs:{type:"password",placeholder:"请重复输入密码"}})])]),t._v(" "),n("div",{staticClass:"form-group"},[n("div",{staticClass:"col-input-login"},[n("a",{staticClass:"btn btn-primary btn-block",attrs:{href:"javascript:void(0);"},on:{click:t.actionRegister}},[t._v("立即注册")])])]),t._v(" "),n("div",{staticClass:"pop-login-tips"},[t._v("已有牛客网账号？ "),n("a",{staticClass:"link-green",attrs:{href:"javascript:void(0);"},on:{click:function(e){return t.actionMode("login")}}},[t._v("立即登录")])])]),t._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:t.isLogin,expression:"isLogin"}]},[n("div",{directives:[{name:"show",rawName:"v-show",value:t.isPassword,expression:"isPassword"}],staticClass:"form-group"},[n("label",{staticClass:"control-label"},[t._v("邮箱/手机")]),t._v(" "),n("div",{ref:"loginAccount",staticClass:"control-group"},[n("input",{attrs:{type:"text",placeholder:"请输入邮箱/手机号码"}})])]),t._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:t.isPassword,expression:"isPassword"}],staticClass:"form-group"},[n("label",{staticClass:"control-label"},[t._v("密码")]),t._v(" "),n("div",{ref:"loginPwd",staticClass:"control-group"},[n("input",{attrs:{type:"password",placeholder:"请输入密码"}})])]),t._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:!t.isPassword,expression:"!isPassword"}],staticClass:"form-group"},[n("label",{staticClass:"control-label"},[t._v("手机号码")]),t._v(" "),n("div",{ref:"loginAccountPhone",staticClass:"control-group form-phone-fill"},[n("div",{ref:"loginCountry",staticClass:"btn-group"}),n("input",{attrs:{type:"text",placeholder:"请输入手机号码"}})])]),t._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:!t.isPassword,expression:"!isPassword"}],staticClass:"form-group"},[n("label",{staticClass:"control-label"},[t._v("验证码")]),t._v(" "),n("div",{staticClass:"btn-group phone-code"},[n("div",{ref:"loginCaptcha",staticClass:"control-group"},[n("input",{attrs:{type:"text",placeholder:"请输入验证码"}})]),t._v(" "),n("span",{staticClass:"input-group-btn"},[n("button",{ref:"loginCaptchaBtn",staticClass:"btn btn-primary",staticStyle:{padding:"0 5px"}},[t._v("获取验证码")])])])]),t._v(" "),n("div",{staticClass:"form-group about-pwd clearfix"},[n("div",{staticClass:"keep-pwd"},[n("label",[n("input",{ref:"loginRember",attrs:{type:"checkbox",checked:""}}),t._v(" 下次自动登录")])]),t._v(" "),n("a",{directives:[{name:"show",rawName:"v-show",value:t.isPassword,expression:"isPassword"}],staticClass:"forget-pwd",attrs:{href:"/forgot-pwd"}},[t._v(" 忘记密码？")])]),t._v(" "),n("div",{staticClass:"form-group"},[n("div",{staticClass:"col-input-login"},[n("a",{staticClass:"btn btn-primary btn-block",attrs:{href:"javascript:void(0);"},on:{click:t.actionLogin}},[t._v("立即登录")])])]),t._v(" "),t.isPassword?t._e():n("div",{staticClass:"pop-login-tips"},[n("a",{staticClass:"link-green",attrs:{href:"javascript:void(0);"},on:{click:function(e){return t.actionLoginType("password")}}},[t._v("账号密码登录")])]),t._v(" "),t.isPassword?n("div",{staticClass:"pop-login-tips"},[n("a",{staticClass:"link-green",attrs:{href:"javascript:void(0);"},on:{click:function(e){return t.actionLoginType("sms")}}},[t._v("短信验证登录")])]):t._e(),t._v(" "),n("div",{staticClass:"pop-login-tips"},[t._v("还没有牛客网账号？ "),n("a",{staticClass:"link-green",attrs:{href:"javascript:void(0);"},on:{click:function(e){return t.actionMode("register")}}},[t._v("极速注册")])])]),t._v(" "),n("input",{staticClass:"nk-invisible",attrs:{type:"submit"}})]),t._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:!t.isScan,expression:"!isScan"}],staticClass:"pop-login-wrapper"},[n("a",{staticClass:"nc-js-action-oauth pop-login-web pop-login-web1",attrs:{href:"javascript:void(0);","data-href":t.qqHref}}),t._v(" "),n("a",{staticClass:"nc-js-action-oauth pop-login-web pop-login-web2",attrs:{href:"javascript:void(0);","data-href":t.wxHref}}),t._v(" "),n("a",{staticClass:"nc-js-action-oauth pop-login-web pop-login-web3",attrs:{href:"javascript:void(0);","data-href":t.wbHref}}),t._v(" "),n("span",{staticClass:"pop-login-web pop-login-more"},[n("i",{staticClass:"icon-nc-more2"}),t._v(" "),n("div",{staticClass:"tooltip bottom tooltip-info"},[t._m(1),t._v(" "),n("div",{staticClass:"tooltip-inner"},[n("a",{staticClass:"nc-js-action-oauth pop-login-web pop-login-web5",attrs:{href:"javascript:void(0);","data-href":t.rrHref}})])])])])],1),t._v(" "),t.isRegister&&!t.isScan?n("p",{staticClass:"pop-reg-tips"},[t.openBigDay?[t._v("网站注册功能维护中，暂停注册，"+t._s(t.openBigDay)+"后开放")]:[t._v('点击"立即注册"按钮，或使用第三方网站账号登录，即表示你同意'),n("br"),n("a",{staticClass:"link-green",attrs:{href:"https://static.nowcoder.com/protocol/register.html",target:"_blank"}},[t._v("《注册协议》")]),t._v(" 和 "),n("a",{staticClass:"link-green",attrs:{href:"https://static.nowcoder.com/protocol/privacy-policy.html",target:"_blank"}},[t._v("《隐私政策》")])]],2):t._e()])])}),[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"pop-reg-info"},[n("div",{staticClass:"item"},[n("div",{staticClass:"title"},[n("span",{staticClass:"txt"},[t._v("1230+")]),n("span",{staticClass:"unit"},[t._v("套")])]),n("div",{staticClass:"cont"},[t._v("企业独家授权真题，在线做")])]),t._v(" "),n("div",{staticClass:"item"},[n("div",{staticClass:"title"},[n("span",{staticClass:"txt"},[t._v("18500+")]),n("span",{staticClass:"unit"},[t._v("篇")])]),n("div",{staticClass:"cont"},[t._v("校招/社招/实习面经，免费看")])]),t._v(" "),n("div",{staticClass:"item"},[n("div",{staticClass:"title"},[n("span",{staticClass:"txt"},[t._v("1000+")])]),n("div",{staticClass:"cont"},[t._v("名企学长学姐在线，帮你内推")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"tooltip-arrow"},[e("i")])}],!1,null,null,null);e["default"]=S.exports},153:function(t,e,n){t.exports=n(28)(18)},1539:function(t,e,n){"use strict";n.r(e);var i=n(10),r=n.n(i),o=n(95),a=n(32),s=n(75),c=n(103),l=n(9),u=n(39),d=n(2),f=n(1);var p={data:function(){return{country:"",province:"",isLoading:!0,error:"",visible:!1,allCityChecked:!1,allHotCitiesCheck:!1,oConfCall:{},provinceCpnOption:[],countryCpnOption:[],levelCount:0,cityList:{},hotCities:[],seachInputValue:"",selectCityList:{},checkedOption:undefined,multiSelect:!1,selectArray:[],searchArray:[]}},show:function(t){t=t.propsData||{};var e=new(r.a.extend(this))(t);e.multiSelect=t.multiSelect,e.oConfCall=t.call,e.multiSelect?e.selectArray=t.value.split(" "):e.checkedOption=t.value;return e.visible=t.visible,e.$mount(),e},components:{NcPopup:o.a,Status:a["default"],Checkbox:s.a,Select:c.a},mounted:function(){var t=this;t.isLoading=!0,f.forEach(["selectAllList","hotCities"],(function(e){return t.$watch(e,(function(){var e=f.every(t.hotCities,(function(t){return t.checked})),n=f.every(t.selectAllList,(function(t){return t.checked}));t.allHotCitiesCheck=!!t.hotCities.length&&e,t.allCityChecked=!!t.selectAllList.length&&n}),{deep:!0})})),t.initCity()},computed:{selectAllList:function(){return this.seachInputValue?this.cityList[this.seachInputValue]:3===this.levelCount?this.cityList[this.province]:this.cityList[this.country]},HasSelectList:function(){var t,e=this,n=[];f.forEach(e.selectCityList,(function(t,i){t&&n.push(i),t||delete e.selectCityList[i]}));var i=n.length;return(t=n.length>10)?{list:n.splice(0,10),bLength:t,length:i}:{list:n,bLength:t,length:i}}},methods:{initValue:function(t){var e=this;e.countryCpnOption=f.map(t.allCities,(function(t){return{text:t.name,value:t.name,levelCount:t.levelCount,provinceCpnOption:3===t.levelCount?f.map(t.level2,(function(t){return{text:t.name,value:t.name,cityList:f.map(t.level3,(function(t){return{name:t.name,checked:!1}}))}})):[],cityList:2===t.levelCount?f.map(t.level2,(function(t){return{name:t.name,checked:!1}})):[]}})),e.hotCities=f.map(t.hotCities,(function(t){return{name:t,checked:!1}})),f.forEach(e.countryCpnOption,(function(t){t.cityList.length&&f.forEach(t.cityList,(function(t){e.searchArray.push({name:t.name,checked:t.checked})})),t.provinceCpnOption.length&&f.forEach(t.provinceCpnOption,(function(t){f.forEach(t.cityList,(function(t){e.searchArray.push({name:t.name,checked:t.checked})}))}))}))},initCity:function(){var t=this;u.getCityMore({type:"GET",call:function(e){t.isLoading=!1,t.initValue(e.data),t.fixCity(),t.showSelectValue(),t.$nextTick((function(){t.$refs.ncpopup.fixPosition()}))},error:function(e){t.error=e.msg},always:function(){return t.isLoading=!1}})},fixCity:function(t){var e=this;e.country=e.country?e.country:"中国";var n=f.findIndex(e.countryCpnOption,(function(t){return e.country===t.text}));if(e.provinceCpnOption=e.countryCpnOption[n].provinceCpnOption,e.levelCount=e.countryCpnOption[n].levelCount,e.province=e.province&&t||3!==e.levelCount?e.province:e.provinceCpnOption[0].text,e.seachInputValue)e.cityList[e.seachInputValue]=[],f.forEach(e.searchArray,(function(t){f.some(["name"],(function(n){return l.searchRegExp(e.seachInputValue).test(l.decodeHTML(t[n]))}))&&(e.cityList[e.seachInputValue].push({name:t.name,checked:t.checked}),f.forEach(e.cityList[e.seachInputValue],(function(t){t.checked=e.selectCityList[t.name]?e.selectCityList[t.name]:t.checked})))}));else if(e.country&&3===e.levelCount){var i=f.findIndex(e.provinceCpnOption,(function(t){return e.province===t.text}));e.cityList[e.province]=e.provinceCpnOption[i].cityList,f.forEach(e.cityList[e.province],(function(t){t.checked=e.selectCityList[t.name]?e.selectCityList[t.name]:t.checked}))}else e.cityList[e.country]=e.countryCpnOption[n].cityList},showSelectValue:function(){var t=this;t.selectArray.length>0&&(f.forEach(t.selectArray,(function(e){f.forEach(t.countryCpnOption,(function(n){n.cityList.length>0&&f.forEach(n.cityList,(function(n){n.name===e&&(t.$set(t.selectCityList,n.name,!0),n.checked=!0)})),n.provinceCpnOption.length>0&&f.forEach(n.provinceCpnOption,(function(n){f.forEach(n.cityList,(function(n){n.name===e&&(t.$set(t.selectCityList,n.name,!0),n.checked=!0)}))}))}))})),f.forEach(t.hotCities,(function(e,n){e.checked=!!t.selectCityList[e.name]})))},actionCancelSelect:function(t){this.selectCityList[t]=!1},actionCancelAllSelect:function(){var t=this;t.multiSelect&&f.forEach(t.cityList,(function(e,n){f.forEach(t.cityList[n],(function(t,e){t.checked=!1}))})),t.selectCityList={},t.multiSelect||(t.checkedOption="")},actionSubmit:function(){if(this.multiSelect){var t="";f.forEach(this.selectCityList,(function(e,n){e&&(t+=n+" ")})),this.oConfCall(d.trim(t))}else this.oConfCall(this.checkedOption)},actionChangHotCheck:function(t,e){var n=f.findIndex(this.hotCities,(function(t){return t.name===e})),i=f.findIndex(this.selectAllList,(function(t){return t.name===e}));-1!==i&&(this.selectAllList[i].checked=t);this.hotCities[n].checked=t},actionHotAllCheck:function(t){var e=this;f.forEach(e.hotCities,(function(n){e.$set(e.selectCityList,n.name,t),n.checked=t;var i=f.findIndex(e.selectAllList,(function(t){return t.name===n.name}));-1!==i&&(e.selectAllList[i].checked=t)}))},actionChangeChecked:function(t,e){var n=f.findIndex(this.selectAllList,(function(t){return t.name===e}));this.selectAllList[n].checked=t},actionChangeAllCity:function(t){var e=this;f.forEach(e.selectAllList,(function(n){e.$set(e.selectCityList,n.name,t)}))}}},h=(n(673),n(0)),g=Object(h.a)(p,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("nc-popup",{ref:"ncpopup",attrs:{isShow:t.visible,title:"选择你的城市",width:960},on:{cancel:function(e){t.visible=!1},ok:t.actionSubmit},scopedSlots:t._u([{key:"content",fn:function(){return[t.isLoading?n("Status",{attrs:{loading:!0}},[t._v("加载中...")]):t.error?n("Status",{domProps:{innerHTML:t._s(t.error)}}):n("div",{staticClass:"pop-filter-box"},[n("div",{staticClass:"pop-filter-wrap js-filter-box"},[n("div",{staticClass:"search-head"},[n("div",{staticClass:"search-input-wrap"},[n("label",{staticClass:"icon-search",attrs:{"for":"search"}}),t._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:t.seachInputValue,expression:"seachInputValue"}],attrs:{type:"text",placeholder:"输入关键词查找城市",autocomplete:"off"},domProps:{value:t.seachInputValue},on:{input:[function(e){e.target.composing||(t.seachInputValue=e.target.value)},function(e){return t.fixCity()}]}})]),t._v(" "),t.multiSelect?n("div",{staticClass:"check-hot-city"},[n("label",[t._v("热门城市：")]),t._v(" "),t._l(t.hotCities,(function(e,i){return n("div",{key:i,staticClass:"hot-city"},[n("checkbox",{on:{input:function(n){return t.actionChangHotCheck(n,e.name)}},model:{value:t.selectCityList[e.name],callback:function(n){t.$set(t.selectCityList,e.name,n)},expression:"selectCityList[city.name]"}},[t._v(t._s(e.name))])],1)})),t._v(" "),n("checkbox",{on:{click:function(e){return t.actionHotAllCheck(!t.allHotCitiesCheck)}},model:{value:t.allHotCitiesCheck,callback:function(e){t.allHotCitiesCheck=e},expression:"allHotCitiesCheck"}},[t._v("全选")])],2):n("div",{staticClass:"check-hot-city"},[n("label",[t._v("热门城市：")]),t._v(" "),t._l(t.hotCities,(function(e,i){return n("div",{key:i,staticClass:"hot-city"},[n("checkbox",{attrs:{radio:!0,value:t.checkedOption===e.name},on:{input:function(n){return t.checkedOption=n?e.name:t.checkedOption}}},[t._v(t._s(e.name))])],1)}))],2)]),t._v(" "),n("div",{staticClass:"select-city-box"},[n("label",[t._v("已选中：")]),t._v(" "),t.multiSelect?n("div",{staticClass:"select-city"},[t._l(t.HasSelectList.list,(function(e,i){return n("a",{key:i,attrs:{href:"javascript:void(0);"},on:{click:function(n){return t.actionCancelSelect(e)}}},[t._v(t._s(e+" "))])})),t._v(" "),n("span",{directives:[{name:"show",rawName:"v-show",value:t.HasSelectList.bLength,expression:"HasSelectList.bLength"}]},[t._v("等 "),n("span",{staticStyle:{color:"#25bb9b"}},[t._v(t._s(t.HasSelectList.length))]),t._v("座城市")])],2):n("div",{staticClass:"select-city"},[n("a",{attrs:{href:"javascript:void(0);"}},[t._v(t._s(t.checkedOption))])]),t._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:t.HasSelectList.list.length,expression:"HasSelectList.list.length"}],staticClass:"pop-cancel-box"},[t._v("\n                        ("),n("span",{on:{click:t.actionCancelAllSelect}},[t._v("清除全部")]),t._v(")\n                    ")])]),t._v(" "),n("Select",{attrs:{needSearch:!0,options:t.countryCpnOption},on:{input:function(e){return t.fixCity()}},model:{value:t.country,callback:function(e){t.country=e},expression:"country"}}),t._v(" "),n("Select",{directives:[{name:"show",rawName:"v-show",value:3===t.levelCount,expression:"levelCount === 3"}],attrs:{needSearch:!0,options:t.provinceCpnOption},on:{input:function(e){return t.fixCity(!0)}},model:{value:t.province,callback:function(e){t.province=e},expression:"province"}}),t._v(" "),n("div",{staticClass:"select-city-all"},[t.multiSelect?n("checkbox",{on:{click:function(e){return t.actionChangeAllCity(!t.allCityChecked)}},model:{value:t.allCityChecked,callback:function(e){t.allCityChecked=e},expression:"allCityChecked"}},[t._v("全选")]):t._e()],1)],1),t._v(" "),t.selectAllList.length?n("div",[t.multiSelect?n("div",{staticClass:"pop-school-box"},t._l(t.selectAllList,(function(e,i){return n("div",{key:i,staticClass:"option check-box-item"},[n("checkbox",{on:{input:function(n){return t.actionChangeChecked(n,e.name)}},model:{value:t.selectCityList[e.name],callback:function(n){t.$set(t.selectCityList,e.name,n)},expression:"selectCityList[city.name]"}},[t._v(t._s(e.name))])],1)})),0):n("div",{staticClass:"pop-school-box"},t._l(t.selectAllList,(function(e,i){return n("div",{key:i,staticClass:"option check-box-item"},[n("checkbox",{attrs:{radio:!0,value:t.checkedOption===e.name},on:{input:function(n){return t.checkedOption=n?e.name:t.checkedOption}}},[t._v(t._s(e.name))])],1)})),0)]):n("div",{staticClass:"pop-city-box"},[t._v("\n                没有数据\n            ")])])]},proxy:!0}])})}),[],!1,null,"743101f2",null).exports;e["default"]={show:function(t){g.show({propsData:t})}}},1545:function(t,e,n){"use strict";n.r(e);var i=n(14),r=n.n(i),o=n(64),a=n.n(o),s=n(32),c=n(113),l=n(103);function u(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function d(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?u(Object(n),!0).forEach((function(e){r()(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var f=n(2),p=n(29),h=n(1),g=n(9),v=n(3),m=n(39),w=n(17),y=n(178),b=n(10),x=n(211),C=n(12);var k={show:function(t){var e=(t=t||{}).propsData||{},n=new(b.extend(this))(t);return v.wrap(n,{title:e.title||"10s补全资料，解锁全部功能。",width:520,hasNoFooter:!0,close:e.closeCb}),n},components:{Status:s["default"],Ipt:c.a,Select:l.a},props:["showEmoji","callCb","closeCb"],data:function(){var t=(new Date).getFullYear();return{isLoading:!0,error:"",name:"",eduLevel:"",school:"",workTime:"",jobCategory:[""],jobIds:[""],eduLevelOption:h.map(w.eduNames,(function(t){return{text:t,value:t}})),workTimeOption:h.map(h.range(4,1980-t,-1),(function(e){return{text:t+e,value:"".concat(t+e)}})),forbiddenName:"0",canEditName:!0,allJobs:[],jobCategoryOption:[],jobTypeOption:[],jobMap:{},tips:"180天内只可修改1次"}},mounted:function(){var t=this;t.jobIds=[],m.getUserNameUpdateTime({type:"GET",call:function(e){var n=e.data.lastUpdateTime;t.tips="180天内只可修改1次"+(n?"，最近一次修改："+C.form(new Date(n),"yyyy-MM-dd"):"")}}),t.fetchData((function(e){var n=e.allJobs||[],i={};h.forEach(n,(function(t){return h.forEach(t.jobs,(function(t){return i[t.id]=t.name}))})),t.forbiddenName=h.id(e.forbiddenUpdateName),t.canEditName="0"===t.forbiddenName,t.allJobs=n,t.jobCategoryOption=h.map(n,(function(t){return{text:t.parent,value:t.parent}})),t.jobMap=i,t.name=f.trim(e.name),t.school=f.trim(e.school),t.eduLevel=f.trim(e.eduLevel),+e.workTime&&(t.workTime="".concat(e.workTime)),t.jobIds=g.split(e.job,","),t.$nextTick((function(){t.initCpn(),t.initJob(),t.popup.fixPosition()}))}))},methods:{initCpn:function(){var t=this.$refs;y.initEduSchool({edu:t.eduLevel,school:t.school})},initJob:function(){var t=this,e=t.allJobs;r(),t.$watch("jobCategory",(function(n,i){var o=n.length,s=Math.max(o,i.length),c=t.isInWork;h.forCount(s,(function(i){if(!(i>=o)){var r=n[i];if(!r)return t.jobIds[i]=c?"":[];var s=h.find(e,(function(t){return t.parent===r}));t.jobTypeOption[i]=h.map(s.jobs,(function(t){return{text:t.name,value:t.id}})),t.jobTypeOption=a()(t.jobTypeOption)}})),r()})),t.$watch("isInWork",(function(e){e&&t.actionDel(1),t.jobIds.length=Math.min(t.jobIds.length,e?1:2),h.forEach(t.jobIds,(function(n,i){var r=h.isArray(n);t.jobIds[i]=e?r?n[0]||"":n||"":r?n:n?[n]:[]})),t.jobIds=a()(t.jobIds)}));var n=[],i=h.toMap(t.jobIds,(function(t){return{key:t}}));function r(){var n=h.map(t.jobCategory,(function(n,i){var r,o,s=a()(t.jobCategory);return s.splice(i,1),r=s,o=[],h.forEach(e,(function(t){h.contains(r,t.parent)||o.push({text:t.parent,value:t.parent})})),o}));JSON.stringify(n)!==JSON.stringify(t.jobCategoryOption)&&(t.jobCategoryOption=n)}h.forEach(e,(function(t){var e=[];h.forEach(t.jobs,(function(t){return i[t.id]&&e.push(t.id)})),e.length>0&&n.push({id:t.parent,items:e})})),n.sort((function(t,e){return e.items.length-t.items.length})),n.length=Math.min(n.length||1,t.isInWork?1:2),t.jobCategory=h.map(n,(function(t){return t?t.id:""})),t.jobIds=h.map(n,(function(e){return e?t.isInWork?e.items[0]||"":e.items:t.isInWork?"":[""]}))},fetchData:function(t){var e=this;e.isLoading=!0,m.getBasicInfo({type:"GET",call:function(n){var i=n.data,r=i.basicInfo.educationInfo||"";e.isLoading=!1,t&&t({name:i.basicInfo.nickname,school:/填写/.test(r)?"":r,eduLevel:i.additionInfo.eduLevel,workTime:i.additionInfo.workTime,job:i.additionInfo.job,forbiddenUpdateName:h.id(i.forbiddenUpdateName),allJobs:i.allJobs})},error:function(t){return e.error=t.msg},always:function(){return e.isLoading=!1}})},check:function(t){var e=this,n=e.$refs,i=e.valData,r=e.isInWork,o=!0;function a(t,e){t&&t.setError&&t.setError(e),o=!1}!i.eduLevel&&a(n.eduLevel),!i.school&&a(n.school,"学校不能为空"),!i.workTime&&a(n.workTime),h.forEach(e.jobCategory,(function(t,i){var o=e.jobIds[i];!t&&a(n.jobCategory[i]),(r?!o:0===o.length||!h.every(o,(function(t){return!!t})))&&a(n.jobId[i])})),e.checkName((function(e){return t(o&&e)}))},checkName:function(t){var e=this.$refs.name,n=this.nameMap=this.nameMap||{},i=f.trim(this.name),r=n[i];if(!i)return o("起一个响亮的名字吧");if(i.length>25)return o("昵称不能大于25字符");if(!0===r)return o("昵称已经被占用");if(!1===r)return t&&t(!0);function o(n){e.setError(n),t&&t(!1)}m.checkNickName({query:{nickname:i},call:function(){n[i]=!1,t&&t(!0)},error:function(e){var r=2===e.code;n[i]=!!r||undefined,r?o("昵称已经被占用"):t&&t(!0)}})},checkSensitive:function(t,e){var n=this.$refs[t],i=f.trim(this[t]);x.checkSensitive({word:i,isStrong:"name"===t,call:function(i){e&&e(i),i&&(n.setNone(),"name"===t&&n.setError("昵称含有违禁词汇"))}})},actionClickJob:function(t,e){if(!this.workTime)return v.alert("请先选择毕业年份吧");if("type"===t&&!this.jobCategory[e])return v.alert("请先选择职位类别吧")},actionAdd:function(){this.jobCategory.push("")},actionDel:function(t){var e=this.jobCategory||[];if(t>=e.length)return;e.splice(t,1),this.jobIds.splice(t,1)},actionSubmit:function(){var t=this,e=t.$el;t.check((function(n){n&&!p.mark(e)&&m.completeness({body:t.valData,call:function(e){t.callCb&&t.callCb(d(d({},t.valData),{},{isInWork:t.isInWork})),t.popup.close()},error:function(t){return v.alert(t.msg)},always:function(){return p.clear(e)}})}))}},computed:{valData:function(){var t=[];return h.forEach(this.jobIds,(function(e){return h.isArray(e)?t=t.concat(e):t.push(e)})),t=h.filter(this.jobIds,(function(t){return!!t})),t=h.uniq(t),{name:f.trim(this.name),eduLevel:f.trim(this.eduLevel),school:f.trim(this.school),workTime:f.trim(this.workTime),job:t.join(",")}},isInWork:function(){var t=new Date,e=t.getFullYear(),n=t.getMonth()+1,i=+this.workTime||0;return i&&i<e||i===e&&n>=8}}},S=n(0),E=Object(S.a)(k,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[t.isLoading?n("Status",{attrs:{loading:!0}},[t._v("加载中...")]):t.error?n("Status",{domProps:{innerHTML:t._s(t.error)}}):n("div",{staticClass:"pop-info-complete-v2 clearfix"},[t.showEmoji?n("div",{staticClass:"fn-center mb4"},[n("img",{staticStyle:{width:"108px",height:"99px",display:"block",margin:"0px auto"},attrs:{src:"//static.nowcoder.com/fe/style/images/common/res/tips/8.png"}})]):t._e(),t._v(" "),n("div",{staticClass:"form-group"},[n("Ipt",{ref:"name","class":t.canEditName?"":"js-nc-title-tips",attrs:{placeholder:"昵称",isDisabled:!t.canEditName,title:t.canEditName?"":"2"===t.forbiddenName?"近期暂不支持修改昵称":t.tips,focusTips:t.canEditName?t.tips:""},on:{blur:function(e){return t.checkSensitive("name")}},model:{value:t.name,callback:function(e){t.name=e},expression:"name"}})],1),t._v(" "),n("div",{staticClass:"form-group"},[n("Select",{ref:"eduLevel",attrs:{options:t.eduLevelOption,text:"最高学历"},model:{value:t.eduLevel,callback:function(e){t.eduLevel=e},expression:"eduLevel"}})],1),t._v(" "),n("div",{staticClass:"form-group"},[n("Ipt",{ref:"school",attrs:{placeholder:"你的学校"},model:{value:t.school,callback:function(e){t.school=e},expression:"school"}})],1),t._v(" "),n("div",{staticClass:"form-group"},[n("Select",{ref:"workTime",attrs:{options:t.workTimeOption,text:"毕业年份"},model:{value:t.workTime,callback:function(e){t.workTime=e},expression:"workTime"}})],1),t._v(" "),t._l(t.jobCategory,(function(e,i){return n("div",{key:i,staticClass:"complete-job-line",on:{click:function(e){return t.actionClickJob("line")}}},[n("Select",{ref:"jobCategory",refInFor:!0,attrs:{isDisabled:!t.workTime,options:t.jobCategoryOption[i],text:t.isInWork?"从事职位类别":(0===i?"":"第二")+"意向职位类别"},model:{value:t.jobCategory[i],callback:function(e){t.$set(t.jobCategory,i,e)},expression:"jobCategory[index]"}}),t._v(" "),t.isInWork?n("Select",{key:"one"+i,ref:"jobId",refInFor:!0,attrs:{isDisabled:!t.workTime||!t.jobCategory[i],options:t.jobTypeOption[i],text:t.isInWork?"从事职位":(0===i?"":"第二")+"意向职位"},nativeOn:{click:function(e){return e.stopPropagation(),t.actionClickJob("type",i)}},model:{value:t.jobIds[i],callback:function(e){t.$set(t.jobIds,i,e)},expression:"jobIds[index]"}}):n("Select",{key:"multi"+i,ref:"jobId",refInFor:!0,attrs:{isMulti:!0,isDisabled:!t.workTime||!t.jobCategory[i],options:t.jobTypeOption[i],text:t.isInWork?"从事职位":(0===i?"":"第二")+"意向职位"},nativeOn:{click:function(e){return e.stopPropagation(),t.actionClickJob("type",i)}},model:{value:t.jobIds[i],callback:function(e){t.$set(t.jobIds,i,e)},expression:"jobIds[index]"}}),t._v(" "),t.workTime&&!t.isInWork?[t.jobCategory.length<=1?n("a",{key:"add"+i,staticClass:"item-oprt icon-nc-plus js-nc-title-tips",attrs:{href:"javascript:void(0);",title:"新增第二志愿职位类别"},on:{click:t.actionAdd}}):t._e(),t._v(" "),t.jobCategory.length>1?n("a",{key:"del"+i,staticClass:"item-oprt icon-nc-minus js-nc-title-tips",attrs:{href:"javascript:void(0);",title:"删除本类意向职位"},on:{click:function(e){return t.actionDel(i)}}}):t._e()]:t._e()],2)})),t._v(" "),n("a",{staticClass:"btn btn-primary btn-lg",attrs:{href:"javascript:void(0);"},on:{click:t.actionSubmit}},[t._v("确定")])],2)],1)}),[],!1,null,null,null);e["default"]=E.exports},1547:function(t,e,n){"use strict";n.r(e);var i=n(45),r=n(53);var o={props:["isNeed","judgeType","showDbKey"],data:function(){var t="".concat(this.showDbKey||"codeEditorShowModeTips","|").concat(this.judgeType||"-1"),e=!i.get(t);return{dbKey:t,isShow:e}},mounted:function(){var t=this;r.listen("codeEditorShowModeTips",(function(e){"".concat(e)==="".concat(t.judgeType)&&(i.set(t.dbKey,!0),t.isShow=!1)}))},methods:{actionShow:function(){if(this.isShow=!this.isShow,this.isShow)return;i.set(this.dbKey,!0),r.fire("codeEditorShowModeTips",this.judgeType,!1)}},computed:{title:function(){return this.isLeetCode?"核心代码模式":this.isSql?"SQL编程":"ACM模式"},desc:function(){return this.isLeetCode?"代码框中预设代码已经指定好类名、方法名、参数名，请勿修改或重新命名，直接返回值即可":this.isSql?"请参考样例了解数据表结构，并根据题目描述使用对应的语言编写查询语句":"请通过代码实现题目，过程中的输入输出处理方式请参考题目输入输出描述或左侧例题"},isLeetCode:function(){return"1"==="".concat(this.judgeType)},isSql:function(){return"4"==="".concat(this.judgeType)},needShow:function(){return!!{0:!0,1:!0,4:!0}[this.judgeType]}}},a=n(0),s=Object(a.a)(o,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.isNeed&&t.needShow?n("div",{staticClass:"core-code-mod"},[n("a",{attrs:{href:"javascript:void(0);"},on:{click:t.actionShow}},[t._v(t._s(t.title))]),t._v(" "),t.isShow?n("div",{staticClass:"core-code-list"},[n("div",{staticClass:"item"},[n("div",{staticClass:"hd"},[n("span",{staticClass:"txt"},[t._v(t._s(t.title))])]),t._v(" "),n("div",{staticClass:"bd"},[n("div",[t._v(t._s(t.desc))]),t._v(" "),n("div",{staticClass:"txt-center"},[n("a",{staticClass:"btn btn-primary btn-xxs plr-2",staticStyle:{width:"auto"},attrs:{href:"javascript:void(0);"},on:{click:t.actionShow}},[t._v("我知道了")])])])])]):t._e()]):t._e()}),[],!1,null,null,null);e["default"]=s.exports},1548:function(t,e,n){"use strict";n.r(e);var i=n(305),r=n(2),o=n(3),a=n(32)["default"],s=n(47),c=n(1);var l={props:["isMain","getMainTips","selfTestWarning","systemCase","noSelfTestTreeViewHref"],components:{Status:a},data:function(){return{isLoading:!1,error:"",tips:null,isInTest:!1,input:"",output:""}},mounted:function(){var t=this;t.$watch("isInTest",(function(e){e&&(t.$refs.input.focus(),t.isMain&&t.getMainTips&&(t.isLoading=!0,t.getMainTips({call:function(e){t.error="",t.isLoading=!1,t.tips=e,t.resize(),t.$nextTick((function(){function e(e,n,r){var o=s.show({target:e,content:"".concat(r||"参数示例："+n.value+(n.moreDesc?"\n参数说明："+n.moreDesc:""),'<br /><a href="javascript:void(0)" class="link-green"><i class="icon-nc-binary-tree"></i>树结构预览</a>')});t.$ncPushChild(o),o.listen("show",(function(){return o.contentEl.css("textAlign","left")})),o.getEl().on("click","a.link-green",(function(){i.a.show({treeData:n.value,noHref:t.noSelfTestTreeViewHref}),o.hide()}))}e(t.$refs.resultTree,t.result,"输出示例："+t.result.value+(t.result.returnMoreDesc?"\n输出说明："+t.result.returnMoreDesc:"")),c.forEach(t.$refs.paramTree,(function(n){var i=r(n).attr("data-index");e(n,t.params[i])}))}))},error:function(e){t.tips=null,t.isLoading=!1,t.error=e.msg}})))}))},methods:{resize:function(t,e){var n=this;if(!n.isInTest)return;n.$nextTick((function(){var t=n.$refs,e=r(t.body);e.outerHeight(r(n.$el).height()-r(t.head).outerHeight());var i=e.height()-(n.hasSystemCase?r(t.caseList).outerHeight():0);if(!n.isLoading&&!n.error){var o=r(t.inputMod),a=r(t.outputMod);o.outerHeight(i/2),a.outerHeight(i/2);var s=o.height()-(n.hasParams?r(t.inputHd).outerHeight():0),c=a.height()-(n.hasResult?r(t.outputHd).outerHeight():0);r(t.inputDv).outerHeight(s),r(t.outputDv).outerHeight(c),r(t.input).outerHeight(s),r(t.output).outerHeight(c)}}))},ationShowExplain:function(){new o({title:"代码自测功能使用提示",hasNoFooter:!0,width:600,content:'\n        <div class="pop-code-notice">\n            <div class="pop-info-tips">'.concat(this.selfTestWarning,'</div>\n            <p>1.填写输入数据和你期待的结果</p>\n            <p>2.点击“自测调试”，如果你输入的数据得到的实际输出与你期待的输出一致，则表示你的测试数据通过，会有如下提示：</p>\n            <img src="//uploadfiles.nowcoder.com/images/20180823/56_1535005008976_AD4F6DE9FF11BCC9697747A2B50BC911" style="width:550px;height:100px;" />\n            <p>如果你输入的数据得到的实际输出与你期待的输出不一致，则表示你的测试数据不通过，会有如下提示：</p>\n            <img src="//uploadfiles.nowcoder.com/images/20180823/56_1535005392947_E44F06C1B49DDAE84EB477856E41381F" style="width:550px;height:100px;" />\n        </div>\n        <div class="submit-btnbox"><a href="javascript:void(0);" class="btn btn-primary js-close-popup">关闭提示</a></div>')})},actionExist:function(){this.$emit("exist")},actionCase:function(t){this.input=t.input||"",this.output=t.output||""}},computed:{hasSystemCase:function(){return(this.systemCase||[]).length>0},hasParams:function(){return this.isMain&&this.params.length>0},hasResult:function(){return this.isMain&&!!this.result},params:function(){return(this.tips||{}).paramValues||[]},result:function(){return(this.tips||{}).returnValue},paramsTips:function(){return(this.tips||{}).paramTotalValue||""}}},u=n(0),d=Object(u.a)(l,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{directives:[{name:"show",rawName:"v-show",value:t.isInTest,expression:"isInTest"}],staticClass:"self-test-main"},[n("div",{ref:"head",staticClass:"self-test-hd"},[n("span",[t._v("根据本题要求输入你自测的用例，"),n("a",{staticClass:"link-green",attrs:{href:"javascript:void(0);"},on:{click:t.ationShowExplain}},[t._v("点击了解更多")])]),t._v(" "),n("a",{staticClass:"link-green float-right",attrs:{href:"javascript:void(0);"},on:{click:t.actionExist}},[t._v("返回代码编辑器")])]),t._v(" "),n("div",{ref:"body",staticClass:"self-test-bd"},[t.isMain&&t.isLoading?n("Status",{attrs:{loading:!0}}):t.isMain&&t.error?n("Status",[t._v(t._s(t.error))]):[n("div",{ref:"inputMod",staticClass:"test-mod-item"},[t.hasParams?n("div",{ref:"inputHd",staticClass:"hd"},[n("span",[t._v("本题输入共"+t._s(t.params.length)+"个参数，参数之间使用英文逗号间隔，类型依次为：")]),t._v(" "),t._l(t.params,(function(e,i){return["TREE_NODE"===e.dataType&&"DEFALUT"===e.container?n("a",{key:i,ref:"paramTree",refInFor:!0,staticClass:"test-type-tag",attrs:{"data-index":i,href:"javascript:void(0);"}},[t._v(t._s(e.type))]):n("a",{key:i,staticClass:"test-type-tag js-nc-title-tips",attrs:{href:"javascript:void(0);","data-tips-left":"1","data-title":"参数示例："+e.value+(e.moreDesc?"\n参数说明："+e.moreDesc:"")+("string"===e.type?"\n字符串首尾双引号为字符串标识，不属于字符串内容，无须处理":"")}},[t._v(t._s(e.type))])]})),t._v(" "),t.paramsTips?n("a",{staticClass:"link-green js-nc-title-tips",staticStyle:{display:"inline-block"},attrs:{href:"javascript:void(0);","data-tips-left":"1","data-title":t.paramsTips}},[t._v("完整示例")]):t._e()],2):t._e(),t._v(" "),n("div",{ref:"inputDv",staticClass:"self-test-item",staticStyle:{display:"block",padding:"0"}},[n("textarea",{directives:[{name:"model",rawName:"v-model",value:t.input,expression:"input"}],ref:"input",attrs:{placeholder:t.isMain?"输入数据，请参考上方参数格式编写输入数据":"输入数据"},domProps:{value:t.input},on:{input:function(e){e.target.composing||(t.input=e.target.value)}}})])]),t._v(" "),n("div",{ref:"outputMod",staticClass:"test-mod-item"},[t.hasResult?n("div",{ref:"outputHd",staticClass:"hd"},[n("span",[t._v("本题输出数据类型为：\n                        "),["TREE_NODE"===t.result.dataType&&"DEFALUT"===t.result.container?n("a",{ref:"resultTree",staticClass:"test-type-tag",attrs:{href:"javascript:void(0);","data-tips-left":"1","data-title":"输出示例："+t.result.value+(t.result.returnMoreDesc?"\n输出说明："+t.result.returnMoreDesc:"")}},[t._v(t._s(t.result.type))]):n("a",{staticClass:"test-type-tag js-nc-title-tips",attrs:{href:"javascript:void(0);","data-tips-left":"1","data-title":"输出示例："+t.result.value+(t.result.returnMoreDesc?"\n输出说明："+t.result.returnMoreDesc:"")+("string"===t.result.type?"\n字符串首尾双引号为字符串标识，不属于字符串内容，无须处理":"")}},[t._v(t._s(t.result.type))])]],2)]):t._e(),t._v(" "),n("div",{ref:"outputDv",staticClass:"self-test-item",staticStyle:{display:"block",padding:"0"}},[n("textarea",{directives:[{name:"model",rawName:"v-model",value:t.output,expression:"output"}],ref:"output",attrs:{placeholder:t.isMain?"输出数据，请参考上方参数格式编写输出数据":"你期待的输出结果"},domProps:{value:t.output},on:{input:function(e){e.target.composing||(t.output=e.target.value)}}})])]),t._v(" "),t.hasSystemCase?n("div",{ref:"caseList",staticClass:"self-test-tags"},[t._v("\n                使用示例自测\n                "),t._l(t.systemCase,(function(e,i){return n("a",{key:i,staticClass:"test-tag",attrs:{href:"javascript:void(0);"},on:{click:function(n){return t.actionCase(e)}}},[t._v("示例"+t._s(i+1))])}))],2):t._e()]],2)])}),[],!1,null,null,null);e["default"]=d.exports},165:function(t,e,n){t.exports=n(28)(5)},166:function(t,e,n){var i=n(2),r=n(1),o=n(7),a=n(4),s=n(81),c=n(9),l=n(8),u=n(296),d=t.exports=a.create();a.mix(d,o,{_template:'\n    <div class="btn-group open" style="display:block;">\n        <ul class="dropdown-menu" style="position:static;float:none;border-bottom:0;overflow-x:hidden;"></ul>\n        <div style="padding:20px 0;text-align:center;font-size:14px;display:none;background:#fff;border:1px solid #d4d4d4;" class="js-none">没有结果</div>\n    </div>',listeners:[{name:"render",type:"custom",handler:function(){var t=this.rawConfig,e=this.getEl();this.ulEl=e.find("ul.dropdown-menu"),this.noneEl=e.find("div.js-none"),this.hasSub()&&e.addClass("with-multi-list"),r.id(t.width)&&e.outerWidth(t.width),this.initResize()}},{name:"change",type:"custom",handler:function(){var t=this.rawConfig;t.change&&t.change.call(this)}},{name:"click li.js-option",handler:function(t){var e=i(t.currentTarget).index();this.hasSub(e)||this.selectIndex(e)}}],show:function(t){var e=new d(t=t||{});return s.wrap(e,{attachRenderTo:t.attachRenderTo,target:t.target,attach:t.attach,content:e.html(),zIndex:t.zIndex,noHover:t.noHover,needClick:t.needClick,canShow:t.canShow,canHide:t.canHide,needReWidth:t.needReWidth,attachShow:function(){return e.renderItems()},attachHide:function(){e.searchIpt&&(e.searchIpt.val(""),e.search(""))}}),e}},{initialize:function(t){var e=this.cache={listRendered:!1,li:[],hasSub:!1,subAttachSel:{}},n=t.options,i=function o(t,e,n){for(var i=[],r=0;r<e.length;r++){var a=e[r];if(a.parent===t&&(a.subDeep=n,i.push(a),e.splice(r,1),r--,a.value!==undefined&&null!==a.value)){var s=o(a.value,e.slice(0),n+1);i=i.concat(s)}}return i}(undefined,n,0);n.length=0,r.forEach(i,(function(t){return n.push(t)})),r.forEach(t.options,(function(t){var n=(t.options||[]).length>0;e.hasSub=e.hasSub||n,!n&&delete t.options})),t.needKeyboard=t.needKeyboard&&!e.hasSub},initResize:function(){var t=this,e=t.attach;if(!e)return;var n=t.getEl();e.listen("widthChange",(function(e){t.renderItems();var i=t.searchIpt;i&&i.hide();var r=n.width("auto").outerWidth();n.outerWidth(Math.max(r,e)),i&&i.outerWidth(n.width()).show()}))},initSearch:function(){var t=this,e=t.rawConfig,n=t.getEl();if(!e.needSearch)return;var r=t.searchIpt=i('<input style="display:block;border-radius:0;" type="text" placeholder="输入关键词搜索" />');n.prepend(t.searchIpt),l.bindChange(r,(function(){t.search(i.trim(r.val())),t.hideAttach(!0)})),r.outerWidth(n.width())},initKeyboard:function(){var t=this;if(!t.rawConfig.needKeyboard)return;var e="data-temp-show",n=t.attach,o=t.getEl();if(!(a=t.searchIpt)){var a=i('<input type="text" style="position:absolute;width:0;height:0;display:block;overflow:hidden;z-index:0;left:-9999px;top:0" />');o.append(a)}var s=t.ulEl.find("li.js-option");t.keyboardItem=u.mix({el:a,getItem:function(){return r.filter(s,(function(t){return"none"!==i(t).css("display")}))},up:function(n,r,o){var a=i(o[r]),s=i(o[n]);a.hasClass("selected")&&"1"===a.attr(e)&&a.removeClass("selected"),s.hasClass("selected")||(s.addClass("selected"),s.attr(e,"1")),l.fixScrollPos(t.ulEl,s)},down:function(n,r,o){var a=i(o[r]),s=i(o[n]);a.hasClass("selected")&&"1"===a.attr(e)&&a.removeClass("selected"),s.hasClass("selected")||(s.addClass("selected"),s.attr(e,"1")),l.fixScrollPos(t.ulEl,s)},selected:function(n,o,a){var s=i(a[n]);r.forEach(a,(function(t){return i(t).removeClass("selected").removeAttr(e)})),n=s.index(),t.selectIndex(n)}}),n.listen("attachShow",(function(){a.focus(),window.setTimeout(r.bind(a.focus,a),0)})),n.listen("attachHide",(function(){a.blur(),t.keyboardItem.clear()})),t.keyboardItem.clear=function(){t.ulEl.find("li.js-option["+e+"=1]").removeClass("selected").removeAttr(e),u.prototype.clear.apply(t.keyboardItem)}},initSubSel:function(){var t=this;r.forEach(t.cache.li,(function(e,n){l.hoverToggle({el:i(e),enter:function(){return t.openSub(n)},leave:function(){return t.openSub(n,!1)}})}));var e=t.attach,n=e.rawConfig,o=n.canHide;n.canHide=function(){var n=!o||o();return r.forEach(t.cache.subAttachSel,(function(t){return(n=n&&!t.attach.isMouseEnter)?null:r.BREAK})),n&&!e.isMouseEnter}},renderItems:function(){var t=this.rawConfig;if(!this.cache.listRendered){this.cache.listRendered=!0;var e="";r.forEach(t.options,(function(t){var n=(t.options||[]).length>0,i=t.subDeep,o=t.disabled,a=t.attr||{},s="";r.forEach(a,(function(t,e){return t&&e&&!{"class":1,style:1}[e]&&(s+=" ".concat(e,'="').concat(t,'"; '))})),e+="\n            <li ".concat(s,' class="js-option ').concat(a["class"]||""," ").concat(t.checked?"selected":"",'" style="').concat(a.style||""," ").concat(n?"position: relative;":"").concat(i>0?"padding-left:"+(10+10*i)+"px;":"").concat(1===i?"background:#f7f7f7;":i>1?"background:#eeeeee;":"",'">\n                <a href="javascript:void(0);" style="').concat(o?"color:#cccccc;cursor:default;":"",'">').concat(t.text).concat(n?'<i class="icon-angle-right"></i><i class="icon-angle-left" style="display:none;"></i>':"","</a>\n            </li>")})),this.ulEl.html(e),this.cache.li=this.ulEl.find("li.js-option"),this.initSearch(),this.initKeyboard(),this.initSubSel()}},val:function(t,e){var n=this,i=n.rawConfig;if(0===arguments.length){var o=n.getSelectedItem();return o?o.value:""}var a=s(i.options,t);function s(t,e,n){return n=n||[],r.forEach(t,(function(t,i){if(n.push(i),t.value===e)return r.BREAK;var o=n.length;s(t.options,e,n),n.length===o&&n.pop()})),n}n.index(a,e)},index:function(t,e){var n=this,o=n.rawConfig,a=o.options,s=n.hasSub();if(0===arguments.length){var c=(l=h(a))[0];return s?l:c||0===c?c:-1}var l=n.index(),u=r.isArray(t)?t:[t],d=(l=r.isArray(l)?l:[l]).join("|")===u.join("|");d||(f(a,u.slice(0)),p(n,u.slice(0)));function f(t,e){if(t){var n=e.shift();r.forEach(t,(function(t,i){var r=i===n;t.checked=r,f(t.options,r?e:[])}))}}function p(t,e){if(t&&t.cache.listRendered){var n=e.shift();t.cache.li.removeClass("selected"),i(t.cache.li[n]).addClass("selected"),r.forEach(t.cache.subAttachSel,(function(t,i){return p(t,+i===n?e:[])}))}}function h(t){var e=[],n=r.findIndex(t,(function(t){return t.checked}));if(n>=0){e.push(n);var i=t[n].options;if(i){var o=h(i);e=e.concat(o),0===o.length&&(e.length=0)}}return e}!d&&!0!==e&&n.fire("change")},clear:function(){var t=this.rawConfig;this.ulEl.find("li.js-option.selected").removeClass("selected"),r.forEach(t.options,(function(t){return t.checked=!1}))},search:function(t){var e=this.rawConfig,n=this.ulEl,i=this.cache.li;if(n.scrollTop(0).show(),this.noneEl.hide(),!t)return r.forEach(i,(function(t){return t&&t.style&&(t.style.display="")}));var o=c.searchRegExp(t),a=0;r.forEach(e.options,(function(t,e){try{o.lastIndex=0}catch(c){}var n=t.text,r=i[e],s=o.test(n);r&&r.style&&(r.style.display=s?"":"none"),a+=s?1:0})),n[a>0?"show":"hide"](),this.noneEl[a>0?"hide":"show"](),this.keyboardItem&&this.keyboardItem.clear()},selectIndex:function(t){var e=this.rawConfig;if((e.options[t]||{}).disabled)return;var n=i(this.cache.li[t]),r=this.parent||this;if(this.hasSub(t))return;r.fire("select"),n.hasClass("selected")?e.canCancel&&r.val(null):r.val(e.options[t].value);!r.rawConfig.clickItemNoHide&&r.hideAttach()},hideAttach:function(t){r.forEach(this.cache.subAttachSel,(function(t){return t.hideAttach()})),t||(this.attach.isMouseEnter=!1,this.attach.forceHide())},getSelectedItem:function(){var t=this.getAllItem();return r.find(t,(function(t){return t.checked}))},getAllItem:function(){return function t(e){var n=[];return r.forEach(e,(function(e){var i=e.options;i&&(n=n.concat(t(i))),!i&&n.push(e)})),n}(this.rawConfig.options)},hasSub:function(t){var e=this,n=e.rawConfig,i=arguments.length;return 0===i?e.cache.hasSub:!!(n.options[t]||[]).options},openSub:function(t,e){var n=this,r=n.rawConfig,o=r.options[t].options,a=n.cache.subAttachSel,s=a[t];if((e=!1!==e)&&o&&!s){var c=i(n.cache.li[t]),l=(s=a[t]=d.show({attachRenderTo:n.attach.getEl().parent(),target:c,options:o,canCancel:r.canCancel,needReWidth:!0,attach:{horz:!0,extOffset:{left:-1}},canHide:function(){return!s.attach.isMouseEnter}})).attach,u=n.parent||n;s.parent=u,l.listen("attachHide",(function(t){f(c),t&&t.attachLeave&&n.attach.forceHide(t)})),l.listen("attachShow",(function(){return f(c,!0)})),l.forceShow(),n.pushChild(s)}else!e&&s&&s.attach.forceHide();function f(t,e){var n=t.find(".icon-angle-left"),i=t.find(".icon-angle-right");n[e?"show":"hide"](),i[e?"hide":"show"]()}}})},169:function(t,e,n){n(2);var i=n(7),r=n(4),o=(n(1),n(3)),a=n(676),s=t.exports=r.create();r.mix(s,i,{_template:'<div><div style="margin:0 auto;width:300px;" class="js-gt-code"></div></div>',listeners:[{name:"render",type:"custom",handler:function(){var t=this.getEl();this.gt=new a({el:t.find("div.js-gt-code"),type:this.rawConfig.type,product:"embed"}),this.checkGt()}}],show:function(t){var e=new s(t=t||{});o.wrap(e,{title:t.title||"请完成验证",content:e.html(),width:500,height:220,noUnique:!0,hasNoFooter:!0,listeners:{destroy:function(){window.clearTimeout(e.checkGtTimer),!e.isInputCode&&t.cancel&&t.cancel()}}});return e}},{checkGt:function(){var t=this,e=t.gt,n=t.rawConfig;t.checkGtTimer=window.setTimeout((function(){var i=e.check();i?window.setTimeout((function(){t.isInputCode=!0,t.popup&&t.popup.close(),n.call&&n.call(i)}),500):t.checkGtTimer=window.setTimeout(arguments.callee,1e3)}),1500)}})},17:function(t,e){t.exports={questionType:{danxuan:1,duoxuan:2,tiankong:3,biancheng:4,wenda:5,bigdata:6},syncType:{ctsTest:1,discuss:2,interview:3},captcha:{login:"login",register:"register",refAnswer:"ref_answer_query",runCode:"run_code",sysRightAnswer:"get_right_option",postComment:"post_comment",sendMessage:"send_message",offerChoose:"show_offer_choose",offerNormal:"show_offer_normal",sendVerifyCode:"send_verify_code"},type:{user:1,comment:2,problem:3,topic:4,feed:5,paper:6,recommendAnswer:7,post:8,message:9,live:11,note:14,clockRecord:15,recommendJob:16,ctsTest:19,schoolCalendar:28,stack:41,learningMaterial:42,gitProject:45,stackCompany:50,book:52,bookOneWord:55,offerData:56,blog:73,subject:88,acmCollection:92,referralOwner:94,campus:1201,community:1301,liveCourse:1501,liveChapter:1502,liveSection:1503,liveLive:1504,vodCourse:1401,vodChapter:1402,vodSection:1403,aiQuestion:2301},draftType:{answer:1,post:2,answerPost:3,note:4},uploadType:{none:0,image:1,doc:2,data:3,resume:4,file:5,screenShot:7,learningMaterial:11,anonFile:16},loginType:{wb:1,qq:2,db:3,rr:4,git:5,wx:6},FEInput:{1:"html",2:"css",3:"javascript"},FELib:{1:{text:"jquery (2.1.4)",value:"jquery"},2:{text:"underscore (1.8.2)",value:"underscore"}},avatar:{small:"//static.nowcoder.com/images/head.png"},activityType:{seattle:1,xingtai:2,taipei:3,ali2015:4,qihu2016:5,calenderOj:14,calenderBigData:15},aodianyun:{account:"nowcoder_weekly",password:"sub_034da48a83095baef7f0196896b38629",topic:"weekly",liveAccount:"live_course",livePassword:"sub_71b59a68e7a86347ce77eece262de375"},doSomeThingType:{wantAnswer:1,liveCourseSignUp:2,liveAskAnswer:3,loginRecord:4,cheat:5,spring2016InternJava:6,spring2016InternC:7},userSource:["牛客网","微信","微博","老师、朋友推荐","技术社区","其他"],share:{contest:1,comment:2,book:3,schedule:4},acmPlanType:{1:{name:"CSP-J入门组",url:"/acm/skill/csp-pj"},2:{name:"CSP-S提高组",url:"/acm/skill/csp-tg"},3:{name:"省选/NOI",url:"/acm/skill/noi"},4:{name:"ACM",url:"/acm/skill/acm"}},eduNames:["博士后","博士","硕士","本科","专科","高中","初中","小学"],jobs:{"Java工程师":"639","C++工程师":"640","iOS工程师":"641","安卓工程师":"642","运维工程师":"643","前端工程师":"644","算法工程师":"645","PHP工程师":"649","测试工程师":"680","安全工程师":"682","C#工程师":"683","数据库工程师":"684","数据分析师":"894","产品":"891","运营":"892","其它":"685"}}},177:function(t,e,n){(function(e){var i=n(37),r=function(t){return t&&t.Math==Math&&t};t.exports=r("object"==("undefined"==typeof globalThis?"undefined":i(globalThis))&&globalThis)||r("object"==("undefined"==typeof window?"undefined":i(window))&&window)||r("object"==("undefined"==typeof self?"undefined":i(self))&&self)||r("object"==(void 0===e?"undefined":i(e))&&e)||function(){return this}()||Function("return this")()}).call(this,n(165))},178:function(t,e,n){var i=n(2),r=n(1),o=n(9),a=n(12),s=n(3),c=n(129),l=n(39),u=n(17),d=n(217),f=n(1539)["default"],p=null;t.exports={initPhoneZip:function(t){i(t.renderTo).html("加载中...");var e=!!t.showNow,n=new c({renderTo:t.renderTo,renderBy:t.renderBy||"replaceWith",options:[{text:"中国+86",value:"+86",checked:!0}]});n.getEl().css("margin-bottom",0);var o=n.attachSel;return o.noneEl.html("加载中...").show(),o.attach.listen("attachShow",a),e&&a(),n;function a(){!function(t){if(p)return t&&t(null,p);l.getSMSSupportCountries({type:"GET",call:function(e){var n=r.map(e.data,(function(t){return{text:t.name+t.code,value:t.code,checked:"+86"===t.code}}));p=n,t&&t(null,n)},error:function(e){t&&t(e)}})}((function(i,r){if(i)return o.attach.forceHide(),void s.alert(i.msg);o.attach.unlisten("attachShow",a),n.rawConfig.needSearch=!0,n.replaceOptions(r),!e&&n.attachSel.attach.forceShow(),t.zipOptionChange&&t.zipOptionChange(),n.fire("zipOptionChange")}))}},initEduSchool:function(t){var e=t.edu,n=t.school;function i(){n.val("")}function r(){var t=e.val();if(!t)return n.blur(),s.alert("请先选择学历");var i=t&&{"高中":1,"初中":1}[t];(t&&{"博士后":1,"博士":1,"硕士":1,"本科":1,"专科":1}[t]||i)&&(n.blur(),d.show({noUnique:!0,isMiddle:i,call:function(t,e){return e&&n.val(e)}}))}e.$watch?e.$watch("value",i):e.listen("change",i),n.$on?n.$on("focus",r):n.listen("focus",r)},initCity:function(t){var e=t.city;function n(){e.blur(),f.show({noUnique:!0,value:i.trim(e.val()),multiSelect:t.multiSelect,visible:!0,call:function(t){return e.val(t)}})}e.$on?e.$on("focus",n):e.listen("focus",n)},initCaptcha:function(t){var e=i(t.btn),n=t.cpn,o=!!t.isPhone,c=t.check,d=t.val,f=!1,p=0;e.on("click",(function(t){t.preventDefault(),h()})),n&&(n.listen&&n.listen("destroy",g),n.listen&&n.listen("STOP_CAPTCHA_COUNTING",g),n.$on&&n.$on("hook:destroyed",g),n.$on&&n.$on("STOP_CAPTCHA_COUNTING",g));return{send:h};function h(){r.isFunction(t.isPhone)&&(o=t.isPhone()),f||(f=!0,c((function(t){if(!t)return f=!1;var n=d();l[o?"validatePhone":"validateEmail"]({body:o?{phone:i.trim(n)}:{email:i.trim(n)},captcha:{type:u.captcha.sendVerifyCode},call:function(t){var n;n=++p,(f=!1)||(f=!0,e.addClass("btn-default").removeClass("btn-primary"),a.countDown({second:60,call:function(t){return p===n&&e.html(t+"秒后重新获取"),p!==n},end:function(){p===n&&(f=!1,e.html("重新获取验证码"),e.addClass("btn-primary").removeClass("btn-default"))}}))},error:function(t){f=!1,s.alert(t.msg)}})})))}function g(){p++,f=!1}},checkEmail:function(t){var e=t.needRegister,n=t.email,r=t.call,a=this.emailMap=this.emailMap||{},s=i.trim(n.val()),c=a[s];if(!o.isEmail(s))return n.setErrorTips("请输入正确的邮箱"),r&&r(!1);if(!0===c)return e?n.setSuccess():n.setErrorTips("该邮箱已经被注册"),r&&r(!!e);if(!1===c)return e?n.setErrorTips("该邮箱尚未注册"):n.setSuccess(),r&&r(!e);l.checkEmail({query:{email:s},call:function(){a[s]=!1,s===i.trim(n.val())&&(e?n.setErrorTips("该邮箱尚未注册"):n.setSuccess()),r&&r(!e)},error:function(){a[s]=!0,s===i.trim(n.val())&&(e?n.setSuccess():n.setErrorTips("该邮箱已经被注册")),r&&r(!!e)}})},checkPhone:function(t){var e=t.needRegister,n=t.zip,r=t.phone,a=t.call,s=this.phoneMap=this.phoneMap||{},c=i.trim(n.val()),u=i.trim(r.val()),d=c+u,f=s[d];if("+86"===c?!o.isPhone(u):!/^\d{3,}$/.test(u))return r.setErrorTips("请输入正确的手机号码"),a&&a(!1,{isError:!0});if(!0===f)return e?r.setSuccess():r.setErrorTips("该手机号码已经被注册"),a&&a(!!e,{isRegister:!0});if(!1===f)return e?r.setErrorTips("该手机号码尚未注册"):r.setSuccess(),a&&a(!e,{isRegister:!1});l.checkPhone({query:{phone:d},call:function(){s[d]=!1,u===i.trim(r.val())&&(e?r.setErrorTips("该手机号码尚未注册"):r.setSuccess()),a&&a(!e,{isRegister:!1})},error:function(){s[d]=!0,u===i.trim(r.val())&&(e?r.setSuccess():r.setErrorTips("该手机号码已经被注册")),a&&a(!!e,{isRegister:!0})}})},checkPwd:function(t){var e=t.ipt1,n=t.ipt2,r=t.iptOld,o=t.isSubmit,a=i.trim(e.val()),s=i.trim(n.val()),c=i.trim(r?r.val():"");if(e.setNone(),n.setNone(),r&&r.setNone(),!a||!s)return o&!a&&e.setErrorTips("密码不能为空"),o&&!s&&n.setErrorTips("密码不能为空"),!1;if(a!==s)return e.setErrorTips("密码不一致"),n.setErrorTips("密码不一致"),!1;if(a.length<6)return e.setErrorTips("密码不能少于6位"),!1;if(!r)return e.setSuccess(),n.setSuccess(),!0;if(!c)return o&&r.setErrorTips("密码不能为空"),!1;if(c===a)return e.setErrorTips("新旧密码不能相同"),r.setErrorTips("新旧密码不能相同"),!1;return e.setSuccess(),n.setSuccess(),r.setSuccess(),!0},popupBindError:function(t){var e=t.isEmail?"邮箱":"手机",n=new s({noUnique:!!t.noUnique,hasNoTitle:!0,hasNoMove:!0,okTxt:"不，我想保留数据",cancelTxt:"清空此号数据",content:'<div class="confirm-content"><div class="poptip-word"><span class="warning-ico"></span><span class="warning-word">该'+e+"已注册，验证通过后将绑定新账号，现在的账号数据将清空，也无法再登录。确定清空当前账号数据吗？</span></div></div>",width:520,hasNoMask:!1,cancel:t.remove,ok:t.retain});return n.getEl().find(".pop-footer .btn").addClass("btn-auto"),n}}},179:function(t,e,n){var i=n(1),r=n(4),o=n(9),a=t.exports=r.create(),s=function(t){return"scope."};function c(){var t={};i.forEach(arguments,(function(e){var n=null;if(i.isString(e)){n={};for(var r,a=/\s*([\w\-]+)\s*:([^;]*)(;|$)/g;r=a.exec(e);){var s=o.trim(r[1]),c=o.trim(r[2]);n[s]=c}}else i.isObject(e)&&(n=e);i.extend(t,n)}));var e="";return i.forEach(t,(function(t,n){("display"!==(n=n.replace(/[A-Z]/,(function(t){return"-"+t.toLowerCase()})))||"ignore"!==t)&&(e+=n+":"+t+";")})),e}function l(t){if(t){var e=i.isArray(t)?t:t.split(/\s+/);return(e=i.uniq(e)).join(" ")}return""}i.extend(a,{execTpl:function(t,e){var n=this._pool=this._pool||{},r=(t=i.isArray(t)?t.join(""):t,n[t]);r||(r=this.parseNode(t),n[t]=r);var o="";return i.forEach(r,(function(t){o+=t.render(e)})),o},parseNode:function(t){t=t.replace(/\\/g,"\\\\");var e=this._split(t,/<[^<>]*>/g),n=[];return i.forEach(e,(function(t){if(""!==t){var e,i=/<\s*\/\s*([\w-]+)>/.exec(t),r=i?null:r=/<\s*([\w-]+)(\s*|\s+[^<>]+)>/.exec(t);if(i){var o=i[1],s=function(t,e){var n,i=[];for(;t.length>0;)if(n=t.pop(),i.push(n),!n.isClose&&n.tag===e)return i.reverse(),i;return null}(n,o);if(!s||0===s.length)throw new Error("标签不匹配");(e=s.shift()).children=s,e.isClose=!0,n.push(e)}else r?(e=new a({tag:r[1],attr:r[2]}),n.push(e)):(e=new a({text:t}),n.push(e))}})),n},_split:function(t,e){var n="_____node_____";return t.replace(e,(function(t){return n+t+n})).split(n)}}),i.extend(a.prototype,{initialize:function(t){t=t||{},this.tag=o.trim(t.tag),this.isText=!this.tag,this.text=this.isText&&t.text||"",this.isSingle=/^(?:area|base|basefont|br|col|command|dialog|embed|hr|img|input|isindex|keygen|link|meta|param|source|track|wbr)$/gi.test(t.tag),this.isClose=this.isText||this.isSingle,this.initAttr(t.attr)},initAttr:function(t){var e={};if(!this.isText)for(var n,i=/\s+(?:([\w\-:]+)|(?:([\w\-:]+)=([^\s"'<>]+))|(?:([\w\-:"]+)="([^"]*)")|(?:([\w\-:"]+)='([^']*)'))(?=(?:\s|\/|>)+)/g,r="<div "+t+">";n=i.exec(r);){var o=(n[1]||n[2]||n[4]||n[6]).toLowerCase(),a=(n[2]?n[3]:n[4]?n[5]:n[7])||"",s=0===o.indexOf(":")?o.slice(1):o;(s in e||":"+s in e)&&this.error("重复定义的属性值："+s+"\n"+t),e[o]=a||"v-else"===o}this.attr=e},getStyle:c,getClass:l,render:function(t){return this.getFunc()(t,{getStyle:c,getClass:l})},getFunc:function(t){var e=this,n=e.attr,r=[],o=t||null;if(e._fFunc)return e._fFunc;if(r.push('var __sHtml = "";'),e.isText){var c=a._split(e.text||"",/(#{[^}]*})/g);i.forEach(c,(function(t){if(""!==t){var e=/#{([^}]*)}/.exec(t);e?r.push("__sTemp = ("+b(e[1])+')(scope, util);\n__sHtml += __sTemp === undefined || __sTemp === null ? "" : __sTemp'):r.push('__sHtml += "'+t+'";')}}))}else{var l=n["v-for"],u="";if(l){var d=/^([A-Za-z_$\w$\s\(\)\,]+)\s+in\s+([A-Za-z_$][\w\.$]*)$/.exec(l);!d&&e.error("错误的v-for语法");var f=/\(?([A-Za-z_$][\w$]*)\s*,?\s*([A-Za-z_$][\w\.$]*)?\)?/.exec(d[1]),p=f[1]||"",h=f[2]||"",g=d[2],v=(o||s)(g);r.push("(function () {"),r.push("for (var i = 0; i < ("+v+g+" || []).length; i++) {"),r.push("(function (scope"+(h?", "+h:"")+") {"),r.push("var "+p+" = "+v+g+"[i];"),u="})(scope, i)\n}\n})()",o=function(e){var n=e.split(".")[0].split("[")[0];return n===p||h&&n===h?"":t?t(e):"scope."}}n["v-if"]&&r.push("if (("+b(n["v-if"])+")(scope, util)) {"),r.push('__sHtml += "<'+e.tag+'";');var m={"v-if":1,"v-else-if":1,"v-else":1,"v-for":1};r.push('var __sStyle = ""; var __oStyle = ""; var __sCls = "";');if(i.forEach(n,(function(t,e){m[e]||("class"===e?r.push('__sCls = "'+t+'";'):":class"===e?r.push("__sCls = ("+b(t)+")(scope, util);"):"style"===e?r.push('__oStyle = "'+t+'";'):":style"===e?r.push("__oStyle = ("+b(t)+")(scope, util);"):"v-show"===e?r.push("__sStyle += !!("+b(t)+')(scope, util) ? "display:ignore" : "display:none;";'):0===e.indexOf(":")?(e=e.slice(1),t="("+b(t)+")(scope, util)",r.push('__sHtml += " '+e+'=\\"" + '+t+' + "\\"";')):r.push('__sHtml += " '+e+'=\\"'+t+'\\"";'))})),r.push('__sHtml += !__sCls ? "" : " class=\\"" + util.getClass(__sCls) + "\\"";'),r.push('__sHtml += !__oStyle && !__sStyle ? "" : " style=\\"" + util.getStyle(__oStyle, __sStyle) + "\\"";'),r.push('__sHtml += "'+(e.isSingle?"/>":">")+'";'),!e.isSingle){var w="";i.forEach(e.children,(function(t){var n=t.attr,i=!n["v-for"]&&n["v-if"]||n["v-else-if"]||n["v-else"];!n["v-for"]&&n["v-if"]?r.push("if (("+b(n["v-if"])+")(scope, util)) {"):n["v-else-if"]?("if"!==w&&"else-if"!==w&&e.error("v-else-if需要在v-if或者v-else-if后面"),r.push("else if (("+b(n["v-else-if"])+")(scope, util)) {")):n["v-else"]&&("if"!==w&&"else-if"!==w&&e.error("v-else需要在v-if或者v-else-if后面"),r.push("else {")),w=n["v-if"]?"if":n["v-else-if"]?"else-if":n["else"]?"else":"",r.push("__sHtml += ("+t.getFunc(o).toString()+")(scope, util);"),i&&r.push("}")})),r.push('__sHtml += "</'+e.tag+'>"')}n["v-if"]&&r.push("}"),u&&r.push(u)}r.push("return __sHtml;");var y=r.join("\n");return e._fFunc=new Function("scope","util",y),e._fFunc;function b(t){return e.parseExp(t,o).toString()}},parseExp:function(t,e){e=e||s,t=o.trim(t);var n=this.isSimplePath(t)&&t.indexOf("[")<0?e(t)+t:this.makeGetterBody(t,e);return this.makeGetterFn(n)},makeGetterBody:function(t,e){var n=/\n/g,i=/"(\d+)"/g,r=new RegExp("^("+"Math,Date,this,true,false,null,undefined,Infinity,NaN,isNaN,isFinite,decodeURI,decodeURIComponent,encodeURI,encodeURIComponent,parseInt,parseFloat".replace(/,/g,"\\b|")+"\\b)"),o=[],a=t.replace(/[\{,]\s*[\w\$_]+\s*:|('(?:[^'\\]|\\.)*'|"(?:[^"\\]|\\.)*"|`(?:[^`\\]|\\.)*\$\{|\}(?:[^`\\]|\\.)*`|`(?:[^`\\]|\\.)*`)|new |typeof |void /g,(function(t,e){var i=o.length;return o[i]=e?t.replace(n,"\\n"):t,'"'+i+'"'})).replace(/\s/g,"");return e=e||s,a=(" "+a).replace(/[^\w$\.](?:[A-Za-z_$][\w$]*)/g,(function(t){var n=t.charAt(0),o=t.slice(1);return r.test(o)?t:(o=o.indexOf('"')>-1?o.replace(i,c):o,n+e(o)+o)})).replace(i,c);function c(t,e){return o[e]}},makeGetterFn:function(t){try{return new Function("scope","return "+t+";")}catch(e){return function(){}}},isSimplePath:function(t){return/^[A-Za-z_$][\w$]*(?:\.[A-Za-z_$][\w$]*|\['.*?'\]|\[".*?"\]|\[\d+\]|\[[A-Za-z_$][\w$]*\])*$/.test(t)&&!/^(?:true|false|null|undefined|Infinity|NaN)$/.test(t)&&"Math."!==t.slice(0,5)},error:function(t){throw new Error(t)}})},186:function(t,e,n){var i=n(177),r=n(552),o=n(237),a=n(553),s=n(558),c=n(638),l=r("wks"),u=i.Symbol,d=c?u:u&&u.withoutSetter||a;t.exports=function(t){return o(l,t)||(s&&o(u,t)?l[t]=u[t]:l[t]=d("Symbol."+t)),l[t]}},19:function(t,e,n){t.exports=n(28)(7)},197:function(t,e,n){var i=n(13),r=n(2),o=n(1),a=n(3),s=document.createElement("A");t.exports={cacheCb:{},cache:{},create:function(t,e){var n=this,a=n.cache,s=n.cacheCb,c=i.isInHttps(),l=n.getDomain(window.location.href),u=n.getDomain(t);if(l===u||/api\.nowcoder\.com/.test(u)||/feed\.nowcoder\.com/.test(u)||/^d\d*\.feed\.nowcoder\.com/.test(u)||/^www\.nowcoder\.com/.test(u)||/^d\d*\.nowcoder\.com/.test(u)||/^m\.(d\.)?nowcoder\.com/.test(u)||/^exammd?\.nowcoder\.com/.test(u)||/^(qq)?i\.nowcoder\.com/.test(u)||/^(qq)?e\.nowcoder\.com/.test(u))return e&&e(r,window);document.domain=n.getDomain(t,!0);var d=(c?"https://":"http://")+u+"/crossDomain.html",f=d,p=a[f];if(p)return e&&e(p.$,p);if(s[f]=s[f]||[],s[f].push(e),s[f].length>1)return;var h=r('<iframe src="'+d+'" frameborder="0" style="display:block;width:0;height:0;overflow:hidden;"></iframe>');h.on("load",(function(){h.unbind("load");var t=n.getWin(h),e=(t||{}).$;e&&(o.forEach(s[f],(function(n){return n&&n(e,t)})),a[f]=t,s[f].length=0)})),r(document.body).append(h)},getDomain:function(t,e){s.href=t;var n=s.href.split("/")[2];if(e){var i=n.split(".").reverse();i.length=2,n=i.reverse().join(".")}return n},getWin:function(t){try{var e=(t=r(t).get(0)).contentDocument||t.contentWindow.document;return e.defaultView||e.parentWindow}catch(n){a.alert("数据保存模块加载出错，请刷新页面重试，避免数据丢失。如有疑问，请致电：010-60728802",(function(){return window.location.reload()}))}}}},198:function(t,e,n){t.exports=n(28)(28)},2:function(t,e,n){t.exports=n(28)(2)},20:function(t,e,n){var i=n(230),r=n(1),o=n(2),a=n(12),s=n(8),c=n(21),l=n(15),u=n(3),d=n(39),f=document.createElement("A");t.exports={jumpUrl:function(t,e){return this.isNcUrl(t)&&t||e||"/"},isNcUrl:function(t){if(!r.isString(t))return!1;f.href=t;var e=f.href.split("#")[0].split("?")[0].split("/")[2];return/nowcoder\.[a-z]+$/gi.test(e)},getEditor:function(t,e){var i={codeEditor:n(677),codeDataEditor:n(691),codeFEEditor:n(692),codeHadoopEditor:n(693),mdEditor:n(511),hEditor:n(582)};if(!t||r.isString(t)){var o=t?i[t]:null;return void(o&&!o.loadDep?e&&e(o):o.loadDep((function(){return e&&e(o)})))}var a={};r.forEachAsync(t,(function(t,e){var n=t?i[t]:null;if(!n)return e&&e();a[t]=n,n.loadDep?n.loadDep(e):e&&e()}),(function(){e&&e(a)}))},loadEcharts:function(t,e){i.js(e||"//static.nowcoder.com/lib/echarts.3.7.2.min.js",(function(){a.waitUtil({times:250,condition:function(){return!!window.echarts},call:t})}))},getSiteNav:function(){var t=o(".nowcoder-header");return!t.get(0)&&(t=o(".js-site-global-nav")),t},getNavHeight:function(){return(this.getSiteNav().height()||0)+(o(".email-validate").height()||0)},getUploadUrl:function(t){return c.addParam({type:t},"/uploadImage")},fixEl:function(t){if(!(t=t||{}).target||!t.fixCls)return;var e=t.target=o(t.target),n=o("<div></div>"),i=0,c=a.frequency(16);return n.outerHeight(e.outerHeight()),n.css("margin",e.css("margin")),o(t.scrollEl||document).on("scroll",l),l(),function(){o(t.scrollEl||document).off("scroll",l)};function l(){c((function(){var a=i?n:e,c=o(s.getScrollParent(a)||window),l=s.getPosTop(a,c);if(c.scrollTop()>l-(t.redress||0))return e.addClass(t.fixCls),e.after(n),1===i||r.isFunction(t.change)&&t.change(!0),void(i=1);e.removeClass(t.fixCls),n.remove(),0===i||r.isFunction(t.change)&&t.change(!1),i=0}))}},shareImg:function(t){var e=u.mask('<div class="popbook-loading-tips"><img src="//static.nowcoder.com/images/img/icons/loading.png" alt="">图片生成中，请稍等...</div>');d.createImg({query:{shareType:t.shareType,entityId:t.entityId},call:function(t){var e=o.trim(t.data);if(!e)return u.alert("网络异常，请稍后重试");var n=new u({width:500,hasNoTitle:!0,hasNoFooter:!0,content:["<div>",'<a href="javascript:void(0);" class="pop-close js-close" title="关闭"></a>','<div class="pop-qrcode pop-share-qrcode" style="padding:0;">','<div class="pop-qrcode-title">分享给好友</div>','<div class="pop-qrcode-img" style="width:380px;"><img src="',e,'" alt="图片"></div>','<div class="submit-btnbox">','<a href="javascript:void(0);" class="btn btn-primary js-share-phone">手机分享</a>',"</div>","</div>","</div>"].join("")});n.getEl(".js-close").on("click",(function(){return n.close()})),n.getEl("img").on("load",(function(){return n.fixPosition()})),n.getEl(".js-share-phone").on("click",(function(){var t=l.rqUrl(e),n=new u({title:"保存至手机",width:320,content:['<div class="avarta-box">','<img height="200px" style="display:block;margin:0 auto;" src="',t,'" />','<div style="text-align:center;font-size:14px;margin-top:20px;">扫一扫，长按保存图片</div>',"<div>"].join("")});n.getEl("img").on("load",(function(){return n.fixPosition()}))}))},error:function(e){return t.error?t.error(e):u.alert(e.msg)},always:function(){return e.close()}})}}},21:function(t,e,n){t.exports=n(28)(17)},211:function(t,e,n){var i=n(2),r=n(1),o=n(3),a=n(63),s=n(674),c=n(39),l={};t.exports={checkSensitive:function(t){var e=t.isStrong?"true":"false",n=i.trim(t.word),r=l[e]=l[e]||{};if(!n)return t.call&&t.call(!1);if(n in r)return t.call&&t.call(!!r[n]);c.checkSensitive({query:{word:n,isStrong:e,isSchool:t.isSchool?"true":undefined},call:function(e){var i=!!(e||{}).isSensitive;r[n]=i,t.call&&t.call(i)},error:function(e){return t.call&&t.call(!1)}})},black:function(t){var e=t.id,n=t.name,i=!1!==t.black,r=t.call,a=e&&n;function s(){c[i?"blackUser":"unblackUser"]({body:{blackUserId:e},call:r,error:function(t){return o.alert(t.msg)}})}a&&i&&new o({title:"确定要拉黑"+n+"？",content:['<div class="pop-account-content">','<p class="pop-tip">拉黑后，对方将不能</p>','<p class="pop-tip">—关注你（如果已关注将自动取消）</p>','<p class="pop-tip">—私信你</p>','<p class="pop-tip">—在你的动态、帖子、回答或评论留言</p>','<p class="pop-tip">—转发你的动态、帖子、回帖等作品</p>','<p class="pop-tip">—@你，和你互动</p>','<p class="pop-tip">确定把'+n+"加入黑名单？</p>","</div>"].join(""),ok:s,cancel:function(){}}),a&&!i&&o.confirm("是否把"+n+"移除你的黑名单？",s)},avatar:function(t){var e=i(t.el);r.forEach(e,(function(e){var r=a.show({target:e,url:"/uploadImage?type=13",fileType:"*.jpg;*.JPG;*.png;*.PNG;*.gif;*.GIF;*.bmp;*.BMP;*.jpeg;*.JPEG",call:function(e){e.url&&n(675).show({src:e.url,call:function(e){var n=e.url;n&&t.call&&t.call(n)},error:t.error})}});t.attach&&t.attach(r,i(e))}))},formula:function(t){s.show({useLaTex:!!t.useLaTex,value:t.value,valueLaTex:t.valueLaTex,uploadBatch:function(t,e,n){var i={};r.forEach(e,(function(e,n){var r=t[n];i[r]=e})),n&&n(i)},callLaTex:function(e){i.trim(e)&&t.callLaTex&&t.callLaTex(e)},upload:function(e,n,i){t.call&&t.call(n),i&&i()}})}}},216:function(t,e){t.exports=function(t){try{return!!t()}catch(e){return!0}}},217:function(t,e,n){var i=n(2),r=(n(45),n(4)),o=n(1),a=n(7),s=(n(29),n(9)),c=n(12),l=n(3),u=n(129),d=n(25),f=n(39),p=n(668),h=t.exports=r.create();r.mix(h,a,{_template:'<div class=""><div style="padding:20px 0;text-align:center;font-size:14px;">数据加载中...</div></div>',listeners:[{name:"render",type:"custom",handler:function(){var t=this;t.isMiddle=!!t.rawConfig.isMiddle,o.forEachAsync(["getCity","searchSchool"],(function(e,n){t[e](o.bind(n,null,null))}),(function(){t.initContainer(),t.initCpns(),t.renderList(t.schoolData),t.popup&&t.popup.fixPosition()}))}},{name:"click a.pop-school-item",handler:function(t){var e=this.rawConfig,n=i(t.currentTarget),r=n.attr("data-id"),o=n.attr("data-name");e.call&&e.call(r,o),this.popup&&this.popup.close()}},{name:"click .js-add-school",handler:function(t){var e=this;e.popup&&e.popup.hide(),p.show({noUnique:!0,isMiddle:e.isMiddle,val:{country:e.countryCpn.val(),prov:e.provCpn.val(),name:e.searchCpn.val()},listeners:{ok:function(t){e.countryCpn.val(t.country),e.fixCity(),!e.provCpn.hidden&&e.provCpn.val(t.prov),e.searchCpn.val(t.name),e.refresh(!0)},close:function(t){e.popup&&e.popup.show()}}})}}],show:function(t){var e=new h(t=t||{});l.wrap(e,{title:t.isMiddle?"选择你的中学":"选择你的大学",content:e.html(),width:960,hasScroll:!0,hasNoFooter:!0,noUnique:!!t.noUnique});return a.setEvents(),e}},{initContainer:function(){this.getEl().html(['<div class="pop-filter-wrap js-filter-box"></div>','<div class="pop-school-box js-school-box"></div>']),this.headerEl=this.getEl(".js-filter-box"),this.contentEl=this.getEl(".js-school-box")},initCpns:function(){var t=this,e=t.headerEl,n=(t.cityMap={},o.map(t.cityData,(function(e,n){return t.cityMap[e.name]=e,{text:e.name,value:e.name,checked:0===n}})));t.countryCpn=new u({renderTo:e,text:"请选择国家",needSearch:n.length>5,options:n,listeners:{change:function(){t.fixCity()}}}),t.provCpn=new u({renderTo:e,text:"请选择省份",needSearch:!0,options:[]}),t.provCpn.hide();var r=c.frequency(750);t.searchCpn=new d({cls:"inline-block",renderTo:e,placeholder:"输入关键词查找学校",listeners:{change:function(){var e=this;r((function(){if(!i.trim(e.val()))return t.selectAll(t.countryCpn.val(),t.provCpn.val());t.searchSchool((function(e){t.renderList(e)}))}))}}}),t.fixCity(!0)},refresh:function(t){var e=this;e.searchSchool((function(t){t&&0!==t.length?e.renderList(t):e.contentEl.html('<h3 style="text-align:center">请先选择筛选条件</h3>')}),t)},fixCity:function(t){var e=this,n=e.countryCpn.val(),i=e.cityMap[n];if(!i)return;if(i.provs&&i.provs.length>0){var r=[];o.forEach(i.provs,(function(t,e){r.push({text:t.name,value:t.name})})),e.provCpn.unlisten("change"),e.provCpn.listen("change",(function(){e.selectAll(n,this.val())})),e.provCpn.replaceOptions(r),e.provCpn.select(0),e.provCpn.show(),t||e.provCpn.fire("change")}else e.provCpn.hide(),e.selectAll(n)},selectAll:function(t,e){if(this.searchCpn.val(""),!t)return void this.contentEl.html('<h3 style="text-align:center">请先选择筛选条件</h3>');if(!this.cityMap[t])return void this.contentEl.html('<h3 style="text-align:center">请先选择筛选条件</h3>');this.refresh()},renderList:function(t){var e="";o.forEach(t,(function(t){var n=+t.type;e+=s.execTpl('<a href="javascript:void(0);" data-id="#{id}" data-name="#{name}" class="pop-school-item" title="#{name}#{tip}">#{name}#{tip}</a>',{id:t.id,name:t.name,tip:3===n||5===n?"(审核中)":""})}));var n=['<div style="padding:20px;margin:0 auto;font-size:14px;width:520px;">',"没有找到你的学校？试试以下方法：</br>","1、检查学校名称是否输入正确，是否有错别字或者多字漏字</br>","2、检查是否输入了学校别名/别称？试试输入学校的官方正式全称</br>","3、检查学校是否更名，试试输入你的学校最新的院校名称</br>","4、国外院校？试试输入外语的学校名称全称，如输入英文/日文/法文/德文等</br>",'如仍未查找到你的学校，<a href="javascript:void(0);" class="link-green js-add-school">点此帮助牛客完善学校信息</a></br>',"注意：请勿恶意提交无效院校信息，多次恶意提交者将被严肃处理哦！","</div>"].join("");this.contentEl.html(e||n)},getCity:function(t){var e=this;f.getSchoolBrief({type:"GET",query:{isMiddle:e.isMiddle},call:function(n){var i=e.cityData=n.data||[];t&&t(i)},error:function(t){e.popup&&e.popup.close(),l.alert(t.msg)}})},searchSchool:function(t,e){var n=this,r=n.schoolCache=n.schoolCache||{},a=c(),s=u(a);if(!e&&r[s])return t&&t(r[s]);function c(){var t=(n.countryCpn?i.trim(n.countryCpn.val()):"中国")||undefined,e=(n.provCpn?n.provCpn.hidden?"":i.trim(n.provCpn.val()):"北京")||undefined,r=(n.searchCpn?i.trim(n.searchCpn.val()):"")||undefined;return{country:r?undefined:t,province:r?undefined:e,query:r,limit:250}}function u(t){return[t.country||"",t.province||"",t.query||""].join("$$$$")}f.getSchool({query:o.extend({isMiddle:n.isMiddle},a),call:function(e){var i=n.schoolData=e.data||[];r[s]=i;var o=u(c());s===o&&t&&t(i)},error:function(t){l.alert(t.msg),n.popup&&n.popup.close()}})}})},218:function(t,e,n){t.exports=n(28)(31)},229:function(t,e,n){var i=n(236);t.exports=function(t){if(!i(t))throw TypeError(String(t)+" is not an object");return t}},230:function(t,e,n){t.exports=n(28)(12)},236:function(t,e,n){var i=n(37);t.exports=function(t){return"object"===i(t)?null!==t:"function"==typeof t}},237:function(t,e){var n={}.hasOwnProperty;t.exports=function(t,e){return n.call(t,e)}},238:function(t,e,n){var i=n(37),r=n(177),o=n(498).f,a=n(262),s=n(294),c=n(493),l=n(630),u=n(556);t.exports=function(t,e){var n,d,f,p,h,g=t.target,v=t.global,m=t.stat;if(n=v?r:m?r[g]||c(g,{}):(r[g]||{}).prototype)for(d in e){if(p=e[d],f=t.noTargetGet?(h=o(n,d))&&h.value:n[d],!u(v?d:g+(m?".":"#")+d,t.forced)&&f!==undefined){if(i(p)===i(f))continue;l(p,f)}(t.sham||f&&f.sham)&&a(p,"sham",!0),s(n,d,p,t)}}},25:function(t,e,n){var i=n(2),r=n(1),o=n(7),a=n(4),s=n(9),c=n(8),l=t.exports=a.create();function u(t,e){var n=this,i=n.inputEl;return 0===arguments.length?i.val():(i.val()!==t&&(i.val(t),!e&&n.fire("change"),i.trigger("change")),n.setNone(),n)}function d(t){var e=this.getEl();return this.none(),this[!1===t?"removeClass":"addClass"](e,"success"),this.errorTipsEl.hide(),this}function f(t){var e=this.getEl();return this.none(),this[!1===t?"removeClass":"addClass"](e,"error"),!1===t&&this.errorTipsEl.hide(),this}function p(t){t?(this.error(),this.errorTipsEl.html(t).show()):(this.error(!1),this.errorTipsEl.html("").hide())}function h(){var t=this.getEl();return this.removeClass(t,"success"),this.removeClass(t,"error"),this.errorTipsEl.html("").hide(),this}a.mix(l,o,{_template:['<#{tag} class="control-group">',"#{inputStr}",'<i class="input-icon fui-cross"></i>','<i class="input-icon fui-check-inverted"></i>','<span class="input-tip"></span>',"</#{tag}>"].join(""),listeners:[{name:"render",type:"custom",handler:function(){this.rawConfig;var t=this.getEl();this.errorTipsEl=t.find("span.input-tip"),this.inputEl=this.isTextarea?t.find("textarea"):t.find("input"),this.initAction()}}],transformConf:function(t){t.addClass("control-group");var e=t.find("input").length,n=t.find("textarea").length;0===e&&0===n&&t.append('<input type="text" />');0===t.find("i.fui-cross").length&&t.append('<i class="input-icon fui-cross"></i>');0===t.find("i.fui-check-inverted").length&&t.append('<i class="input-icon fui-check-inverted"></i>');0===t.find("span.input-tip").length&&t.append('<span class="input-tip"></span>');return{type:n>0?"textarea":"text"}}},{initialize:function(t){this.isTextarea="textarea"===t.type,t.value=s.decodeHTML(t.value||"")},initAction:function(){var t=this,e=t.rawConfig,n=t.inputEl;c.bindChange(n,(function(){t.fire("change")})),n.on("blur",(function(){e.focusTips&&t.setNone(),t.fire("blur")})),n.on("focus",(function(){t.setFocusTips(),t.fire("focus")})),n.on("keydown",(function(e){"13"===r.id(e.keyCode)&&t.fire("pressEnter")}))},focus:function(){this.inputEl.focus()},blur:function(){this.inputEl.blur(),this.fire("blur")},val:u,success:d,error:f,errorTips:p,none:h,_getData:function(t){var e='<input class="#{cls}" '+(t.id?' id="#{id}" ':" ")+(t.name?' name="#{name}" ':" ")+' type="#{type}" placeholder="#{placeholder}" value="#{value}"/>';return this.isTextarea&&(e='<textarea class="#{cls}" '+(t.id?' id="#{id}" ':" ")+(t.name?' name="#{name}" ':" ")+' placeholder="#{placeholder}" style="resize:none;">#{value}</textarea>'),{_execAgain:!0,tag:t.tag||"div",cls:t.clsIpt,placeholder:t.placeholder||"",value:t.value||"",type:t.type||"text",name:t.name||0===t.name?t.name:"",id:t.id||"",inputStr:e}},readonly:function(t){this.inputEl[!1===t?"removeAttr":"attr"]("readonly",1)},disabled:function(t){this.inputEl[!1===t?"removeAttr":"attr"]("disabled",1)},isDisabled:function(){return this.inputEl.prop("disabled")},addClass:function(t,e){!(t=i(t)).hasClass(e)&&t.addClass(e)},removeClass:function(t,e){(t=i(t)).hasClass(e)&&t.removeClass(e)},getValue:function(t){return t?i.trim(this.val()):this.val()},setValue:u,setSuccess:d,setError:f,setErrorTips:p,setFocusTips:function(t){var e=this.rawConfig;return t=e.focusTips=t||e.focusTips,this.none(),this.errorTipsEl.html(t||"")[t?"show":"hide"](),this},setNone:h})},262:function(t,e,n){var i=n(293),r=n(282),o=n(309);t.exports=i?function(t,e,n){return r.f(t,e,o(1,n))}:function(t,e,n){return t[e]=n,t}},279:function(t,e,n){"use strict";e.a={props:["tagName"],render:function(t){return t(this.tagName||"div",this.$slots["default"])}}},282:function(t,e,n){var i=n(293),r=n(551),o=n(229),a=n(495),s=Object.defineProperty;e.f=i?s:function(t,e,n){if(o(t),e=a(e,!0),o(n),r)try{return s(t,e,n)}catch(i){}if("get"in n||"set"in n)throw TypeError("Accessors not supported");return"value"in n&&(t[e]=n.value),t}},283:function(t,e,n){var i=n(499),r=n(177),o=function(t){return"function"==typeof t?t:undefined};t.exports=function(t,e){return arguments.length<2?o(i[t])||o(r[t]):i[t]&&i[t][e]||r[t]&&r[t][e]}},29:function(t,e,n){t.exports=n(28)(32)},293:function(t,e,n){var i=n(216);t.exports=!i((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]}))},294:function(t,e,n){var i=n(177),r=n(262),o=n(237),a=n(493),s=n(491),c=n(351),l=c.get,u=c.enforce,d=String(String).split("String");(t.exports=function(t,e,n,s){var c,l=!!s&&!!s.unsafe,f=!!s&&!!s.enumerable,p=!!s&&!!s.noTargetGet;"function"==typeof n&&("string"!=typeof e||o(n,"name")||r(n,"name",e),(c=u(n)).source||(c.source=d.join("string"==typeof e?e:""))),t!==i?(l?!p&&t[e]&&(f=!0):delete t[e],f?t[e]=n:r(t,e,n)):f?t[e]=n:a(e,n)})(Function.prototype,"toString",(function(){return"function"==typeof this&&l(this).source||s(this)}))},295:function(t,e){t.exports=function(t){if("function"!=typeof t)throw TypeError(String(t)+" is not a function");return t}},296:function(t,e,n){var i=n(2),r=n(1),o=n(4),a=n(53),s=t.exports=o.create();r.extend(s,{preventCode:{37:"left",38:"up",39:"right",40:"down"},mix:function(t){var e=new s(t);return e.bind(),e}}),r.extend(s.prototype,a,{initialize:function(t){this.rawConfig=t,this.el=i(t.el),this.inForm=!!this.el.closest("form").get(0),this.items=t.items,this.index=t.index||-1},bind:function(){var t=this,e=t.rawConfig;t.clear(!0),t.el.on("keydown",(function(n){var i=n.keyCode+"",r=!e.canFire||e.canFire();if(t.keydownHandler=arguments.callee,r){var o=s.preventCode[i];(o&&e[o]||"13"===i&&t.inForm&&t.index>=0)&&n.preventDefault()}})),t.el.on("keyup",(function(n){var i=n.keyCode+"",r=!e.canFire||e.canFire(),o=t.index,a=t.index;if(t.keyupHandler=arguments.callee,r)if(n.stopPropagation(),n.preventDefault(),"38"===i){var s=t.getItem(!0);(o=a-1)<0&&(o=s.length-1),t.fireEvent("up",o,a,s),t.index=o}else if("40"===i){s=t.getItem(!0);(o=t.index+1)>=s.length&&(o=0),t.fireEvent("down",o,a,s),t.index=o}else"37"===i?t.fireEvent("left"):"39"===i?t.fireEvent("right"):"13"===i&&t.fireEvent("selected",o,a,t.getItem(!0));t.fireEvent("keyup"+i,n,r,o,a)}))},clear:function(t){var e=this.rawConfig;this.index=e.index||-1,this._items=null,this.keyupHandler&&t&&this.el.unbind("keyup",this.keyupHandler);this.keydownHandler&&t&&this.el.unbind("keydown",this.keydownHandler)},clearCache:function(){this._items=null,this.index=-1},fireEvent:function(t){var e=this,n=e.rawConfig;e.fire&&e.fire.apply(e,arguments),n[t]&&n[t].apply(e,[].slice.call(arguments,1))},getItem:function(t){var e=this.rawConfig;return this._items&&this._items.length>0&&!t||(this._items=e.getItem&&e.getItem()||[]),this._items}})},297:function(t,e,n){var i=n(2),r=n(4),o=n(1),a=n(7),s=n(9),c=n(8),l=t.exports=r.create();r.mix(l,a,{_template:['<div role="group" class="btn-group">','<button class="btn btn-default dropdown-toggle">','<span class="dropdown-value">#{text}</span>','<span class="caret"></span>',"</button>",'<ul class="dropdown-menu"></ul>',"</div>"].join(""),listeners:[{name:"render",type:"custom",handler:function(){var t=this,e=t.getEl(),n=t.rawConfig;t.txtEl=e.find("button.dropdown-toggle .dropdown-value"),t.menu=e.find("ul.dropdown-menu"),"small"!==n.size&&"large"!==n.size||t.size(n.size),n.autoWidth&&(t.txtEl.removeClass("dropdown-value"),t.menu.addClass("dropdown-auto")),null!==n.zIndex&&n.zIndex!==undefined&&t.menu.css("z-index",n.zIndex),i(document).click((function(n){e.length>0&&!i.contains(e.get(0),n.target)&&t.open(!1,!0)})),t.hoverExpand&&c.hover(e,(function(){t.isDisabled||(window.clearTimeout(t._hoverTimer),window.clearTimeout(t._hideTimer),t._hoverTimer=window.setTimeout((function(){t.open()}),250))}),(function(){t.isDisabled||t.open(!1)}))}},{name:"click button.dropdown-toggle",handler:function(){this.isDisabled||this.open(this.hoverExpand||!this.isOpen())}},{name:"click ul.dropdown-menu li",handler:function(t){var e=i(t.target),n="a"===e.prop("tagName").toLowerCase()?i.trim(e.attr("href")):"";n&&!s.isJsHref(n)||t.preventDefault();var r=this.rawConfig,o=i(t.currentTarget).index();if(r.clickItemNoHide||this.open(!1,!0),this.error(!1),+o!==this.selectedIndex){this.select(o);try{this.fire("change"),r.change&&r.change.call(this)}catch(a){}}}}],transformConf:function(t){var e=t.find("ul.dropdown-menu li"),n=[],r="";return o.forEach(e,(function(t,e){var o=(t=i(t)).hasClass("selected");n.push({text:i.trim(t.text()),value:t.attr("data-val")||e,checked:o}),o&&(r=i.trim(t.text()))})),r&&t.find("button.dropdown-toggle .dropdown-value").html(r),{text:r,options:n}}},{initialize:function(t){var e=this;e.hoverExpand=!t.noHover,e.isDisabled=!!t.disabled,o.every(t.options,(function(t,n){return!t.checked||(e.selectedIndex=n,!1)}));var n=e.selectedIndex,i=n||0===n?t.options[n]:{};e.value=i.value,t.text=i.text||t.text},isOpen:function(){return this.getEl().hasClass("open")},open:function(t,e){var n=this.getEl();window.clearTimeout(this._hideTimer),window.clearTimeout(this._hoverTimer),!1===t?this._hideTimer=window.setTimeout((function(){n.removeClass("open")}),e?0:100):(this._renderOptions(),this.itemElList&&0!==this.itemElList.length||(this.itemElList=n.find("ul.dropdown-menu li"),n.find("ul.dropdown-menu").scrollTop(0)),n.addClass("open"))},select:function(t,e){var n=this.getEl(),r=this.rawConfig,o=r.options;if(!t&&0!==t)return this.selectedIndex;if((t=+t||0)>=o.length)return;var a=o[t],s=o[this.selectedIndex];a.text&&this.txtEl.html(a.text);if(this.menuRendered){var c=this.itemElList;c&&0!==c.length||(c=this.itemElList=n.find("ul.dropdown-menu li"));var l=i(c[t]);i(c[this.selectedIndex]).removeClass("selected").find("a").removeClass("active"),l.addClass("selected").find("a").addClass("active"),this.value=a.value,this.selectedIndex=t}else s&&(s.checked=!1),a&&(a.checked=!0),this.value=a.value,this.selectedIndex=t;if(e)try{this.fire("change"),r.change&&r.change.call(this)}catch(u){}},val:function(t,e){var n=this.rawConfig.options;if(!t&&0!==t)return this.value;var i=0;o.every(n,(function(e,n){return e.value!==t||(i=n,!1)})),this.select(i,e)},text:function(){var t=this.selectedIndex,e=this.rawConfig;if(null===t||t===undefined)return"";var n=e.options[t];return n.text?n.text:n.html?i(n.html).text():""},error:function(t){this.getEl()[!1===t?"removeClass":"addClass"]("error")},size:function(t){var e=this.getEl(),n="small"===t?"btn-group-sm":"large"===t?"btn-group-lg":"";e.removeClass("btn-group-sm btn-group-lg"),n&&e.addClass(n)},clear:function(t){var e=this.rawConfig;t=t||e.text||"请选择";var n=this.getEl();i(n.find("ul.dropdown-menu li")[this.selectedIndex]).removeClass("selected").find("a").removeClass("active"),this.value=null,this.selectedIndex=null,this.txtEl.html(t)},disabled:function(t){this.isDisabled=!1!==t},_renderOptions:function(){if(this.menuRendered)return;var t=this.getEl(),e="",n=this.rawConfig;o.forEach(n.options,(function(t,n){e+="<li "+(t.checked?' class="selected"':"")+' ><a href="javascript:void(0);">'+t.text+"</a></li>"})),t.find("ul.dropdown-menu").html(e),this.menuRendered=!0},_getData:function(t){return{text:t.text}},replaceOptions:function(t){var e=this;if(e.rawConfig.options=t,!this.menuRendered)return;this.menuRendered=!1,this._renderOptions(),this.itemElList.length=0,this.selectedIndex=null,this.clear()}})},3:function(t,e,n){t.exports=n(28)(38)},305:function(t,e,n){"use strict";var i=n(10),r=n.n(i),o=n(3),a=n(1),s=n(579),c=n(8);function l(){if(!1===s.check(this.treeDataValue)){var t=a.every(this.treeDataValue,(function(t){return"#"===t||"{"===t||"}"===t||","===t||!1===isNaN(parseFloat(t))}));this.error=t?"树的首尾请使用{}":"不能出现数字以外的内容",this.root=null,this.nodeListPos=[],this.lineListPos=[]}else this.error="",this.root=s.getDataByInput(this.treeDataValue),this.nodeListPos=s.getNodePos(this.root),this.lineListPos=s.getLine(this.root)}var u={show:function(t){var e=new(r.a.extend(this))(t);return o.wrap(e,{title:"树结构在线预览",hasNoFooter:!0,noUnique:!0,width:640,cancel:t.cancel}),e},data:function(){return{treeDataValue:this.treeData,root:{},error:"",width:50,nodeListPos:[],lineListPos:[]}},props:["treeData","noHref"],methods:{getDeep:s.deep.bind(s),getCenterPos:function(t){var e=this.width;return{x:t.x*e,y:t.y*e}}},watch:{treeDataValue:l},mounted:l,updated:function(){var t=this;t.$nextTick((function(){c.copy({el:t.$refs.copy,content:t.treeDataValue,call:function(t){o.tips("复制成功")}})}))}},d=(n(690),n(0)),f=Object(d.a)(u,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"pop-content clearfix pop-tree-wrapper"},[n("p",[n("span",[t._v("请根据预设示例，按层遍历输入，空节点使用#代替")]),t._v(" "),t.noHref?t._e():[t._v("\n            ，"),n("a",{staticClass:"link-green",attrs:{target:"_blank",href:"https://blog.nowcoder.net/n/954373f213e14eeab0a69ed0e9ef1b6e"}},[t._v("点此了解详细说明")])]],2),t._v(" "),n("div",{staticClass:"pop-tree-input"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.treeDataValue,expression:"treeDataValue"}],attrs:{type:"text",placeholder:"{1,2,3,4,5,#,6}"},domProps:{value:t.treeDataValue},on:{input:function(e){e.target.composing||(t.treeDataValue=e.target.value)}}}),t._v(" "),n("a",{ref:"copy",staticClass:"link-green",attrs:{href:"javascript: void(0)"}},[t._v("复制")])]),t._v(" "),n("div",{staticClass:"svg-context"},[""!==t.error?n("span",[t._v("\n            "+t._s(t.error)+"\n        ")]):n("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",version:"1.1",width:t.width*(Math.pow(2,t.getDeep(t.root))-1)+t.width,height:t.getDeep(t.root)*t.width+t.width}},[t.lineListPos.length>0?t._l(t.lineListPos,(function(e,i){return n("line",{key:i+"_line",attrs:{x1:t.getCenterPos(e.start).x,y1:t.getCenterPos(e.start).y,x2:t.getCenterPos(e.end).x,y2:t.getCenterPos(e.end).y}})})):t._e(),t._v(" "),t.nodeListPos.length>0?t._l(t.nodeListPos,(function(e,i){return n("g",{key:i+"_node",attrs:{transform:"translate("+e.x*t.width+", "+e.y*t.width+")"}},[n("circle",{attrs:{r:"1.2em",fill:"white"}}),t._v(" "),n("foreignObject",{staticClass:"circle",attrs:{title:e.val,width:"2.4em",height:"2.4em",x:"-1.2em",y:"-1.2em"}},[n("span",[t._v("\n                            "+t._s(e.val.toString().length>2?e.val.toString().slice(0,2)+"...":e.val)+"\n                        ")])])],1)})):t._e()],2)])])}),[],!1,null,"4cde8ee1",null).exports,p=n(3),h=n(9),g=n(579);e.a={show:function(t){var e=h.trim(t.treeData);if(!g.check(e))return void p.alert("输入不合法，只能输入一个{和},只支持number类型");return f.show({propsData:{treeData:e,noHref:!!t.noHref}})},clickShowPopup:function(t){var e=$(t.currentTarget).attr("data-tree-data"),n=$(t.currentTarget).attr("data-no-href");return this.show({treeData:e,noHref:n})},check:function(){return g.check.apply(g,arguments)}}},309:function(t,e){t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},310:function(t,e){t.exports=!1},311:function(t,e){t.exports={}},312:function(t,e,n){"use strict";var i=n(295),r=function(t){var e,n;this.promise=new t((function(t,i){if(e!==undefined||n!==undefined)throw TypeError("Bad Promise constructor");e=t,n=i})),this.resolve=i(e),this.reject=i(n)};t.exports.f=function(t){return new r(t)}},313:function(t,e,n){var i=n(2),r=n(1),o=n(7),a=n(4),s=n(9),c=t.exports=a.create();a.mix(c,o,{_template:'<div class="menu-box #{cls}"><ul class="menu clearfix">#{list}</ul></div>',listeners:[{name:"render",type:"custom",handler:function(){var t=this.rawConfig;this.getEl();t.noFireChangeOnRender||(t.change&&t.change.call(this),this.fire("change"))}},{name:"click .js-tab-item",handler:function(t){var e=i(t.currentTarget).index();this.index(e)}}]},{initialize:function(t){var e=t.items||[],n=!1;r.forEach(e,(function(t){t.checked&&n&&(t.checked=!1),n=n||t.checked})),!n&&e.length>0&&(e[0].checked=!0)},val:function(t,e){var n=this,i=n.rawConfig,o=i.items;if(0===arguments.length){var a=n.index();return-1===a?null:o[a].value}r.forEach(o,(function(i,o){if(i.value===t)return n.index(o,e),r.BREAK}))},index:function(t,e){var n=this,r=n.rawConfig,o=n.getEl(),a=o.find("li.js-tab-item"),s=o.find("li.js-tab-item.selected"),c=0===s.length?-1:s.index();c=s.index();if(0===arguments.length)return c;t!==c&&(a.removeClass("selected"),i(a[t]).addClass("selected"),!1!==e&&(r.change&&r.change.call(n),n.fire("change")))},updateText:function(t,e){var n=this.getEl(),o=this.rawConfig.items,a=r.findIndex(o,(function(e){return e.value===t}));if(a>=0){o[a];i(n.find("li.js-tab-item")[a]).find("a").html(i.trim(e))}},_getData:function(t){var e=r.map(t.items,(function(t){return s.execTpl('<li class="#{cls} js-tab-item"><a href="javascript:void(0)">#{text}</a></li>',{cls:t.checked?"selected":"",text:t.text})})).join("");return{cls:"line"===t.type?"menu-line-box":"",list:e}}})},314:function(t,e,n){n(2);var i=n(1),r=n(4),o=n(357),a=t.exports=r.create();i.extend(a.prototype,{initialize:function(t){t=t||{};this.noEncodeResult=!!t.noEncodeResult,this.getFullErrorContentUrl=t.getFullErrorContentUrl},submitDiyCode:function(t){var e=t.data||t,n=i.extend({selfType:e.selfType||e.tagId,tagId:e.tagId,subTagId:e.subTagId,problemId:e.problemId||undefined,questionId:e.questionId||undefined,selfInput:e.input,selfOutput:e.output,content:e.content,language:e.language,languageName:e.languageName,vojLanguage:e.vojLanguage},t.extCodeParam),r=i.extend({},t,{body:n});this.submitCode(r,!0)},submitSelfCode:function(t){var e=t.data||t,n=i.extend({questionId:e.questionId,tagId:e.tagId,subTagId:e.subTagId,content:e.content,language:e.language,languageName:e.languageName,vojLanguage:e.vojLanguage},t.extCodeParam),r=i.extend({},t,{body:n});this.submitCode(r)},submitTestCode:function(t){var e=t.data||t,n=i.extend({pid:e.pid,tid:e.tid,qid:e.qid,tagId:e.tagId,subTagId:e.subTagId,content:e.content,language:e.language},t.extCodeParam),r=i.extend({},t,{body:n});this.submitCode(r)},getCodeStatus:function(t,e){var n=this,r=n.submissionId=t.submissionId,a=t.body||{},s=a.tagId,c=a.subTagId,l=e?"":"您的代码已保存",u=1e3;function d(){n.callback(t,"cbStatusCodeBefore"),o.request({$:t.$,url:t.urlGetCodeStatus,query:i.extend({submissionId:r,tagId:s,subTagId:c,selfType:a.selfType},t.extStatusParam),call:function(i){if(n.submissionId===r)if(0===i.status||1===i.status||2===i.status)u>Math.max(+t.maxStatusDelay||0,7e4)&&(n.feedback(t,l+"\n查询超时，请重试",!0),n.callback(t,"cbStatusCodeError")),n.runTimer=setTimeout(d,u),u=1e3===u?1001:2*u;else{i.submissionId=r,i.desc=f(i.desc),i.memo=f(i.memo);var o=5===i.status,a=l+"\n"+i.desc+"\n"+i.memo;if(!i.isComplete){var p=n.getFullErrorContentUrl?n.getFullErrorContentUrl({submissionId:r,tagId:s,subTagId:c,isSelfTest:e}):"";p=p||"//nowcoder.com/completeSubmissionInfo?submissionId=".concat(r,"&tagId=").concat(s||"","&subTagId=").concat(c||""),a+='<div><a class="js-show-result link-green" target="_blank" href="'.concat(p,'">查看全部</a></div>')}n.feedback(t,a,!o,i),n.callback(t,o?"cbStatusCodeSuccess":"cbStatusCodeFail",i)}},error:function(e){e.submissionId=r,n.feedback(t,l+"\n"+(e.msg||"代码运行失败"),!0),n.callback(t,"cbStatusCodeError",e)}})}function f(t){return t=t||"",n.noEncodeResult?t:t.replace(/</gi,"&lt;").replace(/>/gi,"&gt;")}n.runTimer=setTimeout((function(){return d(n.submissionId)}),500)},submitCode:function(t,e){var n=this,r=e?"":"您的代码已保存";if(window.clearTimeout(n.runTimer),n.submissionId=null,!t||!t.urlSubmitCode||!t.body)return n.feedback(t,"参数错误",!0),n.callback(t,"cbSubmitCodeError",{code:-1,msg:"参数错误"});if(n.reqCaptcha)return n.feedback(t,"请稍等..."),n.callback(t,"cbGetCaptcha",(function(e){n.reqCaptcha=!1,e&&a(e),e||(n.callback(t,"cbGetCaptchaError"),n.feedback(t,"验证码错误",!0))}));a();function a(a){n.feedback(t,"正在提交代码..."),n.callback(t,"cbSubmitCodeBefore"),o.request({$:t.$,url:t.urlSubmitCode,query:i.extend(t.query||{},t.query,a),body:t.body,call:function(o){n.callback(t,"cbSubmitCodeComplete",o);var a=t.getSubmissionId?t.getSubmissionId(o):o.submissionId;i.id(a)&&a>=0?(n.feedback(t,r+"\n"+i.lang("正在查询结果...")),n.callback(t,"cbSubmitCodeSuccess",o),n.getCodeStatus(i.extend({submissionId:a},t),e)):(n.feedback(t,o.msg||"代码提交失败，请再次运行",!0),n.callback(t,"cbSubmitCodeError",o))},error:function(e){1125===e.code?(n.reqCaptcha=!0,n.submitCode(t)):(n.feedback(t,e.msg||"代码提交失败，请再次运行",!0),n.callback(t,"cbSubmitCodeError",e))}})}},getSubmissionDiff:function(t){o.request({$:t.$,url:t.urlGetSubmissionDiff,query:{submissionId:t.submissionId,tagId:t.tagId},call:t.call,error:t.error,always:t.always})},feedback:function(t){var e=this;return t&&t.feedback&&t.feedback.apply(e,[].slice.call(arguments,1))},callback:function(t,e){var n=this;return t&&t[e]&&t[e].apply(n,[].slice.call(arguments,2))}})},315:function(t,e,n){var i=n(679),r=n(1),o=n(4),a=n(53),s=t.exports=o.create(),c=r.isInWp(),l=c||!!i.WebSocket;r.extend(s,{isSupport:l,send:function(t,e){e&&t&&t.send(c?{data:e}:e)}}),r.extend(s.prototype,a,{initialize:function(t){var e=this;e.rawConfig=t||{},e.clientActiveClose=function(){return s.send(e.socket,JSON.stringify({id:"clientActiveClose"}))},e.url=t.url||"",(!!c||0===(i.location.protocol||"").indexOf("https"))&&(e.url="wss://".concat(e.url.replace(/^wss?:\/\//,""))),r.forEach(t.listeners,(function(t,n){return n&&t&&e.listen(n,t)})),e.connectCb=[],e.sendData=[],e.initReconnect(),e.initReopen()},initReconnect:function(){var t=+this.rawConfig.maxReConnectCount||2,e=this.reconnect=this.reconnect||{};clearTimeout(e.timer),e.need=t>0,e.max=t,e.ing=!1,e.isFromError=!1,e.count=0,e.timer=null},initReopen:function(){var t=this.rawConfig,e=this.reopen=this.reopen||{};clearTimeout(e.timer),e.need=!!t.needReopen,e.ing=!1,e.timer=null,e.id=r.key()},connect:function(t){var e=this,n=e.rawConfig,o=e.reconnect,a=e.reopen,s=a.id;if(clearTimeout(o.timer),clearTimeout(a.timer),!l)return;var u=e.getStatus();if(1===u)return t&&t();if(e.fire("connecting"),t&&e.connectCb.push(t),0===u)return;var d=e.socket=c?wx.connectSocket({url:e.url}):new WebSocket(e.url);f("onopen","onOpen",(function(){a.ing=!1,o.need=!1,r.forEach(e.connectCb,(function(t){return t&&t()})),e.connectCb.length=0,e.fire("open")})),f("onmessage","onMessage",(function(t){var n=r.json(t.data,{}),i=n.event;if("_s_reconnect"===i)return e.reconnect(n.data);o.need=!1,"_s_before_close"===i&&(a.need=!1),e.fire("message",n,t)})),f("onerror","onError",(function(n){if(o.need=o.need&&o.count<=o.max,o.ing=o.need,o.isFromError=!0,o.need)return e.fire("reconnect",n),o.count++,clearTimeout(o.timer),void(o.timer=setTimeout((function(){return e.connect(t)}),250*o.count));e.connectCb.length=0,e.fire("error",n)})),f("onclose","onClose",(function(t){if(clearTimeout(e._closeTimer),!e.socket||d===e.socket){if(!o.isFromError&&a.need&&a.id===s)return e.initReconnect(),e.fire("closeBeforeReopen"),void(a.timer=setTimeout((function(){a.ing=!0,e.connect((function(){return n.reopen&&n.reopen()}))}),500));e.initReopen(),e.connectCb.length=0,o.ing||(e.initReconnect(),e.fire("close",t))}})),c||(i.removeEventListener("beforeunload",e.clientActiveClose),i.addEventListener("beforeunload",e.clientActiveClose));function f(t,e,n){if(c)return d[e](n);d[t]=n}},reconnect:function(t,e){r.isFunction(t)&&(e=t,t={});t=t||{};var n=this.rawConfig;this.close({isFromServerReconnect:!0}),this.connect((function(){n.reopen&&n.reopen(t),e&&e()}))},close:function(t){t=t||{};var e=this,n=e.socket;if(!n)return;if(e.socket=null,e.reopen.need=!1,t.isFromServerReconnect)r((function(){return n&&n.close&&n.close()}));else{var i=JSON.stringify({id:"clientActiveClose"});1===n.readyState&&s.send(n,i),e.fire("send",i),e.fire("forceClose"),setTimeout((function(){r((function(){return n&&n.close&&n.close()})),clearTimeout(e._closeTimer),e._closeTimer=setTimeout((function(){return r((function(){return n&&n.onclose&&n.onclose({reason:"前端主动关闭并手动触发onclose"})}))}),1e3)}),100)}function r(t){try{t&&t()}catch(e){}}clearTimeout(e.reconnect.timer),clearTimeout(e.reopen.timer),clearTimeout(e.sendTimer),e.initReconnect(),e.initReopen()},send:function(t){var e=this,n=e.sendData;if(r.isObject(t)&&(t=JSON.stringify(t)),!l||!e.socket||!r.isString(t))return;e.fire("send",t);var i=e.getStatus();1===i?(o(),s.send(e.socket,t)):0===i&&(t&&n.push(t),clearTimeout(e.sendTimer),e.sendTimer=setTimeout((function a(){if(o(),!e.socket||0===n.length)return;e.sendTimer=setTimeout(a,100)}),100));function o(){if(1===e.getStatus()&&n.length>0){var t=e.socket;r.forEach(n,(function(e){return s.send(t,e)})),n.length=0}}},getStatus:function(){return this.socket?this.socket.readyState:-1},clearSendList:function(){this.sendData.length=0}})},32:function(t,e,n){"use strict";n.r(e);var i={name:"nc-status",props:["loading"]},r=n(0),o=Object(r.a)(i,(function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticStyle:{padding:"20px 0","text-align":"center","font-size":"14px"}},[this.loading?[e("img",{staticStyle:{width:"16px",height:"16px","vertical-align":"middle","margin-right":"5px"},attrs:{src:"https://static.nowcoder.com/fe/file/images/web/activity/56_1460702753117_F68B6B6E9DBC3FED9828888665D0AF32.gif"}}),this._v(" "),this._t("default",[this._v("加载中，请稍等")])]:[e("img",{staticStyle:{display:"block",width:"63px",height:"72px",margin:"0 auto"},attrs:{src:"https://static.nowcoder.com/fe/file/images/web/activity/56_1450323797641_364BE8860E8D72B4358B5E88099A935A%20.png"}}),this._v(" "),e("div",{staticClass:"mt1"},[this._t("default",[this._v("出现错误，请重试")])],2)]],2)}),[],!1,null,null,null).exports;o.install=function(t){return t.component(o.name,o)};e["default"]=o},326:function(t,e,n){var i=n(2),r=n(1),o=n(4),a=n(7),s=n(9),c=n(12),l=n(29),u=n(3),d=n(25),f=n(17),p=n(178),h=n(39),g=t.exports=o.create();o.mix(g,a,{_template:["<div>",'<p class="pop-verify-tip" style="text-align:center;">#{alertContent}</p>','<div style="width:400px;margin:0 auto;">','<div class="form-group">','<label class="control-label">手机号码</label>','<div class="control-group form-phone-fill js-account">','<div class="btn-group js-country"></div>','<input type="text" placeholder="请输入手机号码">',"</div>","</div>",'<div class="form-group">','<label class="control-label">验证码</label>','<div class="btn-group phone-code">','<div class="control-group js-captcha"><input type="text" placeholder="请输入验证码"></div>','<span class="input-group-btn">','<button class="btn btn-primary js-btn-captcha" style="padding:0 5px;">获取验证码</button>',"</span>","</div>","</div>","</div>",'<div class="pop-phone-tips">','<div style="text-align:right;">','<a href="javascript:void(0);" class="link-gray js-phone-used"><i class="icon-question-sign"></i>手机号码已被注册？</a>',"</div>","</div>",'<a href="javascript:void(0);" class="btn btn-primary btn-lg js-verify" style="display:block;margin:50px auto 0;">确定</a>','<p class="reg-tips" style="text-align:center;margin-top:25px;">点击"确定"按钮，即表示你同意 <a href="https://static.nowcoder.com/protocol/register.html" target="_blank;">《注册协议》</a> 和 <a href="https://static.nowcoder.com/protocol/privacy-policy.html" target="_blank;">《隐私政策》</a></p>',"</div>"].join(""),listeners:[{name:"render",type:"custom",handler:function(){this.initCpn(),this.initCaptcha(),this.initPhoneTips()}},{name:"click .js-verify",handler:function(t){this.submit()}}],show:function(t){var e=new g(t=t||{});u.wrap(e,{title:"验证手机",content:e.html(),width:550,hasNoFooter:!0});return e}},{initCpn:function(){var t=this.getEl(),e=this.cpn={};e.zip=p.initPhoneZip({renderTo:t.find(".js-country")}),e.account=d.transform(t.find(".js-account")),e.captcha=d.transform(t.find(".js-captcha")),e.zip.listen("change",r.bind(this.checkAccount,this)),e.account.listen("blur",r.bind(this.checkAccount,this))},initCaptcha:function(){var t=this,e=t.getEl(".js-btn-captcha"),n=!1,r=0;function o(){if(!n){n=!0;var o=i.trim(t.cpn.zip.val()),a=i.trim(t.cpn.account.val());t.checkAccount((function(t){!t&&(n=!1),t&&h.validatePhone({body:{phone:o+a},captcha:{type:f.captcha.sendVerifyCode},call:function(t){var i;i=++r,(n=!1)||(n=!0,e.addClass("btn-default").removeClass("btn-primary"),c.countDown({second:60,call:function(t){return r===i&&e.html(t+"秒后重新获取"),r!==i},end:function(){r===i&&(e.html("重新获取验证码"),e.addClass("btn-primary").removeClass("btn-default"))}}))},error:function(t){n=!1,u.alert(t.msg)}})}))}}e.on("click",(function(t){t.preventDefault(),o()})),t.listen("destroy",(function(){r++}))},initPhoneTips:function(){this.getEl().find(".js-phone-used").on("click",(function(){n(577).show({})}))},val:function(){var t=this.cpn,e=i.trim(t.zip.val())||"+86",n=i.trim(t.account.val());return{phone:e+n,code:i.trim(this.cpn.captcha.val())}},submit:function(){var t=this,e=t.cpn,n=t.rawConfig,i=t.getEl(".js-verify");t.check((function(r){if(r&&!l.mark(i)){var o=t.val();h.activePhone({body:o,call:function(){t.popup.close(),u.tips("验证成功"),n.ok&&n.ok(o.phone,o.code)},error:function(t){var n=t.msg||"";-1!==n.indexOf("验证码")?e.captcha.setErrorTips(n):u.alert(t.msg)},always:function(){l.clear(i)}})}}))},check:function(t){var e=this.val(),n=this.cpn,i=!0;e.code||(n.captcha.setErrorTips("验证码不能为空"),i=!1);this.checkAccount((function(e){t&&t(i&&e)}))},checkAccount:function(t){var e=this.accountMap=this.accountMap||{},n=this.cpn.account,r=i.trim(this.cpn.zip.val()),o=i.trim(n.val()),a=e[o];if("+86"===r?!s.isPhone(o):!/^\d{3,}$/.test(o))return n.setErrorTips("请输入正确的手机号码"),t&&t(!1);if(!0===a)return n.setErrorTips("该手机号码已经被注册"),t&&t(!1);if(!1===a)return n.setSuccess(),t&&t(!0);h.checkPhone({query:{phone:r+o},call:function(){e[o]=!1,o===i.trim(n.val())&&n.setSuccess(),t&&t(!0)},error:function(){e[o]=!0,o===i.trim(n.val())&&n.setErrorTips("该手机号码已经被注册"),t&&t(!1)}})},_getData:function(t){return{alertContent:t.alertContent||"应国家法律要求，使用该功能时需完成手机号验证。<br />感谢您的支持和理解 ⁄(⁄ ⁄•⁄ω⁄•⁄ ⁄)⁄. "}}})},33:function(t,e,n){var i=n(2),r=n(1),o=n(3),a=n(13),s=(n(39),n(667)),c=n(130);t.exports={showLogin:function(t){var e=this,n=(t=t||{}).href;return s.show({href:n,loginCb:function(){if(!n||window.location.href===n)return window.location.reload();window.location.href=n},registerCb:function(){e.showCompleteInfo({close:function(){window.location.reload()}})}})},showActive:function(){var t=a.getUser();return t&&t.ownerId&&new o({title:"帐号激活提醒",hasNoFooter:!0,content:['<div class="pop-account-content">','<p class="pop-tip">亲爱的用户</p>','<p class="pop-tip">你的帐号还没激活，为保障安全暂时无法进行此操作。</p>','<div class="submit-btnbox">','<a class="btn btn-primary confirm-btn" href="'+a.getMainDomain(!0)+"/profile/"+t.ownerId+'/account">去设置</a>',"</div>","</div>"].join("")})},showCompleteInfo:function(t){t=t||{};return c.show({callCb:t.call||function(){window.location.reload()},closeCb:t.close})},click:function(t){var e=this,n=i(t.el);function r(n){var r=i(n.currentTarget);t.click&&t.click(n,r),function(n,i){!t.needLogin&&i&&i(),t.needLogin&&e.checkLogin(n,i)}(r,(function(){!function(n,i){!t.needActive&&i&&i(),t.needActive&&e.checkActive(n,i)}(r,(function(){t.call&&t.call(n,r)}))}))}n=n.get(0)?n:i(document),t.cls?n.on("click",t.cls,r):n.on("click",r)},checkLogin:function(t,e){r.isFunction(t)&&(e=t,t=null);if(a.isLogin())return e&&e(t);(t=t?i(t):null)&&!t.hasClass("nc-req-auth")&&this.showLogin()},checkActive:function(t,e){var n=this;r.isFunction(t)&&(e=t,t=null);n.checkLogin(t,(function(){if(a.isActive())return e&&e(t);(t=t?i(t):null)&&!t.hasClass("nc-req-active")&&n.showActive()}))}}},351:function(t,e,n){var i,r,o,a=n(627),s=n(177),c=n(236),l=n(262),u=n(237),d=n(492),f=n(496),p=n(497),h=s.WeakMap;if(a){var g=d.state||(d.state=new h),v=g.get,m=g.has,w=g.set;i=function(t,e){return e.facade=t,w.call(g,t,e),e},r=function(t){return v.call(g,t)||{}},o=function(t){return m.call(g,t)}}else{var y=f("state");p[y]=!0,i=function(t,e){return e.facade=t,l(t,y,e),e},r=function(t){return u(t,y)?t[y]:{}},o=function(t){return u(t,y)}}t.exports={set:i,get:r,has:o,enforce:function(t){return o(t)?r(t):i(t,{})},getterFor:function(t){return function(e){var n;if(!c(e)||(n=r(e)).type!==t)throw TypeError("Incompatible receiver, "+t+" required");return n}}}},352:function(t,e,n){var i=n(629),r=n(490);t.exports=function(t){return i(r(t))}},353:function(t,e){var n={}.toString;t.exports=function(t){return n.call(t).slice(8,-1)}},354:function(t,e,n){var i=n(489),r=Math.min;t.exports=function(t){return t>0?r(i(t),9007199254740991):0}},355:function(t,e,n){var i=n(37),r=n(229),o=n(562),a=n(354),s=n(505),c=n(564),l=n(561),u=function(t,e){this.stopped=t,this.result=e};t.exports=function(t,e,n){var d,f,p,h,g,v,m,w=n&&n.that,y=!(!n||!n.AS_ENTRIES),b=!(!n||!n.IS_ITERATOR),x=!(!n||!n.INTERRUPTED),C=s(e,w,1+y+x),k=function(t){return d&&l(d),new u(!0,t)},S=function(t){return y?(r(t),x?C(t[0],t[1],k):C(t[0],t[1])):x?C(t,k):C(t)};if(b)d=t;else{if("function"!=typeof(f=c(t)))throw TypeError("Target is not iterable");if(o(f)){for(p=0,h=a(t.length);h>p;p++)if((g=S(t[p]))&&g instanceof u)return g;return new u(!1)}d=f.call(t)}for(v=d.next;!(m=v.call(d)).done;){try{g=S(m.value)}catch(E){throw l(d),E}if("object"==i(g)&&g&&g instanceof u)return g}return new u(!1)}},356:function(t,e){t.exports=function(t){try{return{error:!1,value:t()}}catch(e){return{error:!0,value:e}}}},357:function(t,e,n){t.exports=n(28)(34)},358:function(t,e,n){var i=n(575);t.exports=function(t,e){if(t){if("string"==typeof t)return i(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?i(t,e):void 0}}},367:function(t,e,n){},368:function(t,e,n){},37:function(t,e,n){t.exports=n(28)(1)},38:function(t,e,n){var i=n(2),r=(n(1),n(7)),o=n(4),a=(n(8),t.exports=o.create());o.mix(a,r,{xtype:"checkbox",_template:['<label class="#{chbCls}">','<span class="icons"></span>','<input type="#{chbType}" #{isChecked} data-toggle="#{chbToggle}" value="#{val}" name="#{name}" />#{text}',"</label>"].join(""),listeners:[{name:"render",type:"custom",handler:function(){var t=this.rawConfig,e=this.getEl();this.iconEl=e.find("span"),this.valIpt=e.find("input"),this._val=t.val||0===t.val?t.val:this.valIpt.val()||"",t.checked&&this.checked()}},{name:"click",type:"bind",handler:function(t){t.stopPropagation(),t.preventDefault(),this.fire("click")}},{name:"click",type:"custom",handler:function(){var t=this.rawConfig;this.getEl();this.isDisabled()||t.canChange&&!1===t.canChange.call(this)||(this.checked(!this.isChecked()),this.fire("change"),t.change&&t.change.call(this))}}],transformConf:function(t){var e={checked:!!t.hasClass("checked"),disabled:!!t.hasClass("disabled"),radio:!!t.hasClass("radio"),val:t.find("input").val(),text:i.trim(t.text())};t.addClass(e.radio?"radio":"checkbox"),0===t.find("span.icons").length&&t.prepend('<span class="icons"></span>');0===t.find("input").length&&t.prepend('<input value="'+(e.val||"")+'" type="'+(e.radio?"radio":"checkbox")+'" />');return e}},{val:function(t){var e=this;e.getEl();if(0===arguments.length)return e._val;e._val=t,e.valIpt.val(t)},text:function(){return this.rawConfig.text},disabled:function(t){this.getEl()[!1===t?"removeClass":"addClass"]("disabled")},isDisabled:function(){return this.getEl().hasClass("disabled")},checked:function(t){var e=this.rawConfig,n=this.getEl(),i=e.checkedCls;(t=!1!==t)?(n.addClass("checked"),this.valIpt.attr("checked",1),i&&n.addClass(i)):(n.removeClass("checked"),this.valIpt.removeAttr("checked"),i&&n.removeClass(i))},isChecked:function(){return this.getEl().hasClass("checked")},isRadio:function(){return!!this.rawConfig.radio},_getData:function(t){var e=this.isRadio(),n=[e?"radio":"checkbox"];return t.disabled&&n.push("disabled"),t.checked&&n.push("checked"),{chbType:e?"radio":"checkbox",chbToggle:e?"radio":"checkbox",chbCls:n.join(" "),text:t.text,val:t.val,name:t.name}}})},39:function(t,e,n){var i=n(5),r=n(13).isInMainSite();t.exports={domain:r?"":"www.nowcoder.com",domainDev:r?"":"d.nowcoder.com",urlPrefix:"/nccommon",url:{scanGetCode:"/scan/code",scanPingAppScanned:"/scan/updateInfo",makePaper:"/daily-task/makePaper",checkSensitive:"/profile/sensitive/check",searchGetHot:"/search/hot-query",searchGetHistory:"/search/last-query",searchDelHistory:"/search/delete-latest-query",searchClearHistory:"/search/delete-all-latest-query",searchBlackQuery:"/mark-query-black",searchSuggest:"/suggest",queryUnreadCount:"/sns/message/unread-count-v2",blogGetContent:"/blog/content",blogSpam:"/blog/spam",blogOpen:"/profile/blog/open",checkLoginOtherPlace:"/token/login-other-place",getLoginPublicKey:"/environment/config",getOauthState:"/register/oauthState",login:"/login/do",logout:"/logout/do",register:"/register/new",getSMSSupportCountries:"/helper/sms/supported_countries",checkEmail:"/register/check-email-available",checkPhone:"/register/check-phone-available",checkNickName:"/register/check-nickname-available",validatePhone:"/register/validate-phone-v2",validateEmail:"/register/validate-email",activePhone:"/register/active-phone",activeOAuthPhone:"/register/active-phone-oauth",activeEmail:"/register/active-email",updateEmail:"/profile/update-email",completeness:"/completeness/connect",getBasicInfo:"/completeness/user-info",getUserNameCard:"/profile/#{uid}/card",saveHead:"/saveHead",unbindAccount:"/account/unbind",unbindAccountResult:"/account/previous",sendMessage:"/sns/message/send-msg",queryUsers:"/sns/message/query-users",queryRecentlyUsers:"/sns/message/recently-sent-users",atSuggest:"/at/suggest",subjectSuggest:"/subject/query",follow:"/sns/follow",unfollow:"/sns/unfollow",like:"/sns/like",unlike:"/sns/del_like",blackUser:"/sns/black",unblackUser:"/sns/unblack",getFollowData:"/sns/followdata",codeBigDataRun:"/bigdata/submit",codeBigDataStatus:"/bigdata/status",codeSubmit:"/submit_cd",codeRun:"/submit",codeStatus:"/status",codeSelfTest:"/submit_cd_selftest_withoutdata",codeSelfTestStatus:"/status-self-test",codeDmRun:"/submit_dm_in_terminal",codeDmStatus:"/new_dmstatus",codeGetLastSubmission:"/practice/latestSubmission",codeGetLastAcceptSubmission:"/practice/latestAcceptSubmission",codeGetSubmissionDiff:"/judge/submissionDiff",codeGetMainTips:"/judge/codingMainTips",emojiGetMenu:"/emoji/menu",emojiGetData:"/emoji/data",voteCreate:"/vote/create",voteEdit:"/vote/edit",voteInfo:"/vote/info",vote:"/vote/do-vote",uploadImageOnline:"/upload-image-online",getGtData:"/captcha/geetest/#{type}",getCaptcha:"/captcha/#{type}",getAllSchool:"//static.nowcoder.com/nc/school.jsonp",getSchool:"/school/query",getSchoolBrief:"/school/brief",addSchool:"/school/add/customize",getCityMore:"/city/all",systemTime:"/common/system-time",addReport:"/report/add",isReported:"/report/isReported",cmtMarkSpam:"/admin/mark-comment-spam",cmtMarkUserAllSpam:"/admin/delete-all-ugc",cmtAdd:"/comment/create",cmtDel:"/comment/delete",cmtAccept:"/comment/accept",cmtGetPageNum:"/comment/pageNum",cmtGetPageNumV2:"/comment/pageNum-v2",cmtGetAcceptedList:"/comment/accepted/list",cmtGetWonderfulList:"/comment/woderful/list",cmtAddWonderful:"/comment/wonderful",cmtDelWonderful:"/comment/unwonderful",cmtAddLitigant:"/comment/litigant",cmtDelLitigant:"/comment/un-litigant",cmtGetByPageV2:"/comment/list-by-page-v2",adNotInterest:"/nc-nest/uninterest",createImg:"/helper/share/pic",getAvatarWidget:"/user/decorate/head-decorate",getUserNameUpdateTime:"/user/decorate/last-update-time"}},i.add(t.exports,t.exports.url)},4:function(t,e,n){t.exports=n(28)(4)},40:function(t,e,n){var i=n(625);t.exports=i},41:function(t,e,n){var i=n(645);n(660),n(661),n(662),n(663),t.exports=i},43:function(t,e,n){},44:function(t,e,n){},45:function(t,e,n){t.exports=n(28)(29)},47:function(t,e,n){var i=n(2),r=n(1),o=n(7),a=n(4),s=n(8),c=n(9),l=t.exports=a.create();a.mix(l,o,{_showTips:[],_template:['<div class="tooltip top">','<div class="tooltip-arrow"></div>','<div class="tooltip-inner"></div>',"</div>"].join(""),listeners:[{name:"render",type:"custom",handler:function(){var t=this.rawConfig,e=this.getEl();this.contentEl=e.find("div.tooltip-inner");var n=r.id(t.width);n&&e.outerWidth(n),!n&&!t.autoWidth&&e.css("max-width",250),this.val(t.content,!0),t.noCenter&&this.contentEl.css("textAlign","left"),this.theme(t.theme)}},{name:"destroy",type:"custom",handler:function(){var t=this,e=l._showTips;r.forReverse(e,(function(n,i){return n._index===t._index&&e.splice(i,1)}))}}],index:1,wrap:function(t,e){if(!t||!e)return;e.content=t.html();var n=this.show(e);return t.tips=n,n.listen("render",(function(){return o.setEvents()})),n.listen("destroy",(function(){return t.destroy&&t.destroy()})),t.listen("destroy",(function(){return n.destroy&&n.destroy()})),n},show:function(t){var e,n=i(t.target),o=new l(r.extend({},t,{noRender:!0})),a=!!t.noEnterLeave;return n.on("mouseenter",s).on("mouseleave",u).on("click",u),!a&&o.listen("render",(function(){o.getEl().on("mouseenter",s).on("mouseleave",u)})),o.listen("destroy",(function(){window.clearTimeout(e),n.unbind("mouseenter",s).unbind("mouseleave",u).unbind("click",u),o.getEl().unbind("mouseenter",s).on("mouseleave",u)})),o.listen("forceUniqHide",(function(){window.clearTimeout(e),o.hide()})),l._showTips.push(o),o;function s(){window.clearTimeout(e),e=window.setTimeout((function(){c(),e=window.setTimeout((function(){if(!o.__destroy){if(document.contains&&!document.contains(n.get(0)))return u();c(),e=window.setTimeout(arguments.callee,500)}}),500)}),100)}function c(){r.forEach(l._showTips,(function(t){return t!==o&&t.fire("forceUniqHide")})),o.render(),o.show(),o.attachTo(n,t.attach)}function u(){window.clearTimeout(e),a&&o.hide(),!a&&(e=window.setTimeout((function(){return o.hide()}),100))}},title:function(t,e){e=e||{};var n,o=this,a={},s=l._commonTips=l._commonTips||new l(r.extend({},e.initConf,{noRender:!0}));if(t=i.trim(t),e=e||{},!t)return;if(t=t.replace(/^\.+/,""),u(),!e.keep)return;var c=function(){window.clearTimeout(n),n=window.setTimeout(u,250)};return i(document).on("mousemove",c),function(){i(document).unbind("mousemove",c),window.clearTimeout(n)};function u(){var n=i("."+t);0!==n.length&&r.forEach(n,(function(n){var c;n=i(n);var l=i.trim(n.attr("data-tips-index")),u=i.trim(n.attr("data-title"))||i.trim(n.attr("title")),f="white"===n.attr("data-theme"),p="1"===n.attr("data-tips-left"),h="1"===n.attr("data-tips-vert");if(!l||!a[l]){n.removeAttr("title"),n.attr("data-title",u);var g=i.trim(o.index++);n.attr("data-tips-index",g),a[g]=!0,!e.keepCls&&n.removeClass(t),n.on("mouseenter",(function(t){window.clearTimeout(c);var i=h?r.extend({},e.attachConf,{verReverse:!0}):e.attachConf;s._updateTxt(n,i),s.theme(f),s.contentEl&&s.contentEl.css("textAlign",p?"left":"center"),c=window.setTimeout((function(){if(document.contains&&!document.contains(n.get(0)))return d(s,c);s._updateTxt(n,i),c=window.setTimeout(arguments.callee,500)}),500)})).on("mouseleave",(function(){return d(s,c)})),n.on("click",(function(){return d(s,c)}))}}))}function d(t,e){window.clearTimeout(e),t.hide()}},titleEl:function(t,e,n){2===arguments.length&&r.isFunction(e)&&(n=e);var o=500;function a(t,e){window.clearTimeout(e),t.hide()}r.forEach(t,(function(t){t=i(t);var r,s=new l({noRender:!0}),c="white"===t.attr("data-theme");t.on("mouseenter",(function(n){window.clearTimeout(r),s.theme(c),s._updateTxt(t,e),r=window.setTimeout((function(){if(document.contains&&!document.contains(t.get(0)))return a(s,r);s._updateTxt(t,e),r=window.setTimeout(arguments.callee,o)}),o)})).on("mouseleave",(function(){return a(s,r)})),t.on("click",(function(){return a(s,r)})),n&&n(s)}))}},{initialize:function(t){t.renderTo=t.renderTo||i(document.body)},topArrow:function(t){this.getEl().removeClass("top bottom").addClass(!1===t?"bottom":"top")},val:function(t,e){if(t=(t=i.trim(t)).replace(/(\n)+|(\\n)+/g,"<br />"),!this.rendered)return;this.contentEl.html(t||"&nbsp;"),!0===e&&this.fixPosition()},attachTo:function(t,e){var n=this.getEl();if(!(t=i(t)).get(0))return;var o=s.attachTo(r.extend({zIndex:1e4},e,{el:this.getEl(),target:t}));this.topArrow(!!o.verReverse);var a=n.find("div.tooltip-arrow"),c=t.outerWidth(),l=n.outerWidth(),u=parseInt(n.css("left"),10),d=0;if(!e||!e.horz)if(o.reverse){a.css("left","50%"),d=1+(l-c)/2;var f=parseInt(a.css("left"),10);a.css("left",Math.min(f+d,l-13))}else if((u-=(l-c)/2)<1&&(d=1-u,u=1),n.css("left",u),a.css("left","50%"),d>0){f=parseInt(a.css("left"),10);a.css("left",Math.max(f-d,13))}},fixPosition:function(){var t=this.rawConfig;this.attachTo(t.target,t.attach)},theme:function(t){var e=this.getEl();t=!!t,this.isWhite!==t&&(e[t?"addClass":"removeClass"]("tooltip-info"),e.find(".tooltip-arrow").html(t?"<i></i>":""),this.isWhite=t)},_updateTxt:function(t,e){if(!(t=i(t)).get(0))return;var n="1"===t.attr("data-encode"),r=i.trim(t.attr("title"))||i.trim(t.attr("data-title")),o=i.trim(t.attr("data-title"));r=n?c.encodeHTML(r):r,t.removeAttr("title"),r!==o&&(t.attr("data-title",r),t.removeAttr("data-encode"));if(!r)return;this.render(),this.show(),this.val(r),this.attachTo(t,e)}})},487:function(t,e,n){"use strict";var i=n(2),r=n(1),o=n(12),a=0,s=[];var c={props:["isShow","isShowContent","zIndex","needClick","clickToHide"],data:function(){return{height:0,index:1e3+a++,top:0,marginLeft:0,marginTop:0}},created:function(){this.win=i(window),this.doc=i(document.body),this.initRef(),this.$mount(),i(document.body).append(this.$el)},mounted:function(){var t=this;t.$nextTick((function(){t.initResize(),t.initOverflow(),t.fixPosition()}))},methods:{initRef:function(){var t=this;s.push(t),t.$on("hook:destroyed",(function(){r.forReverse(s,(function(e,n){e===t&&s.splice(n,1)}))}))},initResize:function(){var t=this,e=o.frequency(250);function n(){e((function(){t.$emit("winresize"),t.fixPosition()}))}t.win.on("resize",n),t.win.on("scroll",n),t.$on("hook:destroyed",(function(){t.win.unbind("resize",n),t.win.unbind("scroll",n)}))},initOverflow:function(){var t=this;t.isNeedShow&&t.hideOverflow(),t.$watch("isNeedShow",(function(e){t.hideOverflow(!!e)})),t.$on("hook:destroyed",(function(){t.hideOverflow(!1)}))},hide:function(){this.$destroy()},hideOverflow:function(t){var e=i(document.body),n=+e.attr("data-of-count")||0;n+=!1===t?-1:1,e.attr("data-of-count",n),!1===t?n<=0&&(e.hasClass("nk-body")&&e.removeClass("nk-body"),e.removeAttr("data-of-count")):!e.hasClass("nk-body")&&e.addClass("nk-body")},fixPosition:function(){i(this.$el);var t=this.win.height();this.height=t,this.top=Math.max(this.win.scrollTop()||this.doc.scrollTop())},center:function(t){t=i(t);var e=i(this.$el),n=t.width(),r=t.height(),o=e.width(),a=e.height();this.marginLeft=o>n?(o-n)/2:0,this.marginTop=a>r?(a-r)/2:0},actionClick:function(t){var e=this.$refs.content;(this.clickToHide||this.needClick)&&e&&(i.contains(e,t.target)||(this.$emit("click"),this.clickToHide&&this.hide()))}},computed:{isNeedShow:function(){return this.isShow===undefined||!!this.isShow}}},l=n(0),u=Object(l.a)(c,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{directives:[{name:"show",rawName:"v-show",value:t.isNeedShow,expression:"isNeedShow"}],staticClass:"layer-container",staticStyle:{width:"100%"},style:"height:"+t.height+"px;z-index:"+(t.zIndex||t.index)+";top:"+t.top+"px;",on:{click:t.actionClick}},[n("div",{staticClass:"layer-container-bg"}),t._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:t.isShowContent,expression:"isShowContent"}],ref:"content",staticClass:"layer-container-content"},[t._t("default",null,{left:t.marginLeft,top:t.marginTop})],2)])}),[],!1,null,null,null);e.a=u.exports},489:function(t,e){var n=Math.ceil,i=Math.floor;t.exports=function(t){return isNaN(t=+t)?0:(t>0?i:n)(t)}},490:function(t,e){t.exports=function(t){if(t==undefined)throw TypeError("Can't call method on "+t);return t}},491:function(t,e,n){var i=n(492),r=Function.toString;"function"!=typeof i.inspectSource&&(i.inspectSource=function(t){return r.call(t)}),t.exports=i.inspectSource},492:function(t,e,n){var i=n(177),r=n(493),o=i["__core-js_shared__"]||r("__core-js_shared__",{});t.exports=o},493:function(t,e,n){var i=n(177),r=n(262);t.exports=function(t,e){try{r(i,t,e)}catch(n){i[t]=e}return e}},494:function(t,e,n){var i=n(177),r=n(236),o=i.document,a=r(o)&&r(o.createElement);t.exports=function(t){return a?o.createElement(t):{}}},495:function(t,e,n){var i=n(236);t.exports=function(t,e){if(!i(t))return t;var n,r;if(e&&"function"==typeof(n=t.toString)&&!i(r=n.call(t)))return r;if("function"==typeof(n=t.valueOf)&&!i(r=n.call(t)))return r;if(!e&&"function"==typeof(n=t.toString)&&!i(r=n.call(t)))return r;throw TypeError("Can't convert object to primitive value")}},496:function(t,e,n){var i=n(552),r=n(553),o=i("keys");t.exports=function(t){return o[t]||(o[t]=r(t))}},497:function(t,e){t.exports={}},498:function(t,e,n){var i=n(293),r=n(628),o=n(309),a=n(352),s=n(495),c=n(237),l=n(551),u=Object.getOwnPropertyDescriptor;e.f=i?u:function(t,e){if(t=a(t),e=s(e,!0),l)try{return u(t,e)}catch(n){}if(c(t,e))return o(!r.f.call(t,e),t[e])}},499:function(t,e,n){var i=n(177);t.exports=i},5:function(t,e,n){var i=n(13),r=n(197),o=n(665),a=n(2),s=n(198),c=n(1),l=n(357),u=n(666),d=o.val();t.exports={_ajaxIframeCache:{iframe:{},cb:{}},request:function(t){var e=this;return u.c2p((function(t){return e.requestCb(t)}))(t)},requestCb:function(t){function e(e){l.request({$:e,config:t.config||{},methodName:t.methodName,sync:!!t.sync,type:l.getRequestType(t),url:t.url,body:t.body,query:c.extend({token:s.get("csrf_token"),lang:d},t.query),params:t.params,timeout:t.timeout,dataType:t.dataType,json:t.json,jsonpCallback:t.jsonpCallback,cache:t.cache,beforeSend:t.beforeSend,complete:t.complete,callCode:i,call:t.call,error:t.error,always:t.always})}function i(i,r){var o=+i.code;if(999===o&&!t.noDealAuth)return n(33).showLogin(),!1;if(1012===o)return n(326).show({ok:function(){return e(a)}}),!1;var s=t.captcha;return s&&s.type&&c.id(s.code||1125)===c.id(o)?(function(t,i,r){var o=t.captcha;n(169).show({type:o.type,call:function(n){var i=t.captchaHandler,r="get"===l.getRequestType(t).toLowerCase()?"query":"body";i&&i(t,n),!i&&(t[r]=c.extend({},t[r],n)),e(a)},cancel:function(){return t.error&&t.error(i,r)}})}(t,i,r),!1):void 0}"jsonp"===t.dataType?e(a):r.create(t.url,e)},add:function(t,e,n,r,o){var a=this,s=t.urlPrefix||"";e=e||t.url,n=n||t.domain,r=r||t.domainDev,o=o||t.domainPre;var u=i.isInHttps(),d=i.isInDev(),f=i.isInPre();d?n=r||(n?"d."+n:n):f&&(n=o||n);c.forEach(e,(function(e,i){c.isString(e)&&(e=s+e,e=n&&!/^(?:http|\/\/)/.test(e)?(u?"https://":"http://")+n+e:e,t[i]=function(t){return t=l.getConfParam(t,e,i),a.request(t)},t[i+"Url"]=function(t){return l.getConfUrl(t,e,i)})}))}}},500:function(t,e){t.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},501:function(t,e,n){var i=n(237),r=n(502),o=n(496),a=n(637),s=o("IE_PROTO"),c=Object.prototype;t.exports=a?Object.getPrototypeOf:function(t){return t=r(t),i(t,s)?t[s]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?c:null}},502:function(t,e,n){var i=n(490);t.exports=function(t){return Object(i(t))}},503:function(t,e,n){var i,r=n(229),o=n(639),a=n(500),s=n(497),c=n(559),l=n(494),u=n(496),d=u("IE_PROTO"),f=function(){},p=function(t){return"<script>"+t+"<\/script>"},h=function(){try{i=document.domain&&new ActiveXObject("htmlfile")}catch(r){}var t,e;h=i?function(t){t.write(p("")),t.close();var e=t.parentWindow.Object;return t=null,e}(i):((e=l("iframe")).style.display="none",c.appendChild(e),e.src=String("javascript:"),(t=e.contentWindow.document).open(),t.write(p("document.F=Object")),t.close(),t.F);for(var n=a.length;n--;)delete h.prototype[a[n]];return h()};s[d]=!0,t.exports=Object.create||function(t,e){var n;return null!==t?(f.prototype=r(t),n=new f,f.prototype=null,n[d]=t):n=h(),e===undefined?n:o(n,e)}},504:function(t,e,n){var i=n(282).f,r=n(237),o=n(186)("toStringTag");t.exports=function(t,e,n){t&&!r(t=n?t:t.prototype,o)&&i(t,o,{configurable:!0,value:e})}},505:function(t,e,n){var i=n(295);t.exports=function(t,e,n){if(i(t),e===undefined)return t;switch(n){case 0:return function(){return t.call(e)};case 1:return function(n){return t.call(e,n)};case 2:return function(n,i){return t.call(e,n,i)};case 3:return function(n,i,r){return t.call(e,n,i,r)}}return function(){return t.apply(e,arguments)}}},506:function(t,e,n){var i={};i[n(186)("toStringTag")]="z",t.exports="[object z]"===String(i)},507:function(t,e,n){var i=n(283);t.exports=i("navigator","userAgent")||""},508:function(t,e,n){var i=n(353),r=n(177);t.exports="process"==i(r.process)},509:function(t,e,n){var i,r,o=n(177),a=n(507),s=o.process,c=s&&s.versions,l=c&&c.v8;l?r=(i=l.split("."))[0]+i[1]:a&&(!(i=a.match(/Edge\/(\d+)/))||i[1]>=74)&&(i=a.match(/Chrome\/(\d+)/))&&(r=i[1]),t.exports=r&&+r},510:function(t,e,n){var i=n(2),r=n(7),o=n(29),a=n(4),s=(n(1),n(21)),c=n(3),l=n(39),u=n(17),d=t.exports=a.create();a.mix(d,r,{_template:['<div class="wrapper-content clearfix">','<div class="form-group verify-box">','<label class="control-label">验证码</label>','<div class="control-group">','<input type="text" class="popupcaptcha-val" />',"</div>",'<img class="verify-pic" alt="验证码图片" src="#{src}" />','<a href="javascript:void(0);" class="change-verify">看不清，换一张</a>',"</div>","</div>"].join(""),listeners:[{name:"render",type:"custom",handler:function(){var t=this.getEl();this.ipt=t.find("input.popupcaptcha-val"),this.image=t.find("img.verify-pic"),this.ipt.focus()}},{name:"click a.change-verify",handler:function(t){var e=i(t.currentTarget);if(!o.mark(e)){var n=i('<img class="verify-pic" alt="验证码图片" src="'+this.getImgSrc()+'" />');this.image.replaceWith(n),this.image=n,this.ipt.val("").focus(),o.pause(e)}}},{name:"keydown input.popupcaptcha-val",type:"bind",handler:function(t){13===t.keyCode&&this.popup&&this.popup.ok()}}],show:function(t){var e=new d(t=t||{});c.wrap(e,{title:t.title||"请输入验证码",content:e.html(),width:400,okTxt:"确定",cancelTxt:"取消",ok:function(){var n=i.trim(e.ipt.val());if(!n)return e.ipt.focus(),!0;t.call&&t.call({code:n})},cancel:function(){t.cancel&&t.cancel()}});return e}},{getImgSrc:function(){var t=this.rawConfig,e=t.type||u.captcha.refAnswer,n=t.url||l.getCaptchaUrl({params:{type:e}});return s.addParam({t:(new Date).getTime()},n)},_getData:function(t){return{src:this.getImgSrc()}}})},511:function(t,e,n){n(694);var i=n(218),r=n(2),o=n(7),a=n(4),s=n(12),c=n(1),l=n(8),u=n(19),d=n(512),f=n(580),p=n(697),h=n(698),g=n(699),v=t.exports=a.create();function m(t,e){return f.md2html(t,e)}a.mix(v,o,{_template:'\n    <div class="editor-box ke-container ke-container-nowcoder">\n        <div class="ke-toolbar"></div>\n        <div style="background:#ffffff;overflow:hidden;" class="ke-edit clearfix">\n            <textarea class="ke-edit-textarea ke-md-textarea js-ipt"></textarea>\n            <textarea class="ke-edit-textarea ke-md-textarea js-bak-ipt" style="position:absolute;top:0;left:0;display:none;height:0;overflow:hidden;"></textarea>\n            <div class="ke-md-edit-preview"><iframe hidefocus="true" allowtransparency="true" frameborder="0"></iframe></div>\n            <div class="js-fold unfold-textarea"></div>\n            <div class="js-fold fold-textarea"></div>\n        </div>\n    </div>',listeners:[{name:"render",type:"custom",handler:function(){var t=this.rawConfig;this.getEl();this.initEl(),this.iptEl.attr("placeholder",r.trim(t.placeholder)||"请使用gfm规范"),this.iptEl.val(t.content||""),this.initPreview(),this.initAutoHeight(),this.initToolBar(),this.showPreview(!t.noPreivew),this.initContentChange(),this.initEvent(),t.disabled&&this.disable(),t.content&&this.fire("afterChange"),this.history.record(),this.initPlugin()}},{name:"click .js-insert-md",handler:function(t){var e=r(t.currentTarget),n=r.trim(e.attr("data-type"));n&&this.insertMd(n)}}],loadDep:function(t){i.kindeditor({onlyCss:!0,call:function(){return t&&t()}})},html2md:function(t){return f.html2md(t)},md2html:m},{initialize:function(){this.isMd=!0},initEl:function(){var t=this.getEl();this.toolbarEl=t.find("div.ke-toolbar"),this.bodyEl=t.find("div.ke-edit"),this.iptEl=t.find("textarea.js-ipt"),this.bakIptEl=t.find("textarea.js-bak-ipt"),this.previewEl=t.find("div.ke-md-edit-preview"),this.iframeEl=this.previewEl.find("iframe"),this.iframeDoc=this.iframeEl.get(0).contentDocument||this.iframeEl.get(0).contentWindow.document,this.iframeWin=this.iframeEl[0].contentWindow,this.unfoldEl=t.find("div.unfold-textarea"),this.foldEl=t.find("div.fold-textarea"),this.selection=new p({input:this.iptEl}),this.cmd=new h({editor:this}),this.history=new g({editor:this})},initEvent:function(){var t=this,e=t.rawConfig,n=t.getEl(),i=t.iptEl,r=(t.cmd,t.history),o="macintosh"===(u.getOs()||{}).os;n.on("click","div.js-editor-mask",(function(){return e.clickMask&&e.clickMask.call(t)})),i.on("keydown",(function(n){var i=n.keyCode;9===i?(n.preventDefault(),t.selection.insert("    ")):(n.ctrlKey||n.metaKey)&&(89===i||n.shiftKey&&90===i?(n.preventDefault(),r.redo()):90===i?(n.preventDefault(),r.undo()):13===i&&(o&&n.metaKey||!o&&n.ctrlKey)&&(n.preventDefault(),t.fire("pressEnter"),e.pressEnter&&e.pressEnter()))}))},initPlugin:function(t){var e=this,i=n(700),r=n(701),o=n(702),a=n(703),s=n(719),l=n(720),u=n(721),d=[i,r,o,a,s,l,u];c.forEach(d,(function(t){return new t(e)}))},initPreview:function(){var t=this,e=t.getEl(),n=t.rawConfig,i=s.frequency(500),o=t.iframeDoc;function a(){i((function(){if(t.isInPreview){var e=t.iptEl.val(),n=t.getMdHtml(e,{showLine:!0});t.iframeDoc.body.innerHTML=n||"",l.highlight({el:r(t.iframeDoc.body).find("pre.prettyprint"),noCopy:!0}),t.fire("updatePreview")}}))}o.open(),o.write('<html><head><meta charset="utf-8" /><title>预览</title><link rel="stylesheet" href="https://static.nowcoder.com/lib/highlighter/index.css?t=6"><style>'+d.css+'</style></head><body style="overflow-y:'+(n.noAutoHeight?"auto":"hidden")+';margin:5px 5px 5px 21px;"></body></html>'),o.close(),t.listen("afterChange",a),t.listen("showPreview",a),e.find(".js-fold").on("click",(function(e){var n=r(e.currentTarget);t.showPreview(n.hasClass("fold-textarea"))}))},initAutoHeight:function(){var t=this,e=t.rawConfig,n=t.iptEl,i=s.frequency(100);function r(){i((function(){t.reWidth((t.lastSize||{}).width),t.autoHeight()}))}t.listen("afterChange",r),n.on("keyup",r),n.on("keydown",r),n.css("overflow-y",e.noAutoHeight?"auto":"hidden")},initContentChange:function(){var t,e,n=this,i=n.rawConfig,r=n.iptEl,o=n.history,a=s.frequency(800,!0);n.listen("destroy",(function(){return window.clearInterval(e)}));var c=r.val()||null;function u(){a((function(){var e=r.val();t!==e&&(t=e,n.fire("draftChange"),i.draftChange&&i.draftChange.call(n,n.val()))}))}l.bindChange(r,(function(){var t=r.val();t!==c&&(c=t,o.record(),u(),n.fire("afterChange"))})),i.draftChange&&(e=window.setInterval(u,1600))},initToolBar:function(t){var e=this,n=e.rawConfig,i=e.toolbarEl,o=e.history,a=e.cmd;t=t||"preview,|,bold,italic,|,codeblock,bockquote,insertorderedlist,insertunorderedlist,link,|,image,|,math,removeformat".split(","),t=n.isAdmin?t:"preview,|,bold,italic,|,codeblock,bockquote,insertorderedlist,insertunorderedlist,link,|,image,|,math,removeformat".split(",");var s=f.getToolbarHtml(t);i.append(s),i.on("click",".ke-toolbar-icon",(function(t){t.preventDefault();var n=r(t.currentTarget).attr("data-name");n&&a[n]&&a[n](),e.fire("afterChange"),o.record(!0)}))},insertMd:function(t){var e=this,n=(e.selection,e.iptEl),i=t&&{h1:"\n# 标题\n",h2:"\n## 标题\n",h3:"\n### 标题\n",hr:"\n---\n",strong:" **加粗** ",em:" *斜体* ",code:" `行内代码`",blockcode:"\n```\n代码块\n```\n",ul:"\n- 无序列表内容\n- 无序列表内容\n",ol:"\n1. 有序列表内容\n2. 有序列表内容\n",blockquote:"\n> 引用内容\n",link:" [链接标题](https://www.nowcoder.com) ",image:' ![图片说明](https://static.nowcoder.com/images/logo_87_87.png "图片标题") '}[t]||"";i&&function(t){var i=n.range().start;n.caret(i),n.range(t),n.caret(i+t.length),e.fire("afterChange")}(i)},val:function(t){var e=this;if(0===arguments.length){var n=e.iptEl.val();return e.getMdHtml(n)}var i=v.html2md(t);e.text(i)},text:function(t){var e=this;if(0===arguments.length)return e.iptEl.val();e.iptEl.val(t||""),e.fire("afterChange")},blur:function(){this.iptEl.blur()},focus:function(){this.iptEl.focus(),this.selection.focus()},disable:function(t){var e=this.getEl(),n=e.find(".js-editor-mask");if(!(t=!1!==t))return n.hide();0===n.length&&(n=r('<div class="js-editor-mask" style="background:#fff;opacity:0;filter:alpha(opacity=0);position:absolute;width:100%;height:100%;top:0;left:0;z-index:999;"></div>'),e.append(n));n.show()},isEmpty:function(){return!r.trim(this.text())},showPreview:function(t){var e=this.rawConfig,n=this.getEl();t=!1!==t,this.isInPreview=t,n[t?"removeClass":"addClass"]("ke-md-no-preview"),this.selectToolbarItem("preview",t),this.fire("showPreview",t);var i=this.lastSize||{},r=i.width||e.width||"auto",o=i.height||Math.max(+e.height||0,150);this.resize(r,o)},resize:function(t,e){var n=this.rawConfig;this.getEl();if(this.lastSize={width:t,height:e},this.reWidth(t),e){var i=this.toolbarEl.outerHeight(),r=Math.max(e-i-2,0);if(this._editHeight=r,n.noAutoHeight){this.bodyEl.outerHeight(r);var o=this.bodyEl.height();this.iptEl.outerHeight(o),this.previewEl.outerHeight(o)}else this.autoHeight()}(t||e)&&this.fire("resize")},reWidth:function(t){var e=this.getEl(),n=this.lastSize&&this.lastSize.width===t;this.lastSize&&(this.lastSize.width=t),!n&&t&&e.css("outerWidth",t)},autoHeight:function(){var t=this.rawConfig,e=this.getEl();if(t.noAutoHeight)return;var n=l.getScrollParent(e),i=(n=r(n||window)).scrollTop(),o=this.isInPreview?this.getIframeHeight():0,a=this.getTxtHeight(),s=Math.max(o,a,this._editHeight);if(this._lastHeight===s)return;this.bodyEl.outerHeight(s),this.iptEl.outerHeight(s),this.previewEl.outerHeight(s),this.iframeEl.outerHeight(s);var c=this._lastHeight?s-this._lastHeight:0;this._lastHeight=s,n.scrollTop(i+c)},selectToolbarItem:function(t,e){var n=this.toolbarEl.find("a[data-name="+t+"]").parent();n[(e=!1!==e)?"addClass":"removeClass"]("ke-on"),n[e?"attr":"removeAttr"]("data-on",1)},getTxtHeight:function(){var t=this.bakIptEl;t.width(this.iptEl.width()),t.val(this.iptEl.val()).show();var e=t.get(0).scrollHeight;return t.hide(),e},getIframeHeight:function(){var t=this.iframeEl.height(),e=this.iframeDoc.body;this.iframeEl.height(1);var n=e.scrollHeight;return this.iframeEl.height(t),n},getMdHtml:m})},512:function(t,e){t.exports={css:['body{font-size:14px;background-color:transparent;font-family:arial,STHeiti,"Microsoft YaHei";line-height:1.8;word-break:break-word;}',"body.show-placeholder::before{color:#d7d7d7;content:attr(data-placeholder);pointer-events:none;position:absolute;white-space:pre;}","a{color:#25bb9b;text-decoration: none;}","a:hover{color:#333}","img{max-width:100%;cursor:-moz-zoom-in;cursor:-webkit-zoom-in;cursor:zoom-in;cursor:url(//static.zhihu.com/static/img/zoom-in.cur)}","img[data-vote-id]{display:block;margin:10px 0;}","img[data-card-emoji]{width:100px;height:100px;}","h1,h2,h3,h4,h5,h6{margin-top:24px;margin-bottom:16px;font-weight:600;line-height:1.25}","h1{padding-bottom:.3em;font-size:2em;border-bottom:1px solid #eaecef}","h2{padding-bottom:.3em;font-size:1.5em;border-bottom:1px solid #eaecef}","h3{font-size:1.25em}","h4{font-size:1em}","h6{font-size:.85em;color:#6a737d}","blockquote,dl,ol,p,pre,table,ul{margin:12px 0}","ol,ul{padding-left:2em}","ul{list-style-type:disc}","li+li{margin-top:.25em}","ol{list-style-type:decimal}","ol ol ul,ol ul ul,ul ol ul,ul ul ul{list-style-type:square}","ol ol,ol ul,ul ol,ul ul{margin-top:0;margin-bottom:0;list-style-type:circle}","ol ol,ul ol{list-style-type:lower-roman}","ol ol ol,ol ul ol,ul ol ol,ul ul ol{list-style-type:lower-alpha}","blockquote{padding:0.25em 1em;border-left:2px solid #b3b3b3;background-color:#f6f8fa;}","pre{padding:0.25em 1em;overflow:auto;line-height:1.45;background-color:#f6f8fa;border-radius:0 3px 3px 0;border:none;border-left:2px solid #1abc9c}","em{font-weight:inherit;font-style:italic}","body>:last-child{margin-bottom:0!important}","pre{word-wrap:normal}","pre>code{padding:0;margin:0;font-size:100%;word-break:normal;white-space:pre;background:0 0;border:0}","pre code,pre tt{display:inline;max-width:auto;padding:0;margin:0;overflow:visible;line-height:inherit;word-wrap:normal;background-color:transparent;border:0}","code,tt{padding:.2em .4em;margin:0;font-size:85%;background-color:rgba(27,31,35,.05);border-radius:3px}","table{display:block;overflow:auto;width:auto;border:none;max-width:none;border-collapse:collapse;}","table tr{background-color:#fff;border-top:1px solid #c6cbd1}","table td,table th{padding:6px 13px;border:1px solid #dfe2e5}","table th{font-weight:600}","table tr:nth-child(2n){background-color:#f6f8fa}",".md-highlight{background:#cee7f5;}","video {display:block}"].join("")}},53:function(t,e,n){t.exports=n(28)(11)},54:function(t,e,n){var i=n(14);function r(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function o(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?r(Object(n),!0).forEach((function(e){i(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var a=n(2),s=n(1),c=n(4),l=n(7),u=n(179),d=n(8),f=n(61),p=n(81),h=n(39),g=t.exports=c.create(),v={description:"默认",type:"-1"};c.mix(g,l,{_template:'\n    <div class="tooltip bottom tooltip-info" style="position:relative;">\n        <div class="tooltip-arrow" style="left:50%;margin-left:-9px;"><i></i></div>\n        <div class="tooltip-inner layer-emotion-box js-main"></div>\n    </div>',listeners:[{name:"render",type:"custom",handler:function(){var t=this.rawConfig,e=this.getEl();t.verReverse&&e.removeClass("bottom").addClass("top"),e.find(".js-main").html(this.getTips()),this.initContent()}},{name:"click .js-type",handler:function(t){var e=a(t.currentTarget),n=a.trim(e.attr("data-type"));this.select(n,0)}},{name:"click .js-page",handler:function(t){var e=a(t.currentTarget),n="next"===a.trim(e.attr("data-type"));g.dataMap[this.currentType];this.select(this.currentType,this.currentPage+(n?1:-1))}},{name:"click .js-emoji-item",handler:function(t){var e=this.rawConfig,n=this.getEmojiByEl(t.currentTarget).emoji;if(n){var i=!!n.word,r={isEmoji:i,text:n[i?"word":"name"],html:i?"<span>"+n.word+"</span>":n.url};e.call&&e.call(r),this.fire("select",r)}}}],show:function(t){var e=new g(t=t||{}),n="verReverse"in t?!!t.verReverse:undefined;return p.wrap(e,{target:t.target,content:e.html(),attach:o(o({verReverse:n},t.attach),{},{center:true})}).listen("attachShow",(function(){return e.fixPosition(t.target,t.fixVerReverse)})),e},renderInIpt:function(t,e){try{(t=a(t)).caret(t.range().end),t.range(e.text),t.caret(t.range().end),d.dispatchEvent(t,"input")}catch(n){}},menuList:null,dataMap:{},getMenu:function(t,e,n){var i=this;if(t)return e&&e([v]);if(i.menuList)return e&&e(i.menuList);h.emojiGetMenu({type:"GET",call:function(t){var n=(t.data||{}).data||[];n.unshift(v),i.menuList=n,e&&e(n)},error:n})},getEmoji:function(t,e,n){var i=this.dataMap,r=s.id(t);r!==v.type||i[r]||(i[r]=g.getDefaultEmoji());if(i[r])return e&&e(i[r]);h.emojiGetData({query:{type:r},call:function(t){var n=(t.data||{}).data||[];i[r]=n,e&&e(n)},error:n})},getDefaultEmoji:function(){return[{id:1,code:"1F600",word:"😀"},{id:2,code:"1F601",word:"😁"},{id:3,code:"1F602",word:"😂"},{id:4,code:"1F923",word:"🤣"},{id:5,code:"1F603",word:"😃"},{id:6,code:"1F604",word:"😄"},{id:7,code:"1F605",word:"😅"},{id:8,code:"1F606",word:"😆"},{id:9,code:"1F609",word:"😉"},{id:10,code:"1F60A",word:"😊"},{id:11,code:"1F60B",word:"😋"},{id:12,code:"1F60E",word:"😎"},{id:13,code:"1F60D",word:"😍"},{id:14,code:"1F618",word:"😘"},{id:16,code:"1F617",word:"😗"},{id:17,code:"1F619",word:"😙"},{id:18,code:"1F61A",word:"😚"},{id:20,code:"1F642",word:"🙂"},{id:21,code:"1F917",word:"🤗"},{id:22,code:"1F929",word:"🤩"},{id:23,code:"1F914",word:"🤔"},{id:24,code:"1F928",word:"🤨"},{id:25,code:"1F610",word:"😐"},{id:26,code:"1F611",word:"😑"},{id:27,code:"1F636",word:"😶"},{id:28,code:"1F644",word:"🙄"},{id:29,code:"1F60F",word:"😏"},{id:30,code:"1F623",word:"😣"},{id:31,code:"1F625",word:"😥"},{id:32,code:"1F62E",word:"😮"},{id:33,code:"1F910",word:"🤐"},{id:34,code:"1F62F",word:"😯"},{id:35,code:"1F62A",word:"😪"},{id:36,code:"1F62B",word:"😫"},{id:37,code:"1F634",word:"😴"},{id:38,code:"1F60C",word:"😌"},{id:39,code:"1F61B",word:"😛"},{id:40,code:"1F61C",word:"😜"},{id:41,code:"1F61D",word:"😝"},{id:42,code:"1F924",word:"🤤"},{id:43,code:"1F612",word:"😒"},{id:44,code:"1F613",word:"😓"},{id:45,code:"1F614",word:"😔"},{id:46,code:"1F615",word:"😕"},{id:47,code:"1F643",word:"🙃"},{id:48,code:"1F911",word:"🤑"},{id:49,code:"1F632",word:"😲"},{id:50,code:"2639",word:"☹"},{id:51,code:"1F641",word:"🙁"},{id:52,code:"1F616",word:"😖"},{id:53,code:"1F61E",word:"😞"},{id:54,code:"1F61F",word:"😟"},{id:55,code:"1F624",word:"😤"},{id:56,code:"1F622",word:"😢"},{id:57,code:"1F62D",word:"😭"},{id:58,code:"1F626",word:"😦"},{id:59,code:"1F627",word:"😧"},{id:60,code:"1F628",word:"😨"},{id:61,code:"1F629",word:"😩"},{id:62,code:"1F92F",word:"🤯"},{id:63,code:"1F62C",word:"😬"},{id:64,code:"1F630",word:"😰"},{id:65,code:"1F631",word:"😱"},{id:68,code:"1F633",word:"😳"},{id:69,code:"1F92A",word:"🤪"},{id:70,code:"1F635",word:"😵"},{id:71,code:"1F621",word:"😡"},{id:72,code:"1F620",word:"😠"},{id:73,code:"1F92C",word:"🤬"},{id:74,code:"1F637",word:"😷"},{id:75,code:"1F912",word:"🤒"},{id:76,code:"1F915",word:"🤕"},{id:77,code:"1F922",word:"🤢"},{id:78,code:"1F92E",word:"🤮"},{id:79,code:"1F927",word:"🤧"},{id:80,code:"1F607",word:"😇"},{id:81,code:"1F920",word:"🤠"},{id:85,code:"1F925",word:"🤥"},{id:86,code:"1F92B",word:"🤫"},{id:87,code:"1F92D",word:"🤭"},{id:88,code:"1F9D0",word:"🧐"},{id:89,code:"1F913",word:"🤓"},{id:90,code:"1F608",word:"😈"},{id:91,code:"1F47F",word:"👿"}]}},{initialize:function(){this.menu=null,this.currentType=null,this.currentPage=0},initContent:function(){var t=this,e=t.rawConfig;g.getMenu(e.onlyDefault,(function(e){t.menu=e,t.renderMenu(e),t.initHover(),t.select(e[0].type,0)}),(function(e){t.getEl(".js-main").html(t.getTips(e.msg))}))},initHover:function(){var t=this;t.getEl(".js-emoji").on("mouseenter",".js-emoji-item",(function(e){var n=t.previewEl,i=t.getEmojiByEl(e.currentTarget),r=i.index,o=i.emoji;if(!o||!o.url&&!o.word)return n.hide().html("");n.html(o.url||"<span>"+o.word+"</span>").show(),function(t,e){e[2*(t%=9)<9?"removeClass":"addClass"]("left")}(r,n)})).on("mouseleave",".js-emoji-item",(function(e){t.previewEl.hide().html("")}))},fixPosition:function(t,e){if(!this.attach)return;var n=this.attach.getEl();(a(document).height()-a(n).offset().top<a(n).height()&&e||a(document).find(".only-main").get(0))&&(this.attach.rawConfig.attach.verReverse=!0,this.attach.fixPosition(),n.find("div.tooltip-info").removeClass("bottom").addClass("top"));var i=n.find("div.tooltip-arrow").css("left","50%"),r=parseInt(n.css("left"),10),o=0;r<1&&(o=1-r,r=1);if(n.css("left",r),o>0){var s=parseInt(i.css("left"),10);i.css("left",Math.max(s-o-5,13))}},select:function(t,e){var n=this,i=n.getEl(),r=g.dataMap[t];if(n.currentType=t,n.currentPage=e,i.find(".js-type").removeClass("selected"),i.find('.js-type[data-type="'+t+'"]').addClass("selected"),r)return n.renderEmoji(r,e);n.renderEmoji([],1),g.getEmoji(t,(function(i){t===n.currentType&&n.renderEmoji(i,e)}),(function(t){n.getEl();n.tipsEl.html(n.getTips(t.msg)).show(),n.emojiEl.hide()}))},renderMenu:function(t){var e=this.getEl(),n=u.execTpl(['<div class="layer-emotion-label" v-if="hasMenu">','<a v-for="(item, index) in items" href="javascript:void(0);" class="js-type" :data-type="item.type">#{item.description}</a>',"</div>",'<div class="layer-emotion-content">','<div class="layer-emotion-hover js-preview-box" style="display:none;"></div>','<div class="js-emoji" style="display:none;user-select:none;"></div>','<div class="js-tips">#{tips}</div>',"</div>"],{hasMenu:t.length>1,items:t,tips:this.getTips()});e.find(".js-main").html(n),this.previewEl=e.find(".js-preview-box"),this.tipsEl=e.find(".js-tips"),this.emojiEl=e.find(".js-emoji")},renderEmoji:function(t,e){var n=this.getEl().find(".js-emoji"),i=this.getEl(".js-tips"),r=f.page(t.length,45);if(e+1>r||e<0)return;var o=t.slice(45*e,45*(e+1));s.forCount(45-o.length,(function(){o.push({})}));var a=45*e,c=u.execTpl(['<div class="layer-emotion-wrapper">','<div v-for="(item, index) in items" class="layer-emotion-item js-emoji-item" :data-index="getIndex(index)" :title="item.name || \'\'">','<span v-if="item.url">#{item.url}</span>','<span v-if="item.word">#{item.word}</span>',"</div>","</div>",'<div class="layer-emotion-ft">',"<div><span>#{page}</span> / <span>#{total}</span></div>",'<div class="layer-emotion-page">','<a href="javascript:void(0);" data-type="pre" :class="cls()"></a>','<a href="javascript:void(0);" data-type="next" :class="cls(true)"></a>',"</div>","</div>"],{items:o,page:e+1,total:r,getIndex:function(t){return a+t},cls:function(t){return t?["icon-angle-right","js-page",e+1>=r?" disabled":""]:["icon-angle-left","js-page",e<=0?" disabled":""]}});n.html(c).show(),i.hide().html("")},getEmojiByEl:function(t){var e=+a.trim(a(t).attr("data-index"))||0,n=g.dataMap[this.currentType];return{index:e,emoji:n[e]}},getTips:function(t){return'<div style="padding:20px;text-align:center;font-size:14px;">'+(t||"加载中...")+"</div>"}})},543:function(t,e,n){var i=n(14),r=n(64);function o(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function a(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?o(Object(n),!0).forEach((function(e){i(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var s=n(1),c=n(9),l=n(4),u=n(53),d=n(315),f=n(680)["default"],p=n(681)["default"],h=t.exports=l.create();function g(t,e){for(var n="",i=0;i<t.length;i++){var r=t[i];"{"==r?e+=4:"\n"==r&&"}"==t[i+1]&&(e-=4),n+=r,"\n"==r&&(n+=" ".repeat(e))}return n}s.extend(h.prototype,u,{initialize:function(t){var e=t.editor;this.canUse=!0,this.codeIndex=1,this.parent=t.parent,this.editor=e,this.wsUrl=t.wsUrl,this.sendChangedInterval=t.sendChangedInterval||2e3,this.lspMode=t.lspMode||"2",this.triggerCharacters=["."],this.signatureCharacters=[",","("],this.inSnippetTabStops=!1,this.serviceNotAvailable=!1,this.markedDiagnostics=[],this.sendChangedTimer=null,this.tooltip=null,this.enableSignatureHelp=!("enableSignatureHelp"in t)||t.enableSignatureHelp,this.initRegister(e),this.initHint(e),this.initEvent(e),e.setOption("gutters",["CodeMirror-lsp-gutters"]),function(){var t=document.createElement("style");t.type="text/css",t.innerHTML='\n    .cm-error2 {\n        display: inline-block;\n        position: relative;\n    }\n    .cm-error2:before {\n        content: "~~~~~~~~~~~~";\n        font-size: 0.6em;\n        font-weight: 700;\n        font-family: Times New Roman, Serif;\n        color: red;\n        width: 100%;\n        position: absolute;\n        top: 12px;\n        left: -1px;\n        overflow: hidden;\n    }\n    ';try{document.getElementsByTagName("head")[0].appendChild(t)}catch(e){}}()},initRegister:function(t){var e=this,n=window.CodeMirror;n.registerHelper("hint","text/x-csrc",e.wrapHint([".","->"],"xcsrc")),n.registerHelper("hint","text/x-c++hdr",e.wrapHint(["."],"xjava")),n.registerHelper("hint","text/x-c++src",e.wrapHint()),n.registerHelper("hint","text/x-java",e.wrapHint()),n.registerHelper("hint","python",e.wrapHint()),n.registerHelper("hint","text/x-python",e.wrapHint()),n.registerHelper("hint","javascript",e.wrapHint()),n.registerHelper("hint","text/javascript",e.wrapHint()),n.registerHelper("hint","text/x-csharp",e.wrapHint()),n.registerHelper("hint","sql",e.wrapHint()),n.registerHelper("hint","go",e.wrapHint()),n.registerHelper("hint","swift",e.wrapHint()),n.registerHelper("hint","php",e.wrapHint());var i=t.options.hintOptions;i.hint=function(t,n,i){return e.getHintList(t,n,i)},i.hint.async=!0},initHint:function(t){var e,n=this;t.on("change",(function(t,i){var r=t.getValue(),o=e===r;if(e=r,!o){n.clearDiagnostic(),n.setChangedTimer(),n.codeIndex++;var a=t.getCursor(),s=t.getTokenAt(a);if(!i||!{"+input":1,"+delete":1,complete:1}[i.origin])return n.closeMenu(),n.clearTooltip(),void n.setChangedTimer();if(n.signatureCharacters.indexOf(s.string)>-1&&n.enableSignatureHelp){var c=n.parent.valLangue();return n.sendChangedTimer&&(clearTimeout(n.sendChangedTimer),n.sendChangedTimer=null),void setTimeout((function(){return n.sendLspSignatureHelp(a.line,a.ch,c)}),10)}"complete"!=i.origin&&n.showHint()}})),n.setChangedTimer()},initEvent:function(t){var e,n=this,i=window.CodeMirror.Pos,r=function(t){return t.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")},o=function(t,e){var n=new RegExp("\\b"+r(e)+"\\b","gi"),i=new RegExp(r(e),"gi"),o=t.search(n);return-1==o?t.search(i):o};n.editor.on("keydown",(function(t,i){e&&9==i.keyCode&&n.inSnippetTabStops&&(e(),i.preventDefault()),27==i.keyCode&&n.clearTooltip()})),n.editor.on("mousedown",(function(t,e){n.inSnippetTabStops=!1})),n.listen("codeHintPick",(function(t){if(t.tabStops){e=function(){var e=t.tabStops[c];if(e&&e.placeholder){for(var r=n.editor.getCursor().line,s=n.editor.getLine(r),l=0;-1==o(s,e.placeholder)&&l<a.length;)r++,l++,s=n.editor.getLine(r);var u;if((u=o(s,e.placeholder))>-1)return c++,n.editor.setSelection(i(r,u),i(r,u+e.placeholder.length))}else n.inSnippetTabStops=!1};var r=t.text,a=r.split("\n"),s=t.tabStops[0],c=0;s&&(s.placeholder?(n.editor.setSelection(i(t.from.line,0)),e(),n.inSnippetTabStops=!0):r.match(/\(\)$/)&&n.editor.setSelection(i(t.from.line,t.from.ch+s.cursor)))}}))},start:function(t){this.canUse=!1!==t,this.canUse||(this.closeMenu(),this.clearTooltip(),this.clearDiagnostic()),this.setChangedTimer()},startSignatureHelp:function(t){this.enableSignatureHelp=!1!==t,this.enableSignatureHelp||(this.closeMenu(),this.clearTooltip(),this.clearDiagnostic(),this.setChangedTimer())},showHint:function(){if(!this.canHint())return;this.editor.showHint()},hintCommonAction:function(t){var e=this,n=e.parent,o=e.getInfo()||{},l=o.token,u=o.cur;if(!l||!u)return t&&t();var d=l.state.indented,f=[],h=l.type;if(("variable"==h||"keyword"==h)&&e.isJs())return function(i){i=n.valLangue();if(!p[i])return;var r=e.getCustomList(l,p[i]);t&&t(g(r))}(n.valLangue());function g(t){var n={};return s.forEach(t,(function(t){var i=e.getSnippet(t,d),r=c.trim(t.insertText||t.label||"");r=function(t,e){return e&&-1==e.search(/\(.*\)/gi)&&"Method"==t.kind?e+"()":e}(t,r);var o=e.escapeHtml(t.label);0==o.indexOf("•")&&(o=o.substr(1)),i&&(r=i.text),o&&!n[o]&&f.push(e.wrapListItem(a({text:r,display:o,ext:t.kind,insertText:t.insertText,insertTextFormat:t.insertTextFormat,range:t.range},i?{tabStops:i.tabStops}:{}))),n[o]=!0})),e.wrapResult(f,l,u)}e.server(l,u,(function(o){var c=(o||{}).items||[],d=n.valLangue(),f=r(c),h=l.state&&l.state.context&&l.state.context.info;if(p[d]&&(!h||l.string==h)&&!function(t,e,n){var i=t.getTokenAt({line:e.line,ch:n.start});if("."==i.string||":"==i.string||">"==i.string&&n.start>0&&"-"==t.getTokenAt({line:e.line,ch:n.start-1}).string)return!0}(e.editor,u,l)){var v=e.getCustomList(l,p[d]),m=c.reduce((function(t,e){return a(a({},t),{},i({},e.label,!0))}),{});s.forReverse(v,(function(t){return!m[t.label]&&f.unshift(t)}))}if(0!==f.length){var w=g(f);t&&t(w)}}))},getHintList:function(t,e){var n=t.getCursor(),i=(t.getHelpers(n,"hint")||[])[0];if(i)return i&&i(e);var r=window.CodeMirror.hint.auto.resolve(t,n)(t);e&&e(r)},getSocket:function(t){var e=this;if(!d.isSupport)return;if(e.ws)return t&&t(e.ws);var n=e.ws=new d({url:e.wsUrl||"wss://ols.nowcoder.com:5566/"});n.listen("open",(function(){return t&&t(n)})),n.listen("error",(function(){return e.ws=null})),n.listen("close",(function(){return e.ws=null})),n.listen("message",(function(t){if(!t.result||400!=t.result.code&&503!=t.result.code){if(t.result&&t.result.diagnostics)return e.handleDiagnostic(t.result.diagnostics);if(t.result&&t.result.signatures)return e.handleSignature(t.result);var i=t.id,r="".concat("NC_CODEMIRROR_CODE_HINT").concat(i);if(i!==e.codeIndex)return e.unlisten(r);e.fire(r,t.result),t.triggerCharacters&&(e.triggerCharacters=t.triggerCharacters,e.isCpp()&&(e.triggerCharacters=[".","->"]),e.isPhp()&&(e.triggerCharacters=["$","->"]))}else n.close()})),n.connect()},getInfo:function(){if(!this.canHint())return;var t=this.editor,e=t.getCursor(),n=t.getTokenAt(e);return n.state=window.CodeMirror.innerMode(t.getMode(),n.state).state,{token:n,cur:e}},closeMenu:function(){var t=this.editor;try{t.state.completionActive&&t.state.completionActive.close()}catch(e){}},canHint:function(){if(!this.canUse)return;var t=this.parent,e=this.editor,n=e.getCursor(),i=e.getTokenAt(n),r=s.id(t.valLangue());if(!r||!f.hintMap[r])return;var o=i.type,l=i.string;if(this.clearDiagnostic(),this.clearTooltip(),this.setChangedTimer(),/\b(?:string|comment)\b/.test(o))return;if(this.isCpp()&&":"==l&&n.ch>0&&":"==e.getTokenAt(a(a({},n),{},{ch:n.ch-1})).string)return!0;if((null==o||"operator"==o)&&this.triggerCharacters&&!s.contains(this.triggerCharacters,l)&&!this.isSql())return;if("number"==o&&l.match(/[0-9]/))return;if("variable"==o&&!l.match(/[0-9a-zA-Z-_.]/))return;if(!c.trim(l))return;null!=this.sendChangedTimer&&(clearTimeout(this.sendChangedTimer),this.sendChangedTimer=null);return!0},server:function(t,e,n){var i=this,r=i.parent,o=i.codeIndex;i.getSocket((function(t){if(t&&o===i.codeIndex){if(i.serviceNotAvailable)return t.socket.close(),n([]);var a="".concat("NC_CODEMIRROR_CODE_HINT").concat(o);i.one(a,(function(){n.apply(void 0,arguments)})),t.clearSendList(),t.send({id:o,cmd:"completion",data:{content:i.editor.getValue(),lang:r.valLangue(),mode:i.lspMode,line:e.line,col:e.ch,triggerKind:1}})}}))},wrapListItem:function(t){return{text:"".concat(t.text).concat((t.method,"")),displayText:t.display,ext:t.ext,insertText:t.insertText,insertTextFormat:t.insertTextFormat,range:t.range,tabStops:t.tabStops,render:function(t,e,n){return t.innerHTML="".concat(n.ext?'<span style="float:right;margin-left:20px;">'.concat(n.ext,"</span>"):"").concat(n.displayText)}}},wrapResult:function(t,e,n){var i=this,r=window.CodeMirror.Pos,o=(i.parent.valLangue(),i.triggerCharacters);i.isCpp()&&o.push(":");var c=s.contains(o,e.string);!c&&e.string.length>1&&s.contains(o,e.string.substr(e.string.length-1))&&(c=!0);c||(t=t.filter((function(t){return 0==t.text.indexOf(e.string)})));if(!s.isArray(t)||0===t.length)return null;var l=i.getStart(t[0],e,n);return{list:t=t.map((function(t){var i=t.range&&t.range.start?r(t.range.start.line,t.range.start.character):r(n.line,l),o=t.range&&t.range.end?r(t.range.end.line,t.range.end.character):r(n.line,e.end);return a(a({},t),{},{from:i,to:o})})),_handlers:{shown:[function(){return i.fire("codeHintShown")}],select:[function(t,e){return i.fire("codeHintSelect",t,e)}],pick:[function(t){return i.fire("codeHintPick",t)}],close:[function(){return i.fire("codeHintClose")}]}}},wrapHint:function(t,e){var n=this;return function(i){var r;return n.hintCommonAction((function(t){r=t,s.isFunction(i)&&i(t)}),t,e),r}},escapeHtml:function(t){var e={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;","`":"&#x60;","=":"&#x3D;"};return String(t).replace(/[&<>"'`=\/]/g,(function(t){return e[t]}))},getStart:function(t,e,n){var i=e.string,r=t.text,o=0;n.ch!=e.end&&(i=i.substring(e.start,n.ch));for(;-1==r.indexOf(i);)o++,i=i.substr(1);return e.start+o},getSnippet:function(t,e){if(t.insertText){var n=t.insertText.match(/(\$\{\d+.+?\})|(\$\d+)/gi)||[];if(n&&n.length>0){var i=n.map((function(e){if(/\$\{(\d+)\:?(.*?)\}/gi.test(e)){var n=t.insertText.indexOf(e);return{order:RegExp.$1,placeholder:RegExp.$2,cursor:n,match:e}}if(/\$(\d+)/gi.test(e)){var i=t.insertText.indexOf(e);return t.insertText=t.insertText.replace(e,""),{order:RegExp.$1,placeholder:"",cursor:i,match:e}}})).filter((function(t){return t}));if(i.length>0)return{text:g(i.reduce((function(t,e){var n=new RegExp("\\$\\{"+e.order+"\\:.*?\\}","gi");return t.replace(n,e.placeholder)}),t.insertText),e),tabStops:i}}}},isCpp:function(){var t=this.parent.valLangue();return!(!t||!{1:1,2:1,22:1}[t])},isJs:function(){var t=this.parent.valLangue();return!(!t||!{13:1,14:1}[t])},isPhp:function(){var t=this.parent.valLangue();return!(!t||!{8:1}[t])},isSql:function(){var t=this.parent.valLangue();return!(!t||!{15:1}[t])},getCustomList:function(t,e){return t.string?(e||[]).filter((function(e){return 0==(e.keyword||e).indexOf(t.string)})).map((function(t){var e=t.keyword||t;return{label:e,kind:t.kind||"Keyword",insertText:t.insertText||e,insertTextFormat:2}})):[]},handleDiagnostic:function(t){var e=this,n=this.editor;this.clearDiagnostic(),this.markedDiagnostics=[];var i={};t.forEach((function(t){if(t.severity<2){var r=t.range.start.line,o=t.range.end.line,a={line:r,ch:t.range.start.character};i[r]=i[r]||[];var s=i[r];i[r].push(s.length+1+"."+t.message);var c=r!=o?{line:r,ch:n.getLine(r).length}:{line:t.range.end.line,ch:t.range.end.character};e.markedDiagnostics.push(n.getDoc().markText(a,c,{title:t.message,className:"cm-error2"}));var l=document.createElement("span");l.classList.add("icon-nc-warning"),l.classList.add("js-nc-title-tips"),l.style.marginLeft="3px",l.setAttribute("data-tips-left","1"),l.title=1==s.length?s[0].substr(2):s.join("\n"),n.setGutterMarker(a.line,"CodeMirror-lsp-gutters",l)}}))},handleSignature:function(t){var e=this.editor;this.clearTooltip();var n=e.getCursor();e.getTokenAt(n);if(!t.signatures.length)return;var i=document.createElement("div"),r=!1;t.signatures.filter((function(e){return e.parameters.length>t.activeParameter})).forEach((function(e,n){if(n>0){var o=document.createElement("hr");o.style.margin="1px",o.style.height="auto",i.appendChild(o)}var a=document.createElement("div"),s=e.parameters[t.activeParameter]?e.parameters[t.activeParameter].label:null;(s||0==n)&&(a.innerHTML=s?e.label.replace(s,"<b><u>".concat(s,"</u></b>")):e.label,i.appendChild(a),r=!0)})),r||t.signatures.forEach((function(t,e){if(e>0){var n=document.createElement("hr");n.style.margin="1px",n.style.height="auto",i.appendChild(n)}var o=document.createElement("div");o.innerHTML=t.label,i.appendChild(o),t.parameters.length>0&&(r=!0)}));if(r){var o=window.CodeMirror.Pos,a=e.charCoords(o(n.line,n.ch),"page");this.showTooltip(i,{x:a.left,y:a.top})}},clearDiagnostic:function(){this.editor.clearGutter("CodeMirror-lsp-gutters"),this.markedDiagnostics.forEach((function(t){return t.clear()}))},sendLspChanged:function(){var t=this,e=t.parent;if(!t.canUse)return;t.getSocket((function(n){n&&n.send({id:t.codeIndex,cmd:"changed",data:{content:t.editor.getValue(),lang:e.valLangue(),mode:t.lspMode}})}))},sendLspSignatureHelp:function(t,e,n){var i=this;if(!i.canUse)return;if(i.isSql())return;i.getSocket((function(r){r&&r.send({cmd:"signatureHelp",id:i.codeIndex,data:{content:i.editor.getValue(),line:t,col:e,lang:n,mode:i.lspMode}})}))},setChangedTimer:function(){var t=this;t.sendChangedTimer&&clearTimeout(t.sendChangedTimer),t.sendChangedTimer=setTimeout((function(){t.sendLspChanged(),t.sendChangedTimer=null}),t.sendChangedInterval)},clearTooltip:function(){this.tooltip&&(this.tooltip.remove(),this.tooltip=null)},showTooltip:function(t,e){var n=this;n.clearTooltip();var i=e.y-n.editor.defaultTextHeight();n.tooltip=document.createElement("div"),n.tooltip.classList.add("CodeMirror-lsp-tooltip"),n.tooltip.style.left="".concat(e.x,"px"),n.tooltip.style.top="".concat(i,"px"),n.tooltip.style.zIndex=2,n.tooltip.style.border="1px solid black",n.tooltip.style.padding="2px",n.tooltip.style.background="white",n.tooltip.style.fontSize="12px",n.tooltip.style.position="absolute",n.tooltip.style.maxHeight="150px",n.tooltip.style.overflow="scroll",n.tooltip.appendChild(t),document.body.appendChild(this.tooltip),requestAnimationFrame((function(){i+=n.editor.defaultTextHeight(),i-=n.tooltip.offsetHeight,n.tooltip.style.left="".concat(e.x,"px"),n.tooltip.style.top="".concat(i,"px")}))}})},550:function(t,e,n){"use strict";var i=n(626).charAt,r=n(351),o=n(554),a=r.set,s=r.getterFor("String Iterator");o(String,"String",(function(t){a(this,{type:"String Iterator",string:String(t),index:0})}),(function(){var t,e=s(this),n=e.string,r=e.index;return r>=n.length?{value:undefined,done:!0}:(t=i(n,r),e.index+=t.length,{value:t,done:!1})}))},551:function(t,e,n){var i=n(293),r=n(216),o=n(494);t.exports=!i&&!r((function(){return 7!=Object.defineProperty(o("div"),"a",{get:function(){return 7}}).a}))},552:function(t,e,n){var i=n(310),r=n(492);(t.exports=function(t,e){return r[t]||(r[t]=e!==undefined?e:{})})("versions",[]).push({version:"3.8.3",mode:i?"pure":"global",copyright:"© 2021 Denis Pushkarev (zloirock.ru)"})},553:function(t,e){var n=0,i=Math.random();t.exports=function(t){return"Symbol("+String(t===undefined?"":t)+")_"+(++n+i).toString(36)}},554:function(t,e,n){"use strict";var i=n(238),r=n(636),o=n(501),a=n(560),s=n(504),c=n(262),l=n(294),u=n(186),d=n(310),f=n(311),p=n(557),h=p.IteratorPrototype,g=p.BUGGY_SAFARI_ITERATORS,v=u("iterator"),m=function(){return this};t.exports=function(t,e,n,u,p,w,y){r(n,e,u);var b,x,C,k=function(t){if(t===p&&j)return j;if(!g&&t in _)return _[t];switch(t){case"keys":case"values":case"entries":return function(){return new n(this,t)}}return function(){return new n(this)}},S=e+" Iterator",E=!1,_=t.prototype,T=_[v]||_["@@iterator"]||p&&_[p],j=!g&&T||k(p),L="Array"==e&&_.entries||T;if(L&&(b=o(L.call(new t)),h!==Object.prototype&&b.next&&(d||o(b)===h||(a?a(b,h):"function"!=typeof b[v]&&c(b,v,m)),s(b,S,!0,!0),d&&(f[S]=m))),"values"==p&&T&&"values"!==T.name&&(E=!0,j=function(){return T.call(this)}),d&&!y||_[v]===j||c(_,v,j),f[e]=j,p)if(x={values:k("values"),keys:w?j:k("keys"),entries:k("entries")},y)for(C in x)(g||E||!(C in _))&&l(_,C,x[C]);else i({target:e,proto:!0,forced:g||E},x);return x}},555:function(t,e,n){var i=n(237),r=n(352),o=n(633).indexOf,a=n(497);t.exports=function(t,e){var n,s=r(t),c=0,l=[];for(n in s)!i(a,n)&&i(s,n)&&l.push(n);for(;e.length>c;)i(s,n=e[c++])&&(~o(l,n)||l.push(n));return l}},556:function(t,e,n){var i=n(216),r=/#|\.prototype\./,o=function(t,e){var n=s[a(t)];return n==l||n!=c&&("function"==typeof e?i(e):!!e)},a=o.normalize=function(t){return String(t).replace(r,".").toLowerCase()},s=o.data={},c=o.NATIVE="N",l=o.POLYFILL="P";t.exports=o},557:function(t,e,n){"use strict";var i,r,o,a=n(216),s=n(501),c=n(262),l=n(237),u=n(186),d=n(310),f=u("iterator"),p=!1;[].keys&&("next"in(o=[].keys())?(r=s(s(o)))!==Object.prototype&&(i=r):p=!0);var h=i==undefined||a((function(){var t={};return i[f].call(t)!==t}));h&&(i={}),d&&!h||l(i,f)||c(i,f,(function(){return this})),t.exports={IteratorPrototype:i,BUGGY_SAFARI_ITERATORS:p}},558:function(t,e,n){var i=n(216);t.exports=!!Object.getOwnPropertySymbols&&!i((function(){return!String(Symbol())}))},559:function(t,e,n){var i=n(283);t.exports=i("document","documentElement")},560:function(t,e,n){var i=n(229),r=n(641);t.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var t,e=!1,n={};try{(t=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set).call(n,[]),e=n instanceof Array}catch(o){}return function(n,o){return i(n),r(o),e?t.call(n,o):n.__proto__=o,n}}():undefined)},561:function(t,e,n){var i=n(229);t.exports=function(t){var e=t["return"];if(e!==undefined)return i(e.call(t)).value}},562:function(t,e,n){var i=n(186),r=n(311),o=i("iterator"),a=Array.prototype;t.exports=function(t){return t!==undefined&&(r.Array===t||a[o]===t)}},563:function(t,e,n){"use strict";var i=n(495),r=n(282),o=n(309);t.exports=function(t,e,n){var a=i(e);a in t?r.f(t,a,o(0,n)):t[a]=n}},564:function(t,e,n){var i=n(565),r=n(311),o=n(186)("iterator");t.exports=function(t){if(t!=undefined)return t[o]||t["@@iterator"]||r[i(t)]}},565:function(t,e,n){var i=n(506),r=n(353),o=n(186)("toStringTag"),a="Arguments"==r(function(){return arguments}());t.exports=i?r:function(t){var e,n,i;return t===undefined?"Undefined":null===t?"Null":"string"==typeof(n=function(t,e){try{return t[e]}catch(n){}}(e=Object(t),o))?n:a?r(e):"Object"==(i=r(e))&&"function"==typeof e.callee?"Arguments":i}},566:function(t,e,n){var i=n(186)("iterator"),r=!1;try{var o=0,a={next:function(){return{done:!!o++}},"return":function(){r=!0}};a[i]=function(){return this},Array.from(a,(function(){throw 2}))}catch(s){}t.exports=function(t,e){if(!e&&!r)return!1;var n=!1;try{var o={};o[i]=function(){return{next:function(){return{done:n=!0}}}},t(o)}catch(s){}return n}},567:function(t,e,n){"use strict";var i=n(238),r=n(501),o=n(560),a=n(503),s=n(262),c=n(309),l=n(355),u=function(t,e){var n=this;if(!(n instanceof u))return new u(t,e);o&&(n=o(new Error(undefined),r(n))),e!==undefined&&s(n,"message",String(e));var i=[];return l(t,i.push,{that:i}),s(n,"errors",i),n};u.prototype=a(Error.prototype,{constructor:c(5,u),message:c(5,""),name:c(5,"AggregateError")}),i({global:!0},{AggregateError:u})},568:function(t,e,n){var i=n(177);t.exports=i.Promise},569:function(t,e,n){var i=n(229),r=n(295),o=n(186)("species");t.exports=function(t,e){var n,a=i(t).constructor;return a===undefined||(n=i(a)[o])==undefined?e:r(n)}},570:function(t,e,n){var i,r,o,a=n(177),s=n(216),c=n(505),l=n(559),u=n(494),d=n(571),f=n(508),p=a.location,h=a.setImmediate,g=a.clearImmediate,v=a.process,m=a.MessageChannel,w=a.Dispatch,y=0,b={},x=function(t){if(b.hasOwnProperty(t)){var e=b[t];delete b[t],e()}},C=function(t){return function(){x(t)}},k=function(t){x(t.data)},S=function(t){a.postMessage(t+"",p.protocol+"//"+p.host)};h&&g||(h=function(t){for(var e=[],n=1;arguments.length>n;)e.push(arguments[n++]);return b[++y]=function(){("function"==typeof t?t:Function(t)).apply(undefined,e)},i(y),y},g=function(t){delete b[t]},f?i=function(t){v.nextTick(C(t))}:w&&w.now?i=function(t){w.now(C(t))}:m&&!d?(o=(r=new m).port2,r.port1.onmessage=k,i=c(o.postMessage,o,1)):a.addEventListener&&"function"==typeof postMessage&&!a.importScripts&&p&&"file:"!==p.protocol&&!s(S)?(i=S,a.addEventListener("message",k,!1)):i="onreadystatechange"in u("script")?function(t){l.appendChild(u("script")).onreadystatechange=function(){l.removeChild(this),x(t)}}:function(t){setTimeout(C(t),0)}),t.exports={set:h,clear:g}},571:function(t,e,n){var i=n(507);t.exports=/(iphone|ipod|ipad).*applewebkit/i.test(i)},572:function(t,e,n){var i=n(229),r=n(236),o=n(312);t.exports=function(t,e){if(i(t),r(e)&&e.constructor===t)return e;var n=o.f(t);return(0,n.resolve)(e),n.promise}},573:function(t,e,n){"use strict";var i=n(238),r=n(295),o=n(312),a=n(356),s=n(355);i({target:"Promise",stat:!0},{allSettled:function(t){var e=this,n=o.f(e),i=n.resolve,c=n.reject,l=a((function(){var n=r(e.resolve),o=[],a=0,c=1;s(t,(function(t){var r=a++,s=!1;o.push(undefined),c++,n.call(e,t).then((function(t){s||(s=!0,o[r]={status:"fulfilled",value:t},--c||i(o))}),(function(t){s||(s=!0,o[r]={status:"rejected",reason:t},--c||i(o))}))})),--c||i(o)}));return l.error&&c(l.value),n.promise}})},574:function(t,e,n){"use strict";var i=n(238),r=n(295),o=n(283),a=n(312),s=n(356),c=n(355);i({target:"Promise",stat:!0},{any:function(t){var e=this,n=a.f(e),i=n.resolve,l=n.reject,u=s((function(){var n=r(e.resolve),a=[],s=0,u=1,d=!1;c(t,(function(t){var r=s++,c=!1;a.push(undefined),u++,n.call(e,t).then((function(t){c||d||(d=!0,i(t))}),(function(t){c||d||(c=!0,a[r]=t,--u||l(new(o("AggregateError"))(a,"No one promise resolved")))}))})),--u||l(new(o("AggregateError"))(a,"No one promise resolved"))}));return u.error&&l(u.value),n.promise}})},575:function(t,e){t.exports=function(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}},576:function(t,e,n){var i=n(2),r=n(1),o=n(7),a=n(4),s=n(672),c=t.exports=a.create();a.mix(c,o,{_template:['<div class="btn-group">','<button class="btn btn-default dropdown-toggle">','<span class="js-txt #{txtCls}">#{text}</span>','<span class="caret"></span>',"</button>","</div>"].join(""),listeners:[{name:"render",type:"custom",handler:function(){var t=this.getEl(),e=this.rawConfig;this.btnEl=t.find("button.dropdown-toggle"),this.txtEl=t.find("span.js-txt"),this.size(e.size),this.initSel(),this.updateText();var n=this.btnEl.width();!e.autoWidth&&n>20&&this.txtEl.outerWidth(n),this.isDisabled=!!e.disabled,this.disabled(this.isDisabled)}},{name:"destroy",type:"custom",handler:function(){this.attachSel&&this.attachSel.destroy()}}],transformConf:function(t){var e=t.find("ul.dropdown-menu li"),n=[],o="";return r.forEach(e,(function(t,e){var r=(t=i(t)).hasClass("selected");n.push({text:i.trim(t.text()),value:t.attr("data-val")||e,checked:r}),r&&(o=i.trim(t.text()))})),o&&t.find("button.dropdown-toggle .dropdown-value").html(o),{text:o,options:n}}},{initSel:function(){var t=this,e=t.rawConfig,n=t.getEl();t.attachSel=s.show({target:t.getEl(),options:e.options,zIndex:e.zIndex,needSearch:e.needSearch,placeholder:e.placeholder,noHover:"noHover"in e?!!e.noHover:!!c.noHover,noSelectAll:!!e.noSelectAll,needClick:!0,needReWidth:!0,attach:{extOffset:{left:-1,top:-2}},canShow:function(){return!t.isDisabled},listeners:{change:function(){t.error(!1),t.fire("change"),t.updateText(),e.change&&e.change.call(t)},ok:function(){t.fire("ok"),t.updateText(),e.ok&&e.ok.call(t)}}});var i=t.attachSel.attach;i.listen("attachShow",(function(){n.addClass("open")})),i.listen("attachHide",(function(){n.removeClass("open")}))},isOpen:function(){return this.getEl().hasClass("open")},open:function(t){this.getEl();this.attachSel.attach[!1===t?"forceHide":"forceShow"]()},select:function(t,e){var n=this,i=n.rawConfig,o=i.options,a=n.attachSel;if(0===arguments.length){var s=a.val(),c={};return r.forEach(o,(function(t,e){c[t.value]=e})),r.map(s,(function(t){return c[t]}))}s=r.map(r.isArray(t)?t:[t],(function(t){return o[t].value}));a.val(s,!e),n.updateText()},val:function(t,e){var n=this,i=(n.rawConfig,n.attachSel);if(0===arguments.length)return i.val();i.val(t,!e),n.updateText()},valText:function(){return this.attachSel.valText()},text:function(){return this.attachSel.valText().join(",")||""},updateText:function(){var t=this.rawConfig,e=i.trim(this.attachSel.valText().join(",")||t.text||"请选择");this.txtEl.html(e),this.txtEl.attr("title",e.replace(/<[^>]+>/g,""))},error:function(t){this.getEl()[!1===t?"removeClass":"addClass"]("error")},size:function(t){var e=this.getEl(),n={xsmall:"btn-group-xs",small:"btn-group-sm",large:"btn-group-lg"}[t||""];e.removeClass("btn-group-sm btn-group-lg"),n&&e.addClass(n)},clear:function(t){this.rawConfig;this.txtEl.html(t),this.attachSel.clear()},disabled:function(t){this.isDisabled=!1!==t,this.getEl()[this.isDisabled?"addClass":"removeClass"]("disabled")},_getData:function(t){return{text:t.text,txtCls:t.autoWidth?"":"dropdown-value",menuCls:t.autoWidth?"dropdown-auto":""}},replaceOptions:function(t){this.rawConfig.options=t,this.attachSel&&this.attachSel.destroy(),this.initSel(),this.updateText(),this.fire("replaceOptions")}})},577:function(t,e,n){var i=n(2),r=n(1),o=n(4),a=n(7),s=n(9),c=n(29),l=n(3),u=n(25),d=n(178),f=n(13),p=n(39),h=t.exports=o.create();o.mix(h,a,{_template:'<div><div style="padding:20px;text-align:center;font-size:14px;">加载中...</div></div>',listeners:[{name:"render",type:"custom",handler:function(){var t=this,e=t.popup;p.unbindAccountResult({type:"GET",call:function(n){n.data?(e.close(),l.ok("申请成功，我们将于72小时内审核你的改绑申请，结果将以系统通知的形式告知")):(t.initHtml(),t.initCpn(),e.fixPosition())},error:function(t){e.close(),l.alert(t.msg)}})}},{name:"click .js-submit",handler:function(){this.submit()}}],show:function(t){var e=new h(t=t||{});l.wrap(e,{title:"更改绑定的手机号",content:e.html(),width:600,hasNoFooter:!0})}},{initHtml:function(){this.getEl().html(s.execTpl(['<div class="pop-bind-phone">','<div class="form-group">','<label class="control-label">当前账号ID</label>','<div class="control-group">#{uid}</div>',"</div>",'<div class="form-group">','<label class="control-label">原账号ID</label>','<div class="js-id"><input type="text" placeholder="请输入原账号ID" /></div>','<a href="https://www.nowcoder.com/discuss/157931" target="_blank" class="pop-check-account link-gray"><i class="icon-question-sign"></i> 如何查看原账户ID？</a>',"</div>",'<div class="form-group">','<label class="control-label">手机号码</label>','<div class="control-group form-phone-fill js-account">','<div class="btn-group js-country"></div>','<input type="text" placeholder="请输入手机号码" />',"</div>","</div>",'<div class="form-group">','<label class="control-label">验证码</label>','<div class="btn-group phone-code">','<div class="control-group js-captcha"><input type="text" placeholder="请输入验证码" /></div>','<span class="input-group-btn"><button class="btn btn-primary js-btn-captcha" style="padding:0;">获取验证码</button></span>',"</div>","</div>",'<div class="form-group">','<label class="control-label">改绑理由</label>','<div class="control-group js-reason"><input type="text" placeholder="请输入改绑理由" /></div>',"</div>",'<div class="warning-tips"><i class="icon-warning-sign"></i>注意！手机号改绑完成后，原账号将不能用该手机号登录</div>',"</div>",'<div class="pop-btn-wrapper">','<a href="javascript:void(0);" class="btn btn-primary js-submit">确定申请</a>',"</div>"].join(""),{uid:(f.getUser()||{}).ownerId}))},initCpn:function(){var t=this.cpn={},e=this.getEl();t.uid=u.transform(e.find(".js-id")),t.zip=d.initPhoneZip({renderTo:e.find(".js-country")}),t.account=u.transform(e.find(".js-account")),t.captcha=u.transform(e.find(".js-captcha")),t.reason=u.transform(e.find(".js-reason")),d.initCaptcha({btn:e.find(".js-btn-captcha"),isPhone:!0,check:r.bind(this.checkAccount,this),val:function(){return i.trim(t.zip.val())+i.trim(t.account.val())}})},checkAccount:function(t){d.checkPhone({zip:this.cpn.zip,phone:this.cpn.account,needRegister:!0,call:t})},val:function(t){var e=this,n=e.cpn;if(0===arguments.length)return{uid:i.trim(n.uid.val()),phone:i.trim(n.zip.val())+i.trim(n.account.val()),code:i.trim(n.captcha.val()),reason:i.trim(n.reason.val())}},check:function(){var t=this.cpn,e=this.val(),n="+86"===i.trim(t.zip.val()),r=i.trim(t.account.val()),o=!0;e.uid||(t.uid.setErrorTips("原账号ID不能为空"),o=!1);r||(t.account.setErrorTips("手机号码不能为空"),o=!1);(n&&!s.isPhone(r)||!n&&!/^\d+$/.test(r))&&(t.account.setErrorTips("请填写正确的手机号码"),o=!1);e.code||(t.captcha.setErrorTips("验证码不能为空"),o=!1);e.reason||(t.reason.setErrorTips("改绑理由不能为空"),o=!1);return o},submit:function(){var t=this,e=t.getEl();t.check()&&!c.mark(e)&&p.unbindAccount({body:t.val(),call:function(e){t.popup.close(),l.tips("申请成功，我们将于72小时内审核你的改绑申请，结果将以系统通知的形式告知")},error:function(t){l.alert(t.msg),c.clear(e)}})}})},578:function(t,e,n){var i=n(682),r=n(683),o=n(684);t.exports={diff:i,unidiff:r,ncdiff:o,getDiffStr:function(t,e){var n=r.diffLines(t||"",e||"");return r.formatLines(n)||""},getDiffItems:function(t){return o.parse({diff:t})}}},579:function(t,e,n){var i=n(1);function r(t){return{val:t||"#",left:null,right:null}}t.exports={check:function(t){var e=i.filter(t,(function(t){return"{"===t})),n=i.filter(t,(function(t){return"}"===t})),r=i.indexOf(t,"{"),o=i.indexOf(t,"}"),a=t.slice(r+1,o).split(",");return 1===e.length&&1===n.length&&i.every(a,(function(t){return"#"===t||!isNaN(parseInt(t))}))},getDataByInput:function(t){var e=i.indexOf(t,"{"),n=i.indexOf(t,"}"),o=t.slice(e+1,n).split(","),a=new r,s=[a],c=function(){var t=[];i.forEach(s,(function(e){"#"!==i.get(o,"0","#")?(e.val=o.shift(),e.left=new r,e.right=new r,t.push(e.left,e.right)):o.shift()})),s=t};for(;0!==o.length&&0!==s.length;)c();return a},getNodePos:function(t){var e=this.deep(t),n=[];return function i(t){var r=arguments.length>1&&arguments[1]!==undefined?arguments[1]:1,o=arguments.length>2&&arguments[2]!==undefined?arguments[2]:Math.pow(2,e)-1,a=arguments.length>3&&arguments[3]!==undefined?arguments[3]:1;if(!t||"#"===t.val)return;var s=parseInt((r+o)/2),c={x:s,y:a,val:t.val};n.push(c),t.pos=c,i(t.left,r,s,a+1),i(t.right,s+1,o,a+1)}(t),n},getLine:function(t){var e=[];return function n(t){if(!t||"#"===t.val)return;if(t.left&&"#"!==i.get(t,"left.val","#")){var r={start:t.pos,end:t.left.pos};e.push(r),n(t.left)}if(t.right&&"#"!==i.get(t,"right.val","#")){var o={start:t.pos,end:t.right.pos};e.push(o),n(t.right)}}(t),e},deep:function o(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:0;return t&&"#"!==t.val?Math.max(o(t.left,e+1),o(t.right,e+1)):e}}},580:function(t,e,n){var i=n(695),r=n(696),o=n(1),a=n(2),s=n(9);t.exports={html2md:function(t){var e=(t=a.trim(t))?r(t,{gfm:!0,converters:[{filter:"pre",replacement:function(t){return("```\n"+t+"\n```").replace(/\n+/gi,"\n")}},{filter:"em",replacement:function(t){return"*".concat(t,"*")}},{filter:"address|center|dir|div|dl|fieldset|form|isindex|iframe|menu|table|thead|tbody|tr".split("|"),replacement:function(t){return"".concat(t,"\n\n")}},{filter:"td",replacement:function(t){return"".concat(t," ")}}]}):"";return e=e.replace(/<.*?>/gi,"")},md2html:function(t,e){return!this._initMd&&i.setOptions({gfm:!0,breaks:!0,tables:!0,sanitize:!1,langPrefix:"lang-"}),this._initMd=!0,a.trim(t)?i(t,e):t},getToolbarHtml:function(t){var e={preview:"预览",bold:"粗体",italic:"斜体",codeblock:"代码",bockquote:"引用",insertorderedlist:"编号",insertunorderedlist:"项目符号",link:"超级链接",image:"图片",table:"表格",math:"插入公式",removeformat:"清除全部格式"};return o.map(t,(function(t,n){return t=a.trim(t),s.execTpl("|"===t?'<span class="ke-inline-block ke-separator"></span>':'<span class="ke-outline" data-title="#{name}"><a href="javascript:void(0);" data-name="#{key}" class="ke-toolbar-icon ke-toolbar-icon-url ke-icon-#{key}"></a></span>',{key:t,name:e[t]})}))}}},581:function(t,e,n){var i=n(9),r=n(1),o=n(45),a=n(39),s=o.create("RemoteImage");t.exports={a:document.createElement("A"),upload:function(t,e){var n=this,r="https://uploadfiles.nowcoder.com/images/20190919/56_1568900435177_29C080A5413E925FE3B3CCB4048AB99B";if(!(t=i.trim(t))||n.isLocal(t))return e&&e(t);if(!/^https?/.test(t))return e&&e(r);var o=n.getMap();if(o[t])return e&&e(o[t]);n.actionUpload({source:t,type:0,call:function(r){var a=i.trim(r.url);o[t]=a||t,n.saveMap(),e&&e(a||t)},error:function(){e&&e(r)}})},canUpload:function(t){var e=this,n=r.isArray(t)?t:[t];return n.length>0&&!!r.find(n,(function(t){return(t=i.trim(t))&&!e.isLocal(t)}))},isUploaded:function(t){var e=this,n=e.getMap(),o=r.isArray(t)?t:[t];return 0===o.length||r.every(o,(function(t){return!(t=i.trim(t))||e.isLocal(t)||n[t]}))},isLocal:function(t){var e=this.a;if(!(t=i.trim(t)))return!1;e.href=t;var n=e.hostname;return!!r.find(["nowcoder.com","nowcoder.net","aliyuncs.com","amazonaws.com"],(function(t){return n.indexOf(t)>=0}))},actionUpload:function(t){a.uploadImageOnline({query:{watermark:"true"},body:{source:t.source,type:t.type||0},call:t.call,error:t.error})},getMap:function(){return this._remoteMap=this._remoteMap||s.get("data")||{}},saveMap:function(){s.set("data",this._remoteMap)}}},582:function(t,e,n){var i=n(218),r=n(2),o=n(198),a=n(7),s=n(4),c=n(19),l=n(21),u=n(1),d=n(8),f=n(17),p=n(512),h=n(704),g=t.exports=s.create();s.mix(g,a,{_template:'<div style="position:relative;"></div>',listeners:[{name:"render",type:"custom",handler:function(){var t=this.rawConfig;this.getEl();this.initEvent(),this.initPlugin(),t.disabled&&this.disable(),this.resize(t.width,t.height),this.initKe()}},{name:"destroy",type:"custom",handler:function(){try{this.keEditor.remove()}catch(t){}}}],create:function(t,e){if(0===(t=r(t)).length)return;var n=(t.prop("tagName")||"").toLowerCase(),i="input"===n||"textarea"===n;return new g(u.extend({renderTo:t,renderBy:"replaceWith",content:i?t.val():"",height:Math.max(t.outerHeight(),200)},e))},loadDep:function(t){i.kindeditor({call:function(){return t&&t()}})}},{initialize:function(t){this._createdQueue=[]},initKe:function(){this._initKePlugin();var t=this.getEl(),e=r("<div></div>");t.append(e);var n=this.keEditor=window.KindEditor.create(e.get(0),this._getConf()),i=n.html;n.html=function(t){return t?(t=t.replace(/\u00A0/g,"&nbsp;"),i.call(this,t)):i.apply(this,arguments)}},initPlugin:function(){var t=this;t.waitCreated((function(){var e=[n(705),n(707),n(708),n(709),n(710),n(711),n(712),n(713),n(714),n(715),n(716),n(717),n(718)];u.forEach(e,(function(e){new e(t)}))}))},initEvent:function(){var t=this,e=t.rawConfig,n=t.getEl();if(t._initEvent)return;t._initEvent=!0,t.listen("afterCreate",(function(){if(!t._afterCreate){t._afterCreate=!0,e.content&&t.val(e.content),u.forEach(t._createdQueue,(function(e){return e&&e.call(t)})),t._createdQueue.length=0,n.on("click","div.js-editor-mask",(function(){try{e.clickMask&&e.clickMask.call(t)}catch(n){}})),e.afterCreate&&e.afterCreate.call(t);var i=r(t.getEditorDoc());i.on("keydown",(function(n){n.keyCode;var r="macintosh"===(c.getOs()||{}).os;13===n.keyCode&&(r&&n.metaKey||!r&&n.ctrlKey)&&(n.preventDefault(),i.blur(),t.fire("pressEnter"),e.pressEnter&&e.pressEnter())}))}})),t.listen("afterChange",(function(){var n=t.keEditor,i=n.edit.cmd.range;t.isInTagNode(i.startContainer,"blockquote")||t.isInTagNode(i.endContainer,"blockquote")?n.toolbar.select("bockquote"):n.toolbar.unselect("bockquote");var r=t.isInTagNode(i.startContainer,"pre")||t.isInTagNode(i.endContainer,"pre");n.edit.designMode&&(r?(n.toolbar.disableAll(!0,["source","codeblock"]),n.toolbar.select("codeblock")):(n.toolbar.disableAll(!1),n.toolbar.unselect("codeblock"))),e.afterChange&&e.afterChange.call(t)})),t.listen("afterBlur",(function(){e.afterBlur&&e.afterBlur.call(t)})),t.listen("afterFocus",(function(){e.afterFocus&&e.afterFocus.call(t)}))},val:function(){var t=this;return t.keEditor.html.apply(t.keEditor,arguments)},text:function(){var t=this;return t.keEditor.text.apply(t.keEditor,arguments)},iframeHtml:function(){var t=this.keEditor;try{if(t.isCreated)return t.edit.doc.body.innerHTML;var e=t.srcElement;return{button:1,input:1,select:1,textarea:1}[(((e=e&&e.get?e.get(0):e)||{}).nodeName||"").toLowerCase()]?(e.value||"").replace(/(<(?:p|p\s[^>]*)>) *(<\/p>)/gi,""):e?e.innerHTML:""}catch(n){return""}},count:function(){return this.keEditor.count("text")},blur:function(){try{this.keEditor.blur()}catch(t){}},focus:function(){try{this.keEditor.focus()}catch(t){}},disable:function(t){var e=this.getEl();this.waitCreated((function(){var n=e.find(".js-editor-mask");if(!1===t)return n.hide();0===n.length&&(n=r('<div class="js-editor-mask" style="background:#fff;opacity:0;filter:alpha(opacity=0);position:absolute;width:100%;height:100%;top:0;left:0;z-index:999;"></div>'),e.append(n)),n.show()}))},isEmpty:function(){return this.keEditor.isEmpty()},resize:function(t,e){var n=this,i=n.rawConfig,r=n.getEl();n.waitCreated((function(){var o=n.keEditor;if(t&&r.outerWidth(t),n.getEditorEl().width("auto"),e){var a=n.getToolbarEl().outerHeight(),s=!i.noAutoHeight;e=Math.max(e-a-2,0),s&&(o.edit._editHeight=e+"px"),s&&n.autoHeight(),!s&&o.edit.setHeight(e)}}))},autoHeight:function(t){var e=this.rawConfig,n=this.keEditor,i=this.getEditorDoc();if(e.noAutoHeight)return;if(!t){var o=this.getEditorEl();t=d.getScrollParent(o),t=r(t||window)}var a=t.scrollTop();n.edit.setHeight(1);var s=i.body.scrollHeight;r(this.getEditorDoc().body).css("overflow","hidden"),this.getEditorEditEl().css("overflow","hidden").height(1),s=Math.max(s,i.body.scrollHeight);var c=this._lastHeight?s-this._lastHeight:0;this._lastHeight=s;var l=parseInt(n.edit._editHeight||0,10)||0;s=Math.max(s,l),n.edit.setHeight(s),t.scrollTop(a+(s===l?0:c))},waitCreated:function(t){var e=this.keEditor;e&&e.isCreated?t&&t.call(this):this._createdQueue.push(t)},getEditor:function(){return this.keEditor},getEditorDoc:function(){return this.keEditor.edit.doc},getEditorWin:function(){return this.keEditor.edit.win},getEditorEl:function(){return r(this.keEditor.container[0])},getEditorEditEl:function(){return r(this.keEditor.edit.div)},getToolbarEl:function(){return r(this.keEditor.toolbar.div.get(0))},getCmdClosestEl:function(){var t=this.keEditor.cmd.range.startContainer;for(;t&&1!==t.nodeType;)t=t.parentNode;return t},isInTagNode:function(t,e){if(!t||!e)return!1;var n=!1;e=e.toLowerCase();try{for(;t;){var i=(t.tagName||"").toLowerCase();if(i&&i===e){n=!0;break}t=t.parentNode}}catch(r){}return n},removePlaceHolder:function(){r(this.getEditorDoc()).find("#kePlaceholder").remove()},getElPos:function(t){var e=this.getEl(),n=this.getEditorDoc(),i=r(n.body),o=d.getPosTop(t,i),a=d.getPosLeft(t,i),s=d.getPosTop(e),c=d.getPosLeft(e),l=this.getToolbarEl().outerHeight(),u=i.scrollTop(),f=i.scrollLeft();return{top:o+s+l-u,left:a+c-f}},_getConf:function(){var t=this,e=t.rawConfig,n=!!window.ncJsIsOversea||"en"===l.getParam("lang"),i=u.clone(o.get());i.type=f.uploadType.image,i.watermark="true",i.token=o.get("csrf_token");var r={allowNCFileUpload:!0,allowFileManager:!0,filterMode:!e.noFilterHtml,langType:n?"en":"zh_CN",themeType:"nowcoder",uploadJson:"/uploadImage",extraFileUploadParams:i,resizeType:0,height:(e.height||300)+"px",newlineTag:"div",cssData:p.css,items:h.getToolItems({isAdmin:e.isAdmin,isVote:!!e.cbEditVote,canUploadVideo:e.canUploadVideo}),htmlTags:{span:".color,.font-weight,.vertical-align".split(","),div:"align,.text-align,.color,.vertical-align".split(","),table:"border,cellspacing,cellpadding,height,align,bordercolor,.padding,.margin,.border,bgcolor,.text-align,.color,.background-color,.font-weight,.text-decoration,.background,.height,.border-collapse".split(","),"td,th":"align,valign,width,height,colspan,rowspan,bgcolor,.text-align,.color,.background-color,.font-weight,.text-decoration,.vertical-align,.background,.border".split(","),a:"href,target,name,data-card-uid,data-card-subject-id".split(","),embed:"src,width,height,wmode,name,allowfullscreen,flashvars,type,loop,autostart,quality,.width,.height,align,allowscriptaccess".split(","),object:"classid,width,height,id".split(","),param:"name,value".split(","),video:"autoplay,controls,height,loop,muted,poster,preload,src,playsinline,.width,.margin".split(","),source:"src,type".split(","),img:"id,src,width,height,border,alt,title,align,data-source-url,data-card-emoji,data-vote-id,.width,.height,.border".split(","),"p,ol,ul,li,blockquote,h1,h2,h3,h4,h5,h6":"align,.text-align,.color,.font-weight,.vertical-align".split(","),pre:["class"],hr:"class,.page-break-after".split(","),iframe:"frameborder,width,height,src,allowfullscreen".split(","),"br,tbody,tr,strong,b,sub,sup,em,i,u,strike,s,del":[]}},a=u.extend(r,e.keConf,{placeholder:e.placeholder,afterCreate:function(){t.keEditor=t.keEditor||this,t.fire("afterCreate")},afterChange:function(){t.keEditor=t.keEditor||this,t.waitCreated((function(){t.fire("afterChange")}))},afterBlur:function(){t.keEditor=t.keEditor||this,t.fire("afterBlur")},afterFocus:function(){t.keEditor=t.keEditor||this,t.fire("afterFocus")}});e.noCodeSelect||u.forReverse(a.items,(function(t,e){"codeblock"===t&&a.items.splice(e,1)}));return a},_initKePlugin:function(){var t=this;if(g._initKePlugin)return;g._initKePlugin=!0,window.KindEditor.plugin("bockquote",(function(){var e=this;e.clickToolbar("bockquote",(function(){if(r("#kePlaceholder",e.edit.doc).remove(),e.select(),i=e.cmd.commonNode({blockquote:"*"})){var n=e.cmd.range.createBookmark();i.remove(!0),e.cmd.range.moveToBookmark(n)}else{var i;if(e.cmd.indent(),i=e.cmd.commonNode({blockquote:"*"})){try{e.cmd.range.selectNodeContents(i),e.cmd.removeformat()}catch(o){}i.removeAttr("style"),!i.next()&&i.after("<br />")}}e.select(),t.fire("afterChange")}))})),window.KindEditor.plugin("codeblock",(function(){var e=this;e.clickToolbar("codeblock",(function(){if(r("#kePlaceholder",e.edit.doc).remove(),e.select(),i=e.cmd.commonNode({pre:"*"})){var n=e.cmd.range.createBookmark();i.remove(!0),e.cmd.range.moveToBookmark(n)}else{var i;if(e.exec("formatblock","<pre>"),i=e.cmd.commonNode({pre:"*"})){try{e.cmd.range.selectNodeContents(i),e.cmd.removeformat()}catch(o){}i.addClass("prettyprint"),!i.next()&&i.after("<br />")}}e.select(),t.fire("afterChange")}))}))}})},60:function(t,e,n){var i=n(2),r=n(1),o=n(4),a=n(53),s=n(8),c=n(9),l=n(77),u=n(39),d=t.exports=o.create();r.extend(d,a,{_pool:{},input:function(t,e){return new d(t,e)},showList:function(t,e){var n=this._pool[t]=this._pool[t]||{},o=n.listMenu;if(!r.isObject(e))return n.isListMenuShow=!1,o&&o.attach&&o.attach.fire("forceHide");n.bakInput||(n.bakInput=i('<input type="input" style="position:absolute;left:-999999px;top:-999999px;" />'),i(document.body).append(n.bakInput));o||((o=n.listMenu=l.show({input:n.bakInput,focusIpt:e.ipt,needSame:!0,noHover:!0,noEnterLeave:!0,selectCls:"hover",reqList:function(t,e){t=i.trim(t),u.atSuggest({body:{query:t},call:function(t){e(t.data)},error:function(t){e([])}})},getItemStr:function(t){return c.execTpl(['<li class="js-item suggest-user" data-id="#{_sid}">','<img class="list-head" src="#{head}">','<span class="list-name" title="#{nickname}">#{nickname}</span>',"</li>"].join(""),{_sid:t._sid,head:t.head||"//static.nowcoder.com/images/head.png",nickname:t.nickname})},ok:function(t){e.ok&&e.ok(t),o.attach.fire("forceHide")}})).listen("hideList",(function(t){t&&n.isListMenuShow&&(n.isListMenuShow=!1)})),o.attach.listen("attachHide",(function(){n.isListMenuShow=!1})));n.bakInput.val(e.text);var a=o.attach,s=a.getEl();a.one("attachShow",(function(){n.isListMenuShow=!0;var t=e.pos||{},i=e.ext||{};o.getEl().addClass("letter-content"),s.css("left",(t.left||0)+(i.left||0)),s.css("top",(t.top||0)+(i.top||0)),o.getEl().outerWidth(220)})),a.fire("forceShow")},getPool:function(t){return this._pool[t]=this._pool[t]||{}}}),r.extend(d.prototype,a,{initialize:function(t,e){this.ipt=t,this.conf=e||{},this.id=r.ascId(),this.lineHeight=0,this.initIpt()},initIpt:function(){var t,e=this,n=e.ipt,i=d.getPool(e.id);function r(){window.clearTimeout(t),t=window.setTimeout((function(){e.analyze()}),50)}n.on("click",r),n.on("focus",r),n.on("propertychange",r),n.on("blur",(function(){window.clearTimeout(t),t=window.setTimeout((function(){d.showList(e.id)}),150)})),n.on("keydown",(function(e){window.clearTimeout(t);var n=+e.keyCode;if(!{38:1,40:1,13:1}[n])return r();13===n&&i.isListMenuShow&&e.preventDefault()}))},analyze:function(){var t=this,e=t.ipt,n=t.getAtInfo();if(!n)return d.showList(t.id);var r=s.getCursorPos({el:e,index:n.range.start,beforeRemove:t.lineHeight?null:function(e,n){t.lineHeight=i(n).outerHeight()}}),o=s.getPosLeft(e),a=s.getPosTop(e);d.showList(t.id,{ipt:e,text:n.text,pos:r,ext:{top:t.lineHeight+a-e.scrollTop()+2,left:o},ok:function(n){var i=t.getAtInfo().range,r="@"+c.decodeHTML(n.nickname)+" ";e.range(i.start,i.end),e.range(r),e.caret(i.start+r.length),t.conf.ok&&t.conf.ok(n),s.dispatchEvent(e,"input"),s.dispatchEvent(e,"change")}})},getAtInfo:function(){var t,e=this.ipt.val(),n=this.ipt.range(),i=n.start-1,r=-1;for(;i>=0&&("@"===(t=e[i])&&(r=i),"@"!==t&&!/\s/.test(t));)i--;if(-1===r)return null;if(r>0&&/[1-9a-z]/gi.test(e[r-1]))return null;return{index:r,text:e.substring(r+1,n.start),full:e.substring(r,n.start),range:{start:r,end:n.end}}}})},600:function(t,e,n){"use strict";n.r(e);var i=n(1),r=n(578).ncdiff;var o={props:["diff","isSelfTest"],data:function(){var t=this,e=t.diff,n=[];return n.push([t.getInfo({type:0,num:"...",text:e.head.old}),t.getInfo({type:0,num:"...",text:e.head.update})]),i.forEach(e.body,(function(e){i.forEach(e.lines,(function(e,o){var a=i.isArray(e),s=a?r.highlightLine(e[0]):e,c=a&&e[1]?r.highlightLine(e[1]):e,l=t.getInfo(t.getConf(s,!0),0===s.code),u=0===c.code?"":t.getInfo(t.getConf(c));n.push([u,l])}))})),{items:n}},methods:{getConf:function(t,e){return!t||2===t.code&&e||3===t.code&&!e?{type:0,num:" ",text:" "}:{type:t.code,num:e?t.oldIndex:t.newIndex,text:t.text}},getInfo:function(t,e){var n=["code-position","diff-code-normal","diff-code-add","diff-code-del","code-position"],i=t.type;return{num:t.num,mainWidth:e?"94%":"44%",colspan:e?3:1,cls:n[i]+" txt-center",textCls:n[i]+" fn-left",symbol:[" "," ","+","-"," "][i],text:t.text}},getDesc:function(t){var e=i.map(/-(\d+),?(\d*)\s\+(\d+),?(\d*)/.exec(t||"")||[],(function(t){return parseInt(t,10)}));return"你期望输出的第 ".concat(e[3]," 至 ").concat(e[3]+e[4]-1," 行与实际输出的第 ").concat(e[1]," 至 ").concat(e[1]+e[2]-1," 行有不同")}}},a=n(0),s=Object(a.a)(o,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"diff-detail-wrap"},[n("div",{staticClass:"diff-detail-hd clearfix"},[n("span",{staticClass:"pop-diff-item"},[t._v(t._s(t.isSelfTest?"你期望的输出":"你的输出"))]),t._v(" "),n("span",{staticClass:"pop-diff-item"},[t._v(t._s(t.isSelfTest?"实际输出":"标准输出"))])]),t._v(" "),n("div",{staticClass:"diff-detail-bd nc-git-code clearfix"},[n("table",{staticClass:"diff-code-table"},[n("tbody",t._l(t.items,(function(e,i){return n("tr",{key:i},[t._l(e,(function(e,r){return[e&&i>0?[n("td",{key:"td1"+r,"class":e.cls,attrs:{width:"6%"},domProps:{innerHTML:t._s(e.num)}}),t._v(" "),n("td",{key:"td2"+r,"class":e.textCls,attrs:{width:e.mainWidth,colspan:e.colspan}},[/^@@/.test(e.text)?[n("span",[t._v(t._s(t.getDesc(e.text)))])]:n("span",{staticClass:"diff-cont"},[n("span",{staticClass:"pretty-code C++ js-code",domProps:{innerHTML:t._s(e.text)}})])],2)]:t._e()]}))],2)})),0)])])])}),[],!1,null,null,null).exports,c=n(10),l=n(1),u=n(3),d=n(578).ncdiff;var f={show:function(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{},e=this,n=c.extend(e),i=new n(t);return u.wrap(i,{width:960,title:"输出对比",hasNoFooter:!1,ok:function(){}}),i},props:["content","isSelfTest"],components:{Double:s},data:function(){var t=this.content;return l.isString(t)&&(t=[{diff:t}]),l.isObject(t)&&(t=[t]),{items:l.map(t,(function(t){return d.parse(t)}))}}},p=Object(a.a)(f,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"pop-content pop-diff-wrapper"},t._l(t.items,(function(e,i){return n("Double",{key:i,attrs:{diff:e,isSelfTest:t.isSelfTest}})})),1)}),[],!1,null,null,null);e["default"]=p.exports},61:function(t,e,n){t.exports=n(28)(16)},625:function(t,e,n){n(550),n(642);var i=n(499);t.exports=i.Array.from},626:function(t,e,n){var i=n(489),r=n(490),o=function(t){return function(e,n){var o,a,s=String(r(e)),c=i(n),l=s.length;return c<0||c>=l?t?"":undefined:(o=s.charCodeAt(c))<55296||o>56319||c+1===l||(a=s.charCodeAt(c+1))<56320||a>57343?t?s.charAt(c):o:t?s.slice(c,c+2):a-56320+(o-55296<<10)+65536}};t.exports={codeAt:o(!1),charAt:o(!0)}},627:function(t,e,n){var i=n(177),r=n(491),o=i.WeakMap;t.exports="function"==typeof o&&/native code/.test(r(o))},628:function(t,e,n){"use strict";var i={}.propertyIsEnumerable,r=Object.getOwnPropertyDescriptor,o=r&&!i.call({1:2},1);e.f=o?function(t){var e=r(this,t);return!!e&&e.enumerable}:i},629:function(t,e,n){var i=n(216),r=n(353),o="".split;t.exports=i((function(){return!Object("z").propertyIsEnumerable(0)}))?function(t){return"String"==r(t)?o.call(t,""):Object(t)}:Object},63:function(t,e,n){var i=n(2),r=n(1),o=n(7),a=n(4),s=n(81),c=n(61),l=n(80),u=n(3),d=n(9),f=n(84),p=t.exports=a.create();a.mix(p,o,{_template:'\n    <div style="overflow:hidden;cursor:pointer;position:relative;">\n        <label for="#{id}" style="position:absolute;left:0;top:0;display:block;opacity:0;cursor:pointer;z-index:9999;"></label>\n        <input id="#{id}" class="js-upload" #{multiple} #{accept} type="file" style="display:block;opacity:0;cursor:pointer;" />\n    </div>',listeners:[{name:"render",type:"custom",handler:function(){this.fileEl=this.getEl("input.js-upload"),this.labeEl=this.getEl("label"),this.resize(),this.initIpt()}}],show:function(t){t=t||{},this.file=null;var e=(t.attach||{}).extOffset||{},n=l(),o=!1,a=new p(t),c=s.wrap(a,{target:t.target,attach:n,content:a.html(),zIndex:t.zIndex,noHover:t.noHover,needClick:t.needClick,canShow:t.canShow,attachShow:function(){try{if(a.resize(),!c||o)return;o=!0,c.rawConfig.attach=l(),c.fixPosition()}catch(t){}}});return a;function l(){return r.extend({},t.attach,{extOffset:{left:e.left,top:-1*i(t.target).outerHeight()+(+e.top||0)}})}}},{initialize:function(t){var e=t.fileType||"";this.isMultiple=!!t.isMultiple,this.needShowProgress=!t.noProgress,this.needShowError=!t.noError,this.types=r.uniq("*"===e?[]:r.map(d.split(e.replace(/\*\./gi,""),";"),(function(t){return t.toLowerCase()})))},initIpt:function(){var t=this,e=t.rawConfig,n=t.fileEl;n.on("change",(function(i){var o=r.filter(n.get(0).files||[],(function(t){return!!t}));if(0===o.length)return t.clear();var a=t.isMultiple?o:o[0];t.file=a,!e.manual&&t.start(),e.manual&&t.fire("loaded",a)}))},start:function(t){var e=this,n=e.rawConfig,i=e.isMultiple?e.file:[e.file],o=e.types;r.forEach(i,(function(i){if(!i)return e.error({msg:"上传文件不存在"},i);var a=i.size;if(0===a)return e.error({msg:"文件大小为0"},i);if(o.length>0){var s=(i.name||"").split(".").pop().toLowerCase();if(!r.contains(o,s)){var l=n.getFileTypeTips?n.getFileTypeTips(o):"";return l=l||"文件类型不正确，支持的类型：".concat(o.join(",")),e.error({msg:l},i)}}var u=+n.fileSize||0;if(u>0&&a>1024*u*1024)return e.error({msg:"上传的文件不能超过".concat(u,"MB，当前文件").concat(c.byte2Size(a))},i);var d=n.checkFile?n.checkFile(i,a,s):null;if(d&&!d.right)return e.error({msg:d.msg||"出现错误，请检查上传文件是否正确"},i);e.upload(i,t)})),e.clear()},upload:function(t,e){var n=this.rawConfig,i=n.getUpload?n.getUpload.call(this,t,e):null;(i=i||this.getUpload(t,e)).uploadFile(t)},getUpload:function(t,e){var n=this,i=n.rawConfig;return new l(r.extend({},i,{extData:r.extend({},i.extData,e),progress:function(e,r,o){if(i.progress&&i.progress.call(n,e,r,o,t),n.needShowProgress){var a=n.getPopupTips();a.showProgress("正在上传："+e+"%",e),r===o&&a.showProgress("正在保存文件，请稍等...",100)}},call:function(e){n.getPopupTips().close(),i.call&&i.call.call(n,e,t)},error:function(e){var r=999===((e=e||{})||{}).code;if(i.error&&i.error.call(n,e,t),n.needShowError){var o=r?"上传失败，请重新登录":e.msg||"出现错误，请重试";n.getPopupTips().showError(o)}r&&(i.goLogin&&i.goLogin(),!i.goLogin&&window.setTimeout((function(){return window.location.reload()}),2e3))}}))},getPopupTips:function(){var t=this;if(!t._popupTips){(t._popupTips=f.show({})).popup.listen("close",(function(){return t._popupTips=null}))}return t._popupTips},error:function(t,e){var n=this.rawConfig;this.clear(),this.needShowError&&u.alert(t.msg||"出现错误，请重试"),n.error&&n.error.call(this,t,e)},clear:function(){this.fileEl.val("")},resize:function(){var t=this.getEl(),e=this.rawConfig,n=i(e.target),r=n.outerWidth(),o=n.outerHeight();r&&(t.outerWidth(r),this.fileEl.outerWidth(r),this.labeEl.outerWidth(r));o&&(t.outerHeight(o),this.fileEl.outerHeight(o),this.labeEl.outerHeight(o))},_getData:function(t){var e=this.types;return{id:"jsAttachUpload".concat(r.key()),multiple:t.isMultiple?'multiple="1"':"",accept:0===e.length?"":'accept="'.concat(r.map(e,(function(t){return".".concat(t)})).join(","),'"')}}})},630:function(t,e,n){var i=n(237),r=n(631),o=n(498),a=n(282);t.exports=function(t,e){for(var n=r(e),s=a.f,c=o.f,l=0;l<n.length;l++){var u=n[l];i(t,u)||s(t,u,c(e,u))}}},631:function(t,e,n){var i=n(283),r=n(632),o=n(635),a=n(229);t.exports=i("Reflect","ownKeys")||function(t){var e=r.f(a(t)),n=o.f;return n?e.concat(n(t)):e}},632:function(t,e,n){var i=n(555),r=n(500).concat("length","prototype");e.f=Object.getOwnPropertyNames||function(t){return i(t,r)}},633:function(t,e,n){var i=n(352),r=n(354),o=n(634),a=function(t){return function(e,n,a){var s,c=i(e),l=r(c.length),u=o(a,l);if(t&&n!=n){for(;l>u;)if((s=c[u++])!=s)return!0}else for(;l>u;u++)if((t||u in c)&&c[u]===n)return t||u||0;return!t&&-1}};t.exports={includes:a(!0),indexOf:a(!1)}},634:function(t,e,n){var i=n(489),r=Math.max,o=Math.min;t.exports=function(t,e){var n=i(t);return n<0?r(n+e,0):o(n,e)}},635:function(t,e){e.f=Object.getOwnPropertySymbols},636:function(t,e,n){"use strict";var i=n(557).IteratorPrototype,r=n(503),o=n(309),a=n(504),s=n(311),c=function(){return this};t.exports=function(t,e,n){var l=e+" Iterator";return t.prototype=r(i,{next:o(1,n)}),a(t,l,!1,!0),s[l]=c,t}},637:function(t,e,n){var i=n(216);t.exports=!i((function(){function t(){}return t.prototype.constructor=null,Object.getPrototypeOf(new t)!==t.prototype}))},638:function(t,e,n){var i=n(37),r=n(558);t.exports=r&&!Symbol.sham&&"symbol"==i(Symbol.iterator)},639:function(t,e,n){var i=n(293),r=n(282),o=n(229),a=n(640);t.exports=i?Object.defineProperties:function(t,e){o(t);for(var n,i=a(e),s=i.length,c=0;s>c;)r.f(t,n=i[c++],e[n]);return t}},64:function(t,e,n){var i=n(669),r=n(670),o=n(358),a=n(671);t.exports=function(t){return i(t)||r(t)||o(t)||a()}},640:function(t,e,n){var i=n(555),r=n(500);t.exports=Object.keys||function(t){return i(t,r)}},641:function(t,e,n){var i=n(236);t.exports=function(t){if(!i(t)&&null!==t)throw TypeError("Can't set "+String(t)+" as a prototype");return t}},642:function(t,e,n){var i=n(238),r=n(643);i({target:"Array",stat:!0,forced:!n(566)((function(t){Array.from(t)}))},{from:r})},643:function(t,e,n){"use strict";var i=n(505),r=n(502),o=n(644),a=n(562),s=n(354),c=n(563),l=n(564);t.exports=function(t){var e,n,u,d,f,p,h=r(t),g="function"==typeof this?this:Array,v=arguments.length,m=v>1?arguments[1]:undefined,w=m!==undefined,y=l(h),b=0;if(w&&(m=i(m,v>2?arguments[2]:undefined,2)),y==undefined||g==Array&&a(y))for(n=new g(e=s(h.length));e>b;b++)p=w?m(h[b],b):h[b],c(n,b,p);else for(f=(d=y.call(h)).next,n=new g;!(u=f.call(d)).done;b++)p=w?o(d,m,[u.value,b],!0):u.value,c(n,b,p);return n.length=b,n}},644:function(t,e,n){var i=n(229),r=n(561);t.exports=function(t,e,n,o){try{return o?e(i(n)[0],n[1]):e(n)}catch(a){throw r(t),a}}},645:function(t,e,n){n(567),n(646),n(648),n(573),n(574),n(655),n(550),n(656);var i=n(499);t.exports=i.Promise},646:function(t,e,n){var i=n(506),r=n(294),o=n(647);i||r(Object.prototype,"toString",o,{unsafe:!0})},647:function(t,e,n){"use strict";var i=n(506),r=n(565);t.exports=i?{}.toString:function(){return"[object "+r(this)+"]"}},648:function(t,e,n){"use strict";var i,r,o,a,s=n(238),c=n(310),l=n(177),u=n(283),d=n(568),f=n(294),p=n(649),h=n(504),g=n(650),v=n(236),m=n(295),w=n(651),y=n(491),b=n(355),x=n(566),C=n(569),k=n(570).set,S=n(652),E=n(572),_=n(654),T=n(312),j=n(356),L=n(351),I=n(556),P=n(186),A=n(508),M=n(509),D=P("species"),H="Promise",N=L.get,O=L.set,z=L.getterFor(H),F=d,R=l.TypeError,$=l.document,q=l.process,B=u("fetch"),U=T.f,W=U,V=!!($&&$.createEvent&&l.dispatchEvent),G="function"==typeof PromiseRejectionEvent,J=I(H,(function(){if(!(y(F)!==String(F))){if(66===M)return!0;if(!A&&!G)return!0}if(c&&!F.prototype["finally"])return!0;if(M>=51&&/native code/.test(F))return!1;var t=F.resolve(1),e=function(t){t((function(){}),(function(){}))};return(t.constructor={})[D]=e,!(t.then((function(){}))instanceof e)})),K=J||!x((function(t){F.all(t)["catch"]((function(){}))})),Z=function(t){var e;return!(!v(t)||"function"!=typeof(e=t.then))&&e},Y=function(t,e){if(!t.notified){t.notified=!0;var n=t.reactions;S((function(){for(var i=t.value,r=1==t.state,o=0;n.length>o;){var a,s,c,l=n[o++],u=r?l.ok:l.fail,d=l.resolve,f=l.reject,p=l.domain;try{u?(r||(2===t.rejection&&et(t),t.rejection=1),!0===u?a=i:(p&&p.enter(),a=u(i),p&&(p.exit(),c=!0)),a===l.promise?f(R("Promise-chain cycle")):(s=Z(a))?s.call(a,d,f):d(a)):f(i)}catch(h){p&&!c&&p.exit(),f(h)}}t.reactions=[],t.notified=!1,e&&!t.rejection&&Q(t)}))}},X=function(t,e,n){var i,r;V?((i=$.createEvent("Event")).promise=e,i.reason=n,i.initEvent(t,!1,!0),l.dispatchEvent(i)):i={promise:e,reason:n},!G&&(r=l["on"+t])?r(i):"unhandledrejection"===t&&_("Unhandled promise rejection",n)},Q=function(t){k.call(l,(function(){var e,n=t.facade,i=t.value;if(tt(t)&&(e=j((function(){A?q.emit("unhandledRejection",i,n):X("unhandledrejection",n,i)})),t.rejection=A||tt(t)?2:1,e.error))throw e.value}))},tt=function(t){return 1!==t.rejection&&!t.parent},et=function(t){k.call(l,(function(){var e=t.facade;A?q.emit("rejectionHandled",e):X("rejectionhandled",e,t.value)}))},nt=function(t,e,n){return function(i){t(e,i,n)}},it=function(t,e,n){t.done||(t.done=!0,n&&(t=n),t.value=e,t.state=2,Y(t,!0))},rt=function ot(t,e,n){if(!t.done){t.done=!0,n&&(t=n);try{if(t.facade===e)throw R("Promise can't be resolved itself");var i=Z(e);i?S((function(){var n={done:!1};try{i.call(e,nt(ot,n,t),nt(it,n,t))}catch(r){it(n,r,t)}})):(t.value=e,t.state=1,Y(t,!1))}catch(r){it({done:!1},r,t)}}};J&&(F=function(t){w(this,F,H),m(t),i.call(this);var e=N(this);try{t(nt(rt,e),nt(it,e))}catch(n){it(e,n)}},(i=function(t){O(this,{type:H,done:!1,notified:!1,parent:!1,reactions:[],rejection:!1,state:0,value:undefined})}).prototype=p(F.prototype,{then:function(t,e){var n=z(this),i=U(C(this,F));return i.ok="function"!=typeof t||t,i.fail="function"==typeof e&&e,i.domain=A?q.domain:undefined,n.parent=!0,n.reactions.push(i),0!=n.state&&Y(n,!1),i.promise},"catch":function(t){return this.then(undefined,t)}}),r=function(){var t=new i,e=N(t);this.promise=t,this.resolve=nt(rt,e),this.reject=nt(it,e)},T.f=U=function(t){return t===F||t===o?new r(t):W(t)},c||"function"!=typeof d||(a=d.prototype.then,f(d.prototype,"then",(function(t,e){var n=this;return new F((function(t,e){a.call(n,t,e)})).then(t,e)}),{unsafe:!0}),"function"==typeof B&&s({global:!0,enumerable:!0,forced:!0},{fetch:function(t){return E(F,B.apply(l,arguments))}}))),s({global:!0,wrap:!0,forced:J},{Promise:F}),h(F,H,!1,!0),g(H),o=u(H),s({target:H,stat:!0,forced:J},{reject:function(t){var e=U(this);return e.reject.call(undefined,t),e.promise}}),s({target:H,stat:!0,forced:c||J},{resolve:function(t){return E(c&&this===o?F:this,t)}}),s({target:H,stat:!0,forced:K},{all:function(t){var e=this,n=U(e),i=n.resolve,r=n.reject,o=j((function(){var n=m(e.resolve),o=[],a=0,s=1;b(t,(function(t){var c=a++,l=!1;o.push(undefined),s++,n.call(e,t).then((function(t){l||(l=!0,o[c]=t,--s||i(o))}),r)})),--s||i(o)}));return o.error&&r(o.value),n.promise},race:function(t){var e=this,n=U(e),i=n.reject,r=j((function(){var r=m(e.resolve);b(t,(function(t){r.call(e,t).then(n.resolve,i)}))}));return r.error&&i(r.value),n.promise}})},649:function(t,e,n){var i=n(294);t.exports=function(t,e,n){for(var r in e)i(t,r,e[r],n);return t}},650:function(t,e,n){"use strict";var i=n(283),r=n(282),o=n(186),a=n(293),s=o("species");t.exports=function(t){var e=i(t),n=r.f;a&&e&&!e[s]&&n(e,s,{configurable:!0,get:function(){return this}})}},651:function(t,e){t.exports=function(t,e,n){if(!(t instanceof e))throw TypeError("Incorrect "+(n?n+" ":"")+"invocation");return t}},652:function(t,e,n){var i,r,o,a,s,c,l,u,d=n(177),f=n(498).f,p=n(570).set,h=n(571),g=n(653),v=n(508),m=d.MutationObserver||d.WebKitMutationObserver,w=d.document,y=d.process,b=d.Promise,x=f(d,"queueMicrotask"),C=x&&x.value;C||(i=function(){var t,e;for(v&&(t=y.domain)&&t.exit();r;){e=r.fn,r=r.next;try{e()}catch(n){throw r?a():o=undefined,n}}o=undefined,t&&t.enter()},h||v||g||!m||!w?b&&b.resolve?(l=b.resolve(undefined),u=l.then,a=function(){u.call(l,i)}):a=v?function(){y.nextTick(i)}:function(){p.call(d,i)}:(s=!0,c=w.createTextNode(""),new m(i).observe(c,{characterData:!0}),a=function(){c.data=s=!s})),t.exports=C||function(t){var e={fn:t,next:undefined};o&&(o.next=e),r||(r=e,a()),o=e}},653:function(t,e,n){var i=n(507);t.exports=/web0s(?!.*chrome)/i.test(i)},654:function(t,e,n){var i=n(177);t.exports=function(t,e){var n=i.console;n&&n.error&&(1===arguments.length?n.error(t):n.error(t,e))}},655:function(t,e,n){"use strict";var i=n(238),r=n(310),o=n(568),a=n(216),s=n(283),c=n(569),l=n(572),u=n(294);i({target:"Promise",proto:!0,real:!0,forced:!!o&&a((function(){o.prototype["finally"].call({then:function(){}},(function(){}))}))},{"finally":function(t){var e=c(this,s("Promise")),n="function"==typeof t;return this.then(n?function(n){return l(e,t()).then((function(){return n}))}:t,n?function(n){return l(e,t()).then((function(){throw n}))}:t)}}),r||"function"!=typeof o||o.prototype["finally"]||u(o.prototype,"finally",s("Promise").prototype["finally"])},656:function(t,e,n){var i=n(177),r=n(657),o=n(658),a=n(262),s=n(186),c=s("iterator"),l=s("toStringTag"),u=o.values;for(var d in r){var f=i[d],p=f&&f.prototype;if(p){if(p[c]!==u)try{a(p,c,u)}catch(g){p[c]=u}if(p[l]||a(p,l,d),r[d])for(var h in o)if(p[h]!==o[h])try{a(p,h,o[h])}catch(g){p[h]=o[h]}}}},657:function(t,e){t.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},658:function(t,e,n){"use strict";var i=n(352),r=n(659),o=n(311),a=n(351),s=n(554),c=a.set,l=a.getterFor("Array Iterator");t.exports=s(Array,"Array",(function(t,e){c(this,{type:"Array Iterator",target:i(t),index:0,kind:e})}),(function(){var t=l(this),e=t.target,n=t.kind,i=t.index++;return!e||i>=e.length?(t.target=undefined,{value:undefined,done:!0}):"keys"==n?{value:i,done:!1}:"values"==n?{value:e[i],done:!1}:{value:[i,e[i]],done:!1}}),"values"),o.Arguments=o.Array,r("keys"),r("values"),r("entries")},659:function(t,e,n){var i=n(186),r=n(503),o=n(282),a=i("unscopables"),s=Array.prototype;s[a]==undefined&&o.f(s,a,{configurable:!0,value:r(null)}),t.exports=function(t){s[a][t]=!0}},66:function(t,e,n){var i=n(2),r=n(1),o=n(4),a=n(53),s=n(8),c=n(9),l=n(77),u=n(39),d=t.exports=o.create();r.extend(d,a,{_pool:{},input:function(t,e){return new d(t,e)},showList:function(t,e){var n=this._pool[t]=this._pool[t]||{},o=n.listMenu;if(!r.isObject(e))return n.isListMenuShow=!1,o&&o.attach&&o.attach.fire("forceHide");n.bakInput||(n.bakInput=i('<input type="input" style="position:absolute;left:-999999px;top:-999999px;" />'),i(document.body).append(n.bakInput));o||((o=n.listMenu=l.show({input:n.bakInput,focusIpt:e.ipt,needSame:!0,noHover:!0,noEnterLeave:!0,selectCls:"hover",reqList:function(t,e){t=i.trim(t),u.subjectSuggest({query:{query:t},call:function(t){var n=t.data.subjects;e(n)},error:function(t){e([])}})},getItemStr:function(t){var e=t._sid,n=t.content,i=t.momentCount;return c.execTpl(['<li class="js-item suggest-user" data-id="#{_sid}">','<span class="topic-txt">#{content}</span>','<span class="topic-num">#{momentCount} 讨论</span>',"</li>"].join(""),{_sid:e,content:n,momentCount:i})},ok:function(t){e.ok&&e.ok(t),o.attach.fire("forceHide")}})).listen("hideList",(function(t){t&&n.isListMenuShow&&(n.isListMenuShow=!1)})),o.attach.listen("attachHide",(function(){n.isListMenuShow=!1})));n.bakInput.val(e.text);var a=o.attach,s=a.getEl();a.one("attachShow",(function(){n.isListMenuShow=!0;var t=e.pos||{},i=e.ext||{};o.getEl().addClass("letter-content"),o.getEl(".js-menu").removeClass("dropdown-menu").addClass("feed-topic-list"),s.css("left",(t.left||0)+(i.left||0)),s.css("top",(t.top||0)+(i.top||0)),o.getEl().outerWidth(220)})),a.fire("forceShow")},getPool:function(t){return this._pool[t]=this._pool[t]||{}}}),r.extend(d.prototype,a,{initialize:function(t,e){this.ipt=t,this.conf=e||{},this.id=r.ascId(),this.lineHeight=0,this.initIpt()},initIpt:function(){var t,e=this,n=e.ipt,i=d.getPool(e.id);function r(){window.clearTimeout(t),t=window.setTimeout((function(){e.analyze()}),50)}n.on("click",r),n.on("focus",r),n.on("propertychange",r),n.on("blur",(function(){window.clearTimeout(t),t=window.setTimeout((function(){d.showList(e.id)}),150)})),n.on("keydown",(function(e){window.clearTimeout(t);var n=+e.keyCode;if(!{38:1,40:1,13:1}[n])return r();13===n&&i.isListMenuShow&&e.preventDefault()}))},analyze:function(){var t=this,e=t.ipt,n=t.getSubjectInfo();if(!n)return d.showList(t.id);var r=s.getCursorPos({el:e,index:n.range.start,beforeRemove:t.lineHeight?null:function(e,n){t.lineHeight=i(n).outerHeight()}}),o=s.getPosLeft(e),a=s.getPosTop(e);d.showList(t.id,{ipt:e,text:n.text,pos:r,ext:{top:t.lineHeight+a-e.scrollTop()+2,left:o},ok:function(n){var i=t.getSubjectInfo().range,r="#"+c.decodeHTML(n.content)+"# ";e.range(i.start,i.end),e.range(r),e.caret(i.start+r.length),t.conf.ok&&t.conf.ok(n),s.dispatchEvent(e,"input"),s.dispatchEvent(e,"change")}})},getSubjectInfo:function(){var t,e=this.ipt.val(),n=this.ipt.range(),i=n.start-1,r=-1;for(;i>=0&&("#"===(t=e[i])&&(r=i),"#"!==t&&!/\s/.test(t));)i--;this.conf.ignoreHashtag&&(r=0);if(-1===r)return null;if(r>0&&/[1-9a-z]/gi.test(e[r-1]))return null;return{index:r,text:e.substring(this.conf.ignoreHashtag?0:r+1,n.start),full:e.substring(r,n.start),range:{start:r,end:n.end}}}})},660:function(t,e,n){n(567)},661:function(t,e,n){n(573)},662:function(t,e,n){"use strict";var i=n(238),r=n(312),o=n(356);i({target:"Promise",stat:!0},{"try":function(t){var e=r.f(this),n=o(t);return(n.error?e.reject:e.resolve)(n.value),e.promise}})},663:function(t,e,n){n(574)},665:function(t,e,n){var i=n(21);t.exports={val:function(t){var e=this;if(0===arguments.length)return i.getParam("lang");(t=e.fix(t))&&t!==e.val()&&(window.location.href=i.addParam({lang:t}))},fix:function(t){return t&&{zh:"zh",en:"en"}[t]||""}}},666:function(t,e,n){t.exports=n(28)(35)},667:function(t,e,n){var i=n(1506)["default"],r=null,o="";t.exports={show:function(t){t=t||{};var e=null;try{e=JSON.stringify(t)}catch(a){}if(r&&o===e)return;var n=r=i.ncPopup({propsData:{href:t.href,register:t.register}});o=e,n.$on("close",(function(){t.close&&t.close()})),n.$on("register",(function(){t.registerCb&&t.registerCb(),!t.registerCb&&window.location.reload()})),n.$on("login",(function(){t.loginCb&&t.loginCb(),!t.loginCb&&window.location.reload()})),n.popup&&n.popup.listen("destroy",(function(){r=null,o=""}))}}},668:function(t,e,n){var i=n(14);function r(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function o(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?r(Object(n),!0).forEach((function(e){i(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var a=n(2),s=n(4),c=n(1),l=n(7),u=n(29),d=n(3),f=n(129),p=n(25),h=n(39),g=t.exports=s.create();s.mix(g,l,{_template:'<div><div style="padding:20px 0;text-align:center;font-size:14px;">加载中...</div></div>',listeners:[{name:"render",type:"custom",handler:function(){var t=this,e=t.rawConfig;t.isMiddle=!!e.isMiddle,t.getCity((function(){t.initContainer(),t.initCpns(),e.val&&t.val(e.val),t.popup&&t.popup.fixPosition()}))}}],show:function(t){var e=new g(t=t||{});d.wrap(e,{title:"添加学校信息",content:e.html(),width:700,noUnique:!!t.noUnique,okTxt:"提交",ok:function(){return e.check()&&e.submit(),!0},cancel:function(){},close:function(){e.fire("close")}});return e}},{initContainer:function(){this.getEl().html(['<div class="pop-authorize-tip" style="width:auto;font-size:14px;">',"提交学校信息后，管理员将于3个工作日内审核，审核期间将不影响简历的正常投递。</br>","如有以下情况，则该申请将会被拒绝，且除简历以外涉及学校的个人资料将需重新填写学校信息：</br>","1.重复添加学校信息<br />","2.新增学校名称不完整或名称错误<br />","3.若未找到学校所在的地区，请选择【中国-北京】并申请地区+学校名称如“美国哈佛大学”","</div>",'<div class="pop-filter-wrap js-filter-box"></div>'].join("")),this.headerEl=this.getEl(".js-filter-box")},initCpns:function(){var t=this,e=t.headerEl,n=(t.cityMap={},c.map(t.cityData,(function(e,n){return t.cityMap[e.name]=e,{text:e.name,value:e.name}})));t.countryCpn=new f({renderTo:e,text:"请选择国家",needSearch:n.length>5,options:n,listeners:{change:function(){return t.fixCity()}}}),t.provCpn=new f({renderTo:e,text:"请选择省份",needSearch:!0,options:[]}),t.provCpn.hide(),t.iptCpn=new p({cls:"inline-block",renderTo:e,placeholder:"请输入学校全称"}),t.fixCity()},val:function(t){var e=this;if(0===arguments.length)return{country:e.countryCpn.val()||"",prov:e.provCpn.hidden?undefined:e.provCpn.val()||"",name:a.trim(e.iptCpn.val())};"中国"!==(t=t||{}).country&&e.countryCpn.val(t.country),"北京"!==t.prov&&e.provCpn.val(t.prov),e.iptCpn.val(a.trim(t.name)),e.fixCity()},check:function(){var t=this.val(),e=!0,n=t.name||"";t.country?"中国"!==t.country||t.prov||(this.provCpn.error(),e=!1):(this.countryCpn.error(),e=!1);n?n.length>250&&(this.iptCpn.errorTips("学校名称不能超过250个字符"),e=!1):(this.iptCpn.errorTips("学校名称不能为空"),e=!1);return e},submit:function(){var t=this,e=t.val(),n=t.getEl();if(u.mark(n))return;h.addSchool({body:o({isMiddle:t.isMiddle},e),call:function(n){t.fire("ok",e),t.popup&&t.popup.close()},error:function(e){return t.iptCpn.errorTips(e.msg)},always:function(){return u.clear(n)}})},fixCity:function(){var t=this.countryCpn.val(),e=this.cityMap[t];if(!e)return;if(e.provs&&e.provs.length>0){var n=[];c.forEach(e.provs,(function(t,e){n.push({text:t.name,value:t.name})})),this.provCpn.replaceOptions(n),this.provCpn.show()}else this.provCpn.hide()},getCity:function(t){var e=this;h.getSchoolBrief({query:{isMiddle:e.isMiddle},call:function(n){var i=e.cityData=n.data||[];t&&t(i)},error:function(t){d.alert(t.msg),e.popup.close()}})}})},669:function(t,e,n){var i=n(575);t.exports=function(t){if(Array.isArray(t))return i(t)}},670:function(t,e){t.exports=function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}},671:function(t,e){t.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}},672:function(t,e,n){var i=n(2),r=n(1),o=n(7),a=n(4),s=n(81),c=n(9),l=n(8),u=n(38),d=t.exports=a.create();a.mix(d,o,{_template:'\n    <div class="btn-group open" style="display:block;">\n        <ul class="dropdown-menu js-select" style="position:static;float:none;display:none;border-bottom:0;overflow-x:hidden;"></ul>\n        <ul class="dropdown-menu js-select-key" style="position:static;float:none;display:none;border-bottom:0;overflow-x:hidden;"></ul>\n        <ul class="dropdown-menu js-list" style="position:static;float:none;border-bottom:0;overflow-x:hidden;"></ul>\n        <ul class="dropdown-menu js-search" style="position:static;float:none;border-bottom:0;overflow-x:hidden;display:none;"></ul>\n        <div style="padding:20px 0;text-align:center;font-size:14px;display:none;background:#fff;border:1px solid #d4d4d4;" class="js-none">没有结果</div>\n    </div>',listeners:[{name:"render",type:"custom",handler:function(){var t=this.getEl(),e=this.rawConfig;this.ulEl=t.find("ul.js-list"),this.searchUlEl=t.find("ul.js-search"),this.selectUlEl=t.find("ul.js-select"),this.selectKeyUlEl=t.find("ul.js-select-key"),this.noneEl=t.find("div.js-none"),this.cache.hasSub&&t.addClass("with-multi-list"),r.id(e.width)&&t.outerWidth(e.width),this.initResize()}}],show:function(t){var e=this,n=new d(t=t||{});s.wrap(n,{attachRenderTo:t.attachRenderTo,target:t.target,attach:t.attach,content:n.html(),zIndex:t.zIndex,noHover:t.noHover,needClick:t.needClick,canShow:t.canShow,canHide:t.canHide,needReWidth:t.needReWidth,attachShow:function(){n.renderItems(),n.ulEl.scrollTop(0)},attachHide:function(){n.searchIpt&&(n.searchIpt.val(""),n.search(""));var i=n.val();n._same(i,e._lastVal)||(n._lastVal=i,t.ok&&t.ok.call(e),n.fire("ok"))}});return n._lastVal=n.val(),n}},{initialize:function(t){this.cache={allChk:null,search:{chk:[],chkLi:[]},listRendered:!1,chk:[],chkLi:[],subAttachSel:{}},this.initConf(t)},initConf:function(t){var e=this.cache,n=t.options,i=function o(t,e,n){for(var i=[],r=0;r<e.length;r++){var a=e[r];if(a.parent===t&&(a.subDeep=n,i.push(a),e.splice(r,1),r--,a.value!==undefined&&null!==a.value)){var s=o(a.value,e.slice(0),n+1);i=i.concat(s)}}return i}(undefined,n,0);n.length=0,r.forEach(i,(function(t){return n.push(t)})),r.forEach(t.options,(function(t){var n=(t.options||[]).length>0;e.hasSub=e.hasSub||n,!n&&delete t.options}))},initResize:function(){var t=this,e=t.attach,n=t.getEl();e.listen("widthChange",(function(e){t.renderItems();var i=t.searchIpt;i&&i.hide();var r=n.width("auto").outerWidth();n.outerWidth(Math.max(r,e)),i&&i.outerWidth(n.width()).show()}))},initSearch:function(){var t=this,e=t.rawConfig;if(!e.needSearch)return;var n=t.getEl(),o=t.cache,a=!1,s=t.searchIpt=i('<input style="display:block;border-radius:0;" type="text" placeholder="'+(e.placeholder||"输入关键词搜索")+'" />');n.prepend(t.searchIpt),l.bindChange(s,(function(){!function(){if(!a){a=!0;var e=t.searchUlEl,n=(t.parent||t).getAllItem();r.forEach(n,(function(n){var i=t._createLi(n,!0);e.append(i.li),o.search.chk.push(i.chk),o.search.chkLi.push(i.li)}))}}(),t.search(i.trim(s.val())),t.hideAttach(!0)})),s.outerWidth(n.width())},initSelectAll:function(){var t=this,e=t.rawConfig;if(e.noSelectAll)return;var n=t.selectUlEl,o=i("<li></li>");t.cache.allChk=new u({renderTo:o,text:"全选",checked:!1,change:function(){var n=!!this.isChecked();r.forEach(e.options,(function(e){return t.fixOption(e,n)})),t.fixChk(),e.change&&e.change.call(t),(t.parent||t).fire("change")}}),n.append(o),n.show()},initSelectKeyAll:function(){var t=this,e=t.rawConfig;if(e.noSelectAll)return;var n=t.selectKeyUlEl,o=i("<li></li>");t.cache.allKeyChk=new u({renderTo:o,text:"选中所有搜索结果",checked:!1,change:function(){var n=!!this.isChecked(),i=t.cache.search.chkLi;r.forEach(e.options,(function(e,r){var o=i[r];(o=o&&o.get?o.get(0):o)&&o.style&&"none"!==o.style.display&&t.fixOption(e,n)})),t.fixChk(),e.change&&e.change.call(t),(t.parent||t).fire("change")}}),n.append(o),n.hide()},initSubSel:function(){var t=this;r.forEach(t.cache.chkLi,(function(e,n){l.hoverToggle({el:i(e),enter:function(){return t.openSub(n)},leave:function(){return t.openSub(n,!1)}})}));var e=t.attach,n=e.rawConfig,o=n.canHide;n.canHide=function(){var n=!o||o();return r.forEach(t.cache.subAttachSel,(function(t){return(n=n&&!t.attach.isMouseEnter)?null:r.BREAK})),n&&!e.isMouseEnter}},renderItems:function(){var t=this.rawConfig;if(this.cache.listRendered)return;this.cache.listRendered=!0,this.createItems(t.options),this.initSearch(),this.initSelectAll(),this.initSelectKeyAll(),this.initSubSel(),this.fixChk()},val:function(t,e){var n=this,i=n.rawConfig;if(0===arguments.length){var o=n.getSelectedItem();return r.map(o,(function(t){return t.value}))}t=r.isArray(t)?t:[t];var a=n.val();n._same(t,a)||(r.forEach(n.getAllItem(),(function(e){return e.checked=r.contains(t,e.value)})),n.fixChk(),!0!==e&&(i.change&&i.change.call(n),n.fire("change")))},valText:function(){var t=this.getSelectedItem();return r.map(t,(function(t){return t.text}))},clear:function(){var t=this.rawConfig;r.forEach(this.cache.chk,(function(t){return t.checked(!1)})),r.forEach(t.options,(function(t){return t.checked=!1}))},search:function(t){var e=this.cache;if(!e.listRendered)return;if(this.searchUlEl.scrollTop(0).show(),this.selectKeyUlEl.show(),this.ulEl.scrollTop(0).hide(),this.noneEl.hide(),!t)return this.ulEl.show(),this.searchUlEl.hide(),this.selectKeyUlEl.hide(),void this.showAllChk();var n=e.search.chkLi,i=c.searchRegExp(t),o=0;r.forEach(e.search.chk,(function(t,e){try{i.lastIndex=0}catch(c){}var r=t.rawConfig.text,a=i.test(r),s=n[e];(s=s&&s.get?s.get(0):s)&&s.style&&(s.style.display=a?"":"none"),a&&o++})),this.searchUlEl[o>0?"show":"hide"](),this.selectKeyUlEl[o>0?"show":"hide"](),this.noneEl[o>0?"hide":"show"](),this.showAllChk(!1),this.fixChk()},isSelectAll:function(){var t=this.rawConfig.options;return r.every(t,(function(t){return t.checked}))},showAllChk:function(t){this.cache.allChk&&(t=!1!==t,this.cache.allChk[t?"show":"hide"](),this.selectUlEl[t?"show":"hide"]())},createItems:function(t){var e=this,n=e.ulEl.html(""),i=e.cache.chk,o=e.cache.chkLi;r.forEach(t,(function(t){var r=e._createLi(t),a=r.chk,s=r.li;i.push(a),o.push(s),n.append(s)}))},fixChk:function(t){var e=this,n=e.parent||e;(function a(t){var e=!1;return r.forEach(t,(function(t,n){t.options&&(t.checked=a(t.options)),e=!(!e&&!t.checked)})),e})(t=n.rawConfig.options),function s(t,e){var n=t?t.cache:null;if(t&&n.listRendered){var i=!0;r.forEach(n.chk,(function(t,o){var a=!!e[o].checked;i=i&&a,t.checked(a),r.forEach(n.subAttachSel,(function(t,n){return s(t,e[+n].options)}))})),n.allChk&&n.allChk.checked(i)}}(n,t),function c(t,n){var i=t?t.cache:null,o=e.cache.search.chkLi;if(t&&i.listRendered){var a=!0;r.forEach(i.chk,(function(t,e){var s=o[e];if((s=s&&s.get?s.get(0):s)&&s.style&&"none"!==s.style.display){var l=!!n[e].checked;a=a&&l,t.checked(l),r.forEach(i.subAttachSel,(function(t,e){return c(t,n[+e].options)}))}})),i.allKeyChk&&i.allKeyChk.checked(a)}}(n,t),i=n,o=i.getAllItem(),r.forEach(i.cache.search.chk,(function(t,e){return t.checked(!!o[e].checked)}));var i,o},fixOption:function(t,e){var n=this;!t.disabled&&(t.checked=e),r.forEach(t.options,(function(t){!t.disabled&&(t.checked=!!e),n.fixOption(t,e)}))},hideAttach:function(t){if(r.forEach(this.cache.subAttachSel,(function(t){return t.hideAttach()})),t)return;this.attach.isMouseEnter=!1,this.attach.forceHide()},getSelectedItem:function(){var t=this.getAllItem();return r.filter(t,(function(t){return t.checked}))},getAllItem:function(){return function t(e){var n=[];return r.forEach(e,(function(e){var i=e.options;i&&(n=n.concat(t(i))),!i&&n.push(e)})),n}(this.rawConfig.options)},openSub:function(t,e){var n=this,r=n.rawConfig,o=r.options[t].options,a=n.cache.subAttachSel,s=a[t];if((e=!1!==e)&&o&&!s){var c=i(n.cache.chkLi[t]),l=(s=a[t]=d.show({attachRenderTo:n.attach.getEl().parent(),target:c,options:o,noSelectAll:r.noSelectAll,needReWidth:!0,attach:{horz:!0,extOffset:{left:-1}},canHide:function(){return!s.attach.isMouseEnter}})).attach,u=n.parent||n;s.parent=u,l.listen("attachHide",(function(t){f(c),t&&t.attachLeave&&n.attach.forceHide(t)})),l.listen("attachShow",(function(){return f(c,!0)})),l.forceShow(),n.pushChild(s)}else!e&&s&&s.attach.forceHide();function f(t,e){var n=t.find(".icon-angle-left"),i=t.find(".icon-angle-right");n[e?"show":"hide"](),i[e?"hide":"show"]()}},_same:function(t,e){var n=function(t,e){return t-e},i=(t||[]).sort(n).join("|"),r=(e||[]).sort(n).join("|");return i===r},_createLi:function(t,e){var n=this,o=n.parent||n,a=o.rawConfig,s=!!t.options,c=t.subDeep,l=t.attr||{},d="";r.forEach(l,(function(t,e){return t&&e&&!{"class":1,style:1}[e]&&(d+=" ".concat(e,'="').concat(t,'"; '))}));var f=e?"":c>0?"padding-left:"+(10+10*c)+"px;":"",p=e?"":1===c?"background:#f7f7f7;":c>1?"background:#eeeeee;":"",h=s?"<li ".concat(d,' class="').concat(l["class"]||"",'" style="').concat(l.style||""," position:relative;").concat(f).concat(p,'"><i class="icon-angle-right"></i><i class="icon-angle-left" style="display:none;"></i></li>'):"<li ".concat(d,' class="').concat(l["class"]||"",'" style="').concat(l.style||""," ").concat(f).concat(p,'"></li>'),g=i(h);return{chk:new u({renderTo:g,renderBy:"prepend",text:t.text,val:t.value,checked:!!t.checked,disabled:!!t.disabled,change:function(){n.fixOption(t,this.isChecked()),n.fixChk(),a.change&&a.change.call(o),o.fire("change")}}),li:g}},_getData:function(){}})},673:function(t,e,n){"use strict";var i=n(367);n.n(i).a},674:function(t,e,n){var i=n(2),r=n(1),o=n(7),a=n(4),s=n(3),c=n(8),l=n(230),u=n(313),d=t.exports=a.create(),f=/\$\$([^\$]*?)\$\$|\$([^\$]*?)\$/g,p={1:["\\alpha","\\beta","\\gamma","\\delta","\\epsilon","\\varepsilon","\\zeta","\\eta","\\theta","\\vartheta","\\iota","\\kappa","\\lambda","\\mu","\\nu","\\xi","\\pi","\\varpi","\\rho","\\varrho","\\sigma","\\varsigma","\\tau","\\upsilon","\\phi","\\varphi","\\chi","\\psi","\\omega","\\Gamma","\\Delta","\\Theta","\\Lambda","\\Xi","\\Pi","\\Sigma","\\Upsilon","\\Phi","\\Psi","\\Omega"],2:["\\times","\\div","\\cdot","\\pm","\\mp","\\ast","\\star","\\circ","\\bullet","\\oplus","\\ominus","\\oslash","\\otimes","\\odot","\\dagger","\\ddagger","\\vee","\\wedge","\\cap","\\cup","\\aleph","\\Re","\\Im","\\top","\\bot","\\infty","\\partial","\\forall","\\exists","\\neg","\\angle","\\triangle","\\diamond"],3:["\\leq","\\geq","\\prec","\\succ","\\preceq","\\succeq","\\ll","\\gg","\\equiv","\\sim","\\simeq","\\asymp","\\approx","\\ne","\\subset","\\supset","\\subseteq","\\supseteq","\\in","\\ni","\\notin"],4:["x_{a}","x^{b}","x_{a}^{b}","\\bar{x}","\\tilde{x}","\\frac{a}{b}","\\sqrt{x}","\\sqrt[n]{x}","\\bigcap_{a}^{b}","\\bigcup_{a}^{b}","\\prod_{a}^{b}","\\coprod_{a}^{b}","\\left( x \\right)","\\left[ x \\right]","\\left\\{ x \\right\\}","\\left| x \\right|","\\int_{a}^{b}","\\oint_{a}^{b}","\\sum_{a}^{b}{x}","\\lim_{a \\rightarrow b}{x}","\\left[ \\begin{matrix}\n     0 & 1 \\\\\n     1 & 0 \\\\\n\\end{matrix} \\right]"],5:["\\leftarrow","\\rightarrow","\\leftrightarrow","\\Leftarrow","\\Rightarrow","\\Leftrightarrow","\\uparrow","\\downarrow","\\updownarrow","\\Uparrow","\\Downarrow","\\Updownarrow"]};a.mix(d,o,{_template:'<div class="pop-formula"><div style="font-size:14px;text-align:center;padding:20px;">加载中...</div></div>',listeners:[{name:"render",type:"custom",handler:function(){var t=this,e=t.rawConfig;l.css("//static.nowcoder.com/nc/style/0.0.05/fontcustom/latex/latex.css",(function(){t.initContainer(e),t.initData(),t.initFormult(e),t.initLatex(e),t.popup.fixPosition(),t[e.useLaTex?"latex":"formult"].ipt.focus()}))}},{name:"click ul.js-formula-list li",handler:function(t){var e=i(t.currentTarget),n=this.formult.ipt,r=e.attr("data-type"),o=e.attr("data-index"),a=p[r][o];r&&o&&a&&(n.range(a),n.caret(n.range().end),this.refreshFormultImage())}}],show:function(t){var e=new d(t=t||{});s.wrap(e,{content:e.html(),title:"插入公式",noUnique:!0,width:720,ok:function(){return e.submit()},cancel:function(){}});return e}},{initialize:function(t){this.useLaTex=!!t.useLaTex},initContainer:function(t){var e=this.getEl(),n=!!this.useLaTex,i=['<div class="pop-formula js-formula">','<div class="pop-formula-panel">','<section class="clearfix"><ul class="js-formula-list"></ul></section>','<section class="pop-formula-txt"><textarea class="js-formula-ipt"></textarea></section>','<section class="pop-formula-review js-formula-preview">预览</section>',"</div>","</div>"].join("");if(!n)return e.html(i);var o=['<div class="pop-formula js-latex" style="display:none;">','<section class="pop-formula-txt" style="border:0;padding:0;"><textarea class="js-latex-ipt" style="height:180px;" placeholder="输入带有LaTeX公式(公式分隔符: $)的内容，将自动解析"></textarea></section>','<section class="pop-formula-review js-latex-preview">预览</section>',"</div>"].join("");e.html(i+o);var a=e.find(".js-formula"),s=e.find(".js-latex"),c=r.id(t.type);this.tabType=new u({renderTo:e,renderBy:"prepend",type:"line",items:[{text:"LaTex",value:"2",checked:"2"===c},{text:"数学公式",value:"1",checked:"1"===c}],listeners:{render:function(){this.getEl().css("marginBottom","20px")},change:function(){var t=this.val();a["1"===t?"show":"hide"](),s["2"===t?"show":"hide"]()}}})},initData:function(){var t=this.getEl();this.latex={el:t.find(".js-latex"),ipt:t.find(".js-latex-ipt"),preview:t.find(".js-latex-preview")},this.formult={el:t.find(".js-formula"),ipt:t.find(".js-formula-ipt"),list:t.find(".js-formula-list"),preview:t.find(".js-formula-preview")}},initLatex:function(t){if(this.useLaTex){c.bindChange(this.latex.ipt,r.bind(this.refreshLatexContent,this));var e=i.trim(t.valueLaTex);e&&this.valLatexText(e)}},initFormult:function(t){this.initFormultTab(),c.bindChange(this.formult.ipt,r.bind(this.refreshFormultImage,this));var e=i.trim(t.value);this.valText(e)},initFormultTab:function(){var t=this,e=(t.getEl(),{}),n=[{text:"特殊字符",value:"1"},{text:"运算符号",value:"2"},{text:"关系符号",value:"3"},{text:"函数符号",value:"4"},{text:"箭头符号",value:"5"}],o=i('<div class="pop-formula-sub"></div>'),a=r.map(n,(function(t){return'<a href="javascript:void(0);" class="js-formult-item" data-id="'+t.value+'">'+t.text+"</a>"})).join("");function s(n){var i=o.find(".js-formult-item[data-id="+n+"]"),a=function(t){if(!e[t]){var n={1:40,2:33,3:21,4:21,5:12}[t],i=[];r.forCount(n,(function(e){i.push('<li data-type="'+t+'" data-index="'+e+'"><i class="icon-latex-symbol'+t+"-"+(e+1)+'"></i></li>')})),e[t]=i.join("")}return e[t]}(n);o.find(".js-formult-item").removeClass("selected"),i.addClass("selected"),t.formult.list.html(a)}o.html(a),t.formult.el.prepend(o),s(n[0].value),o.on("click",".js-formult-item",(function(t){var e=i(t.currentTarget);s(i.trim(e.attr("data-id")))}))},refreshLatexContent:function(){var t=this.latex.preview,e=this._lastLatexVal,n=this.valLatexText();if(this._lastLatexVal=n,n){if(n!==e){var i=this.valLatexHtml(!0);t.html('<div style="text-align:left;">'+i+"</div>")}}else t.html("预览")},refreshFormultImage:function(){var t=this,e=t.formult.preview,n=(t.formult.ipt,t.valText()),r=t.valSrc(!0);if(r){var o=document.createElement("img");o.onload=function(){if(t.valText()===n){var i=e.find("img");i.get(0)&&i.replaceWith(o),!i.get(0)&&e.html(o)}},o.onerror=function(){t.valText()===n&&e.html("加载出错，请重试")},i(o).attr("src",r).attr("alt",n)}else e.html("预览")},valType:function(){this.rawConfig;return this.useLaTex&&this.tabType?this.tabType.val():"1"},valLatexText:function(t){var e=this,n=e.latex.ipt;if(0===arguments.length)return i.trim(n.val());n.val(i.trim(t)),e.refreshLatexContent()},valLatexHtml:function(t){var e=this;return e.valLatexText().replace(f,(function(n,i,r){var o=e.fixTex(i||r),a=o.content;return o.isTex?'<img src="'+e.getSrc(a,t)+'" alt="'+a+'" />':a})).replace(/\n/g,"<br />")},valText:function(t){var e=this,n=e.formult.ipt;if(0===arguments.length)return i.trim(n.val());n.val(i.trim(t)),e.refreshFormultImage()},valSrc:function(t){return this.getSrc(this.valText(),t)},submit:function(){var t=this,e=t.rawConfig;if("1"===t.valType()){var n=t.valSrc(),i=t.valText();return!n&&s.alert("公式不能为空"),!n||(e.upload&&e.upload.call(t,i,n,(function(){t.popup.close()})),!e.upload&&e.call&&e.call.call(t,i,n),!!e.upload)}if(!(i=t.valLatexText()))return s.alert("内容不能为空"),!0;if(e.uploadBatch){var o=[],a=[];if(i.replace(f,(function(e,n,i){var r=t.fixTex(n||i),s=r.content;r.isTex&&(s&&o.push(s),s&&a.push(t.getSrc(s)))})),o=r.uniq(o),a=r.uniq(a),o.length>0)return e.uploadBatch.call(t,o,a,(function(n){var r=i.replace(f,(function(e,i,r){var o=t.fixTex(i||r),a=o.content;return o.isTex?'<img src="'+(n[a]||t.getSrc(a))+'" alt="'+a+'" />':a})).replace(/\n/g,"<br />");e.callLaTex&&e.callLaTex(r),t.popup.close()})),!0}e.callLaTex&&e.callLaTex(t.valLatexHtml())},getSrc:function(t,e){var n=this.rawConfig;return(t=i.trim(t))?n.isMeetcode?"https://www.meetcode.com/equation?tex="+window.encodeURIComponent(t)+(e?"&preview=true":""):"https://www.nowcoder.com/equation?tex="+window.encodeURIComponent(t)+(e?"&preview=true":""):""},fixTex:function(t){var e=t=i.trim(t);!1;var n=this.isRightTex(e);return{isTex:n,content:n?t:e.replace(/\\\{/gi,"{").replace(/\\\}/gi,"}")}},isRightTex:function(t){return t&&/\\|_|\^|\{|\}/.test(t.replace(/\\\{/gi,"").replace(/\\\}/gi,""))},showLoad:function(){return new s({hasNoTitle:!0,hasNoFooter:!0,noUnique:!0,content:'<div style="font-size:14px;text-align:center;">图片上传中...</div>'})}})},675:function(t,e,n){var i=n(2),r=n(7),o=n(153),a=n(4),s=n(15),c=(n(1),n(3)),l=n(39),u=t.exports=a.create();a.mix(u,r,{_template:['<div class="change-pop clearfix">','<div class="avarta-box">','<div style="position:relative;width:100%;height:100%;overflow:hidden" class="avatar-container">头像加载中</div>',"</div>",'<div class="mini-big clearfix">','<span class="mini-ico"></span>','<div class="js-slider ui-slider ui-slider-horizontal ui-widget ui-widget-content ui-corner-all" aria-disabled="false">','<div class="ui-slider-segment" style="margin-left: 25%;"></div>','<div class="ui-slider-segment" style="margin-left: 25%;"></div>','<div class="ui-slider-segment" style="margin-left: 25%;"></div>','<div class="ui-slider-segment"></div>','<div class="ui-slider-segment"></div>','<div class="ui-slider-segment"></div>','<div class="ui-slider-range ui-widget-header ui-corner-all ui-slider-range-min js-bar" style="width: 0;"></div>','<a class="ui-slider-handle ui-state-default ui-corner-all js-drag" href="javascript:void(0);" style="left: 0;"></a>',"</div>",'<span class="big-ico"></span>',"</div>",'<div class="submit-btnbox">','<a class="btn btn-default cancle-btn" href="javascript:void(0);">取消</a>','<a class="btn btn-primary confirm-btn" href="javascript:void(0);">保存</a>',"</div>","</div>"].join(""),listeners:[{name:"render",type:"custom",handler:function(){var t=this,e=t.info,n=t.rawConfig,r=t.getEl(),o=r.find("div.avatar-container"),a=document.createElement("IMG");t.dragEl=r.find(".js-drag"),t.barEl=r.find(".js-bar"),e.bar.width=r.find(".js-slider").width(),a.onload=function(){t.avatarLoaded=!0,e.avatar.width=this.width,e.avatar.height=this.height,t.fixInfo(),t.fixPosition(),o.html("").append(a),t.fire("setScale"),t.fire("setDrag")},a.onerror=function(){alert("头像加载出错，请重试"),t.popup.close()},a.src=n.src,t.avatarEl=a=i(a).css({position:"absolute",left:0,top:0})}},{name:"click a.cancle-btn",type:"bind",handler:function(){this.popup.close()}},{name:"click a.confirm-btn",type:"bind",handler:function(){var t=this,e=t.rawConfig;if(t.avatarLoaded){if(!t.avatarSaving){t.avatarSaving=!0;var n=t.getResult();n.source=e.src,s.out(n),l.saveHead({body:n,call:function(n){e.call&&e.call(n),t.popup.close()},error:function(){alert("头像保存失败"),t.avatarSaving=!1}})}}else alert("请等待头像加载完成")}},{name:"setScale",type:"custom",handler:function(){var t=this,e=t.info;if(t.avatarLoaded&&!t.setScaled){t.setScaled=!0;var n=t.getEl();n.find(".js-drag"),n.find(".js-bar");t.scaleDrag=new o({drag:t.dragEl,listeners:[{name:"drag",handler:function(){var n=this._left=e.bar.left+this._moveX-this._downX;n>e.bar.width?n=e.bar.width:n<=0&&(n=0),t.dragEl.css({left:n}),t.barEl.width(n),e.scale=n/e.bar.width,t.fixPosition()}},{name:"drop",handler:function(){e.bar.left=this._left}}]})}}},{name:"setDrag",type:"custom",handler:function(){var t=this,e=t.info;if(t.avatarLoaded&&!t.setDraged){t.setDraged=!0;var n=t.avatarEl;t.dragdrop=new o({drag:n,listeners:[{name:"start",handler:function(){var t=1+e.scale;this._avatarWidth=e.min.width*t,this._avatarHeight=e.min.height*t}},{name:"drag",handler:function(){var t=this._avatarWidth,i=this._avatarHeight,r=e.position.left+this._moveX-this._downX,o=e.position.top+this._moveY-this._downY;r+t<e.dialog.width&&(r=e.dialog.width-t),r>0&&(r=0),o+i<e.dialog.height&&(o=e.dialog.height-i),o>0&&(o=0),n.css({left:r,top:o}),this._avatarLeft=r,this._avatarTop=o}},{name:"drop",handler:function(){e.position.left=this._avatarLeft,e.position.top=this._avatarTop,e.center.left=t.getCenter(this._avatarLeft,this._avatarWidth),e.center.top=t.getCenter(this._avatarTop,this._avatarHeight)}}]})}}}],show:function(t){var e=new u(t);c.wrap(e,{title:"修改头像",content:e.html(),width:390,listeners:{close:function(){try{t.close&&t.close(),e.fire("close")}catch(n){s.out(n)}},destroy:function(){e.scaleDrag=null,e.dragdrop=null,e.info=null}}});return e}},{initialize:function(t){this.info={scale:0,dialog:{width:300,height:300},avatar:{width:0,height:0},center:{left:0,top:0},position:{left:0,top:0},bar:{left:0,width:0}}},fixInfo:function(){var t=this.info;if(!this.avatarLoaded)return;var e=t.avatar.width,n=t.avatar.height,i=t.dialog.width,r=t.dialog.height,o={},a={};"width"==(e/i<n/r?"width":"height")?(o.width=i,o.height=o.width*n/e):(o.height=r,o.width=o.height*e/n);a.width=2*o.width,a.height=2*o.height,t.min=o,t.max=a,t.position.left=(t.dialog.width-o.width)/2,t.position.top=(t.dialog.height-o.height)/2,t.center.left=this.getCenter(t.position.left,o.width),t.center.top=this.getCenter(t.position.top,o.height)},fixPosition:function(){if(!this.avatarLoaded)return;var t=this.info,e=1+t.scale,n=t.min.width*e,i=t.min.height*e,r=t.dialog.width/2-t.center.left*n,o=t.dialog.height/2-t.center.top*i;r+n<t.dialog.width&&(r=t.dialog.width-n,t.center.left=this.getCenter(r,n));r>0&&(r=0,t.center.left=this.getCenter(r,n));o+i<t.dialog.height&&(o=t.dialog.height-i,t.center.top=this.getCenter(o,i));o>0&&(o=0,t.center.top=this.getCenter(o,i));this.avatarEl.css({left:r,top:o,width:n,height:i}),t.position.left=r,t.position.top=o},getCenter:function(t,e){if(!this.avatarLoaded)return;return(this.info.dialog.width/2-t)/e},getResult:function(){var t=this.info;return{scale:(1+t.scale)*t.min.width/t.avatar.width,x:-t.position.left,y:-t.position.top,width:t.dialog.width,height:t.dialog.height}}})},676:function(t,e,n){var i=n(230),r=n(2),o=n(1),a=n(4),s=n(53),c=n(12),l=n(39),u=t.exports=a.create();o.extend(u.prototype,s,{initialize:function(t){var e=this;e.netease=!!window.useNeteaseCaptcha,e.errorCount=0,e.cbName="ncGt"+(new Date).getTime()+o.ascId(),e.initEvent(),e.getData({type:t.type,call:function(n){e[e.netease?"initNetease":"initGt"](t,n)}})},initEvent:function(){var t=this;t.gt=null,t.listen("getGtCode",(function(e){t.gt=e}))},initGt:function(t,e){var n=this,r=n.cbName;window[r]=null,i.js("//api.geetest.com/getfrontlib.php?callback="+r+"&gt="+e.captchaId),window[r]=function(){window[r]=null;var i=new window.Geetest({gt:e.captchaId,challenge:e.challenge,product:t.product||"float",offline:!e.success}),o=n.getElId(t,r);o&&i.appendTo("#"+o),n.fire("getGtCode",i)}},initNetease:function(t,e){var n=this,r=n.cbName;i.js("//cstaticdun.126.net/load.min.js",(function(){c.waitUtil({times:250,condition:function(){return!!window.initNECaptcha},call:function(){var i=n.getElId(t,r),o=t.product||"float";i&&window.initNECaptcha({captchaId:e.captchaId,element:"#"+i,mode:o,width:260,onVerify:function(t,e){!t&&e&&(n.neteaseValidateResult=e.validate)}},(function(t){n.fire("getGtCode",t)}),(function(t){n.fire("getGtCodeError",t)}))}})}))},check:function(){var t=this.gt;if(this.netease){var e=this.neteaseValidateResult||(t&&t.getValidate?t.getValidate():null);return e?{netease_validate:e}:null}return t?t.getValidate():null},refresh:function(){try{this.gt&&this.gt.refresh&&this.gt.refresh()}catch(t){}},getData:function(t){var e=this,n=!!e.netease;l.getGtData({query:{t:(new Date).getTime(),source:n?"netease":"gt"},params:{type:t.type},call:function(n){e.errorCount=0,t.call&&t.call(n.data)},error:function(){if(e.errorCount++,e.errorCount<5)return window.setTimeout(o.bind(e.getData,e,t.call),250);e.errorCount=0}})},getElId:function(t,e){var n=r(t.el),i=n.get(0);if(i&&(!document.contains||document.contains(i))){return!n.attr("id")&&n.attr("id",e),n.attr("id")}}})},677:function(t,e,n){var i=n(14),r=n(218),o=n(10),a=n(2),s=n(7),c=n(4),l=n(1),u=n(45),d=n(8),f=n(9),p=n(12),h=n(29),g=n(122),v=n(314),m=n(136),w=n(3),y=n(197),b=n(39),x=n(543),C=n(297),k=n(600)["default"],S=n(1547)["default"],E=t.exports=c.create();function _(t){var e=this;if(e.tempJquery)return t&&t(e.tempJquery);var n=b.codeSubmitUrl();y.create(n,(function(n){e.tempJquery=n,t&&t(n)}))}c.mix(E,s,{_template:'\n    <div class="subject-eidt-box" style="position:relative;">\n        <div class="subject-eidt-header">\n            <span class="js-mode-tips" style="display:none;"></span>\n            <a href="javascript:void(0);" class="ico-fresh js-fresh-code" title="还原模板代码">重置</a>\n            <a href="javascript:void(0);" class="ico-computer js-self-test" title="代码自测">自测</a>\n            <div class="subject-edit-oprt js-head-tool">\n                <a href="javascript:void(0);" class="icon-fullscreen js-full-screen"></a>\n            </div>\n        </div>\n        <div class="js-editor-body code-font"></div>\n    </div>\n    ',listeners:[{name:"render",type:"custom",handler:function(){var t=this,e=t.rawConfig,n=t.getEl();e.noRefresh&&n.find(".js-fresh-code").remove(),!e.supportSelfTest&&n.find(".js-self-test").remove(),e.selfTestWarning=e.selfTestWarning||"注意：自测用例通过仅代表自测时使用的数据通过，不代表题目的测试用例均能通过。",t.initCMPlugin((function(){t.headerEl=n.find("div.subject-eidt-header"),t.editorEl=n.find("div.js-editor-body"),t.initHeader(),t.initEditor(),t.originalHeight=n.height(),t.toolbarHeight=n.find("div.subject-eidt-header").outerHeight(),(e.width||e.height)&&t.resize(e.width,e.height),t.initAutoSize(),t.initPlugin((function(){t.initEvent(),t.execPlugin("cache","initCacheCode")}))}))}},{name:"click a.js-full-screen",handler:function(){var t=this.rawConfig,e=l.isFunction(t.goFullScreen);e&&t.goFullScreen.call(this),!e&&this.goFullScreen()}},{name:"click a.js-fresh-code",handler:function(){var t=this;t.rawConfig.noRefresh||w.confirm(l.lang("刷新后代码框将重置为初始状态，正在编辑的代码将清空，但不会影响已提交的代码，确定刷新吗？"),(function(){return t.execPlugin("cache","restoreTpl")}))}},{name:"click div.js-editor-mask",handler:function(){var t=this.rawConfig;this._disabled&&t.clickMask&&t.clickMask.call(this)}}],initShowDiff:function(){var t=this;setTimeout((function(){if(!window.__ncInitShowDiff){window.__ncInitShowDiff=!0;var e=new v;a(document).on("click",".js-show-submission-diff",(function(n){var i=a(n.currentTarget),r=a.trim(i.attr("data-submission")),o=a.trim(i.attr("data-url")),s="1"===a.trim(i.attr("data-self-test"));r&&(h.mark(i)||t.getJquery((function(t){e.getSubmissionDiff({$:t,urlGetSubmissionDiff:o||b.codeGetSubmissionDiffUrl(),submissionId:r,tagId:s?9:0,call:function(t){return t.data?k.show({propsData:{content:t.data,isSelfTest:s}}):w.tips("恭喜你，实际输出和预期输出是一致的 🎉")},error:function(t){return w.alert(t.msg)},always:function(){return h.clear(i)}})})))}))}}),250)},loadDep:function(t){r.codemirror({call:function(){return t&&t()}})},saveLastLangue:function(t){var e=window.localStorage,n=u.create("codeEditorCache");t&&n.set("NC_Code_Langue",t),t&&e&&e.removeItem&&e.removeItem("NC_Code_Langue")},getLastLangue:function(){var t=window.localStorage,e=u.create("codeEditorCache").get("NC_Code_Langue");!e&&t&&(e=t.NC_Code_Langue,this.saveLastLangue(e));return e},getJquery:_},{initialize:function(t){this.codeSubmit=new v,this.isJudgeVoj=!!t.isJudgeVoj,this._disabled=!1,this._createdQueue=[]},initCMPlugin:function(t){t&&t()},initHeader:function(){var t=this,e=t.rawConfig,n=e.options,i=-1;l.forEach(n,(function(e,n){i=e.checked&&i<0?n:i,e.text=e.name||g.getNameById(t.isJudgeVoj?e.ncValue:e.value)||"",e.value=f.trim(e.value)})),n[Math.min(Math.max(0,i),n.length-1)].checked=!0,t.langueSelect=new C({options:n,renderTo:t.headerEl,renderBy:"prepend",change:function(){var e=t.valLangue();E.saveLastLangue(e);var i=t.isJudgeVoj?l.find(n,(function(t){return t.value===e})):null,r=g.getCMById(t.isJudgeVoj?i.ncValue:e);r&&t.editor.setOption("mode",{name:r.name}),t.execPlugin("cache","restoreCode"),t.fire("langueChange")}});var r=l.id(e.judgeType);new(o.extend(S))({el:t.headerEl.find(".js-mode-tips").get(0),propsData:{isNeed:!e.noShowModeTips,judgeType:r,showDbKey:e.modeTipsShowDbKey}})},initEditor:function(){var t=this,e=t.rawConfig,n=u.create("codeEditorCache"),i=l.extend({theme:"monokai",indentUnit:r(),lineNumbers:!0,showInvisibles:!0,mode:"text/x-csrc",matchBrackets:!0,autoCloseBrackets:!0,hintOptions:{completeSingle:!1,closeOnUnfocus:!0},extraKeys:{Tab:function(t){var e=t.somethingSelected();e&&t.indentSelection("add"),!e&&t.replaceSelection(new Array(r()+1).join(" "),"end","+input")},"Ctrl-S":function(){return t.fire("pressCtrlS")},"Cmd-S":function(){return t.fire("pressCtrlS")}}},e.codeMirrorConf);function r(){return{2:2,4:4,8:8}[n.get("settingSpaceCount")]||4}t.editor=CodeMirror(t.editorEl.get(0),i),!!e.readOnly&&t.disable(),l.forEach(t._createdQueue,(function(e){return e&&e.call(t)})),t._createdQueue.length=0},initPlugin:function(t){var e=this,i=e.rawConfig,r="lsp"===i.codeHint,o=[{name:"cache",plugin:n(686)},{name:"hint",plugin:n(687)},{name:"codeHint",plugin:x},{name:"setting",plugin:n(688)},{name:"selfTest",plugin:n(689)}],a=e.plugin={};l.forEach(o,(function(t){var n=t.plugin,o=t.name;if("codeHint"===o){if(!r)return;a[o]=new n({parent:e,editor:e.editor,wsUrl:i.codeHintWsUrl,lspMode:i.codeHintLspMode})}else{if("hint"===o&&r)return;a[o]=new n({parent:e,editor:e.editor})}})),t&&t()},initEvent:function(){var t=this,e=t.rawConfig,n=t.getEl(),i=t.editor;i.on("changes",(function(){return t.fire("codeChange")})),i.on("cursorActivity",(function(){t._disabled&&(window.setTimeout((function(){return n.find(".CodeMirror-cursor").hide()}),0),e.clickMask&&e.clickMask())}))},initAutoSize:function(){var t=this;if(t.rawConfig.noAutoSize)return;t.editor.on("changes",(function(){return t.autoSize()})),t.autoSize()},disable:function(t){if((t=!1!==t)!==this._disabled){this.getEl().find(".CodeMirror-cursor")[t?"hide":"show"](),this._disabled=t,this.editor.setOption("readOnly",t),this.langueSelect.disabled(t)}},val:function(t,e){var n=this;if(arguments.length<2)return;n.valLangue(t),n.valCode(e)},valCode:function(t){var e=this;if(0===arguments.length)return(e.editor.getValue()||"").replace(/ /gi," ");e.editor.setValue(t||"")},valLangue:function(t,e){var n=this;if(0===arguments.length)return n.langueSelect.val();(t=f.trim(t))&&n.langueSelect.val(t,e)},resize:function(t,e,n){var i=this;i.waitCreated((function(){var r=i.getEl();t&&r.outerWidth(t),e?(e=parseInt(e,10),r.outerHeight(e),!n&&(i.originalHeight=r.height())):e=r.outerHeight();var o=i.toolbarHeight=r.find("div.subject-eidt-header").outerHeight();i.editor.setSize("100%",e-o),i.autoSize(),i.fire("resize")}))},autoSize:function(){if(!this.rawConfig.noAutoSize&&!this.isFullScreen)try{this._editorScrollEl=this._editorScrollEl||a(this.editor.getScrollerElement()),this._editorSizerEl=this._editorScrollEl.find("div.CodeMirror-sizer");var t=window.parseInt(this._editorSizerEl.css("min-height")||this._editorSizerEl.height(),10);this.editor.setSize("100%",Math.max(this.originalHeight-this.toolbarHeight,t)),this.getEl().height("auto")}catch(e){}},goFullScreen:function(){var t=this,e=t.rawConfig,n=t.getEl(),i=a(window);if(d.cls(n.find(".js-full-screen"),{"icon-fullscreen":t.isFullScreen,"icon-resize-small":!t.isFullScreen}),t.isFullScreen)return t.isFullScreen=!1,e.renderTo.append(n),t.layer.hide(),t.resize(e.width,t.originalHeight,!0),void t.fire("fullScreen",!1);t.isFullScreen=!0,t.layer=new m({showContent:!0,clickToHide:!1,listeners:{render:function(){this.contentEl.addClass("nk-body"),this.append(n),t.resize("100%",i.height(),!0)},winresize:function(){t.resize("100%",i.height(),!0)}}}),t.fire("fullScreen",!0)},getLangueData:function(t){var e=this.rawConfig,n=l.toMap(e.options,(function(t){return{key:t.value,value:t}}));return t?n[t]:n},checkCode:function(t,e){var n=this.rawConfig,i=this.valLangue(),r=this.valCode(),o=a.trim(r)?r.length>1e5?"你的代码过长，不能超过10000个字符":i?"":"错误的代码语言":"代码不能为空";if(o)return y(o);if(this.isJudgeVoj)return t&&t(!0);if("1"===i||"2"===i||"22"===i){if(/%I64/.test(r)&&!/%ll/.test(r)){if(e)return;var s=w.confirm("在提交的代码中发现%I64，牛客OJ后台是Linux系统，64位long long请使用%lld，unsigned long long请使用 %llu",l.bind(t,null,!1),l.bind(t,null,!0));return s.okBtn.html("返回修改"),void s.cancelBtn.html("强制提交")}}else if("4"===i){for(var c=!this.getLangueData()[i].tplCode||!!n.forceCheckJavaTpl,u=a.trim(r).split("\n"),d=!1,f=!1,p=0,h=u.length;p<h;p++){var g=u[p];if(!d){var v=g.split("//")[0]||"";if(/\bpackage\b/.test(v))return y("请删除代码开头的package信息")}var m=/public\s+class\s+(\w+)/.exec(g);if(m&&!f&&(d=!0,!(f="Main"===m[1])&&c))return y("请修改类名为Main")}if(!d&&c)return y("找不到类名，请修改类名为Main")}function y(n){!e&&w.alert(n),t&&t(!1)}t&&t(!0)},runCode:function(t){var e=!!(t=t||{}).isQuiet,n=this,r=n.execPlugin("selfTest","val")||{},o=!!r.inTest;function a(t){var a,s=n.rawConfig,c=s.runCode||{},u=!!c.questionId,d=(a={pid:c.pid,tid:c.tid,qid:c.qid,questionId:c.questionId||c.qid,tagId:c.tagId,subTagId:c.subTagId,content:n.valCode()},i(a,n.isJudgeVoj?"vojLanguage":"language",n.valLangue()),i(a,"languageName",n.langueSelect.text()),a);if(o){l.extend(d,{input:r.input,output:r.output,selfType:s.selfTestType||9});var h=(r.input||"").length,g=(r.output||"").length,v=h>2048,m=g>2048;if(!h&&!g)return w.alert("自测数据输入输出均不能为空");if(!h)return w.alert("自测输入数据不能为空");if(!g)return w.alert("自测输出数据不能为空");if(v||m)return w.alert("输入长度"+h)}var y=s.getUrlSubmitCode?s.getUrlSubmitCode(u,o):"",x=s.getUrlGetCodeStatus?s.getUrlGetCodeStatus(u,o):"";n.codeSubmit[o?"submitDiyCode":u?"submitSelfCode":"submitTestCode"]({$:t,urlSubmitCode:y||b[o?"codeSelfTestUrl":u?"codeSubmitUrl":"codeRunUrl"](),urlGetCodeStatus:x||b[o?"codeSelfTestStatusUrl":"codeStatusUrl"](),data:d,maxStatusDelay:s.maxStatusDelay,extCodeParam:s[o?"selfTestRunExtParam":"runExtParam"],extStatusParam:s.statusExtParam,feedback:function(t,e,i){i=i||{},t=t.replace(/^\n+|\n+$/gi,"");var r=i.submissionId;if(o&&(t=f.encodeHTML(t.replace(/所有的?测试用例/gi,"你的自测数据"))),!0===e&&r&&(o&&!s.noSelfTestDiff||s.needShowDiff)){var a=t.split("\n");a[o||a.length<=1?0:1]+='<a class="link-green ml1 js-show-submission-diff" href="javascript:void(0);" data-submission="'.concat(r,'" data-self-test="').concat(o?1:0,'" data-url="').concat(s.showDiffUrl||"",'">')+"点击对比用例标准输出与你的输出</a>",t=a.join("\n")}o&&(t=t.replace(/\n/g,"<br />"),!1===e&&(t+='\n<span style="color:#ff6547">'+s.selfTestWarning+"</span>")),n.showResult(t,e,o,i)},cbGetCaptcha:function(t){!e&&new w({noUnique:!0,hasNoTitle:!0,hasNoMove:!0,hasNoFooter:!0,clickToHide:!1,width:500,content:'\n                    <div style="font-size:16px;text-align:center;padding:20px;">\n                        <img src="//static.nowcoder.com/fe/style/images/common/res/tips/13.png" style="display:block;width:80px;height:80px;margin:0 auto;">\n                        <div style="margin-top:20px;">亲你点太快了，请<span class="js-code-count-down">3</span>s后再提交。</div>\n                    </div>',render:function(){var t=this;p.countDown({second:3,call:function(e){return t.getEl(".js-code-count-down").html(e)},end:function(){return t.close()}})},close:function(){return t&&t({})}})},cbGetCaptchaError:function(){n.fire("runCodeError")},cbSubmitCodeBefore:function(){n.fire("beforeRunCode")},cbSubmitCodeComplete:function(t){t&&(t.isSelfTest=o),n.fire("runCodeSubmit",t)},cbSubmitCodeError:function(t){t&&(t.isSelfTest=o),n.fire("runCodeError",t)},cbStatusCodeBefore:function(){n.fire("beforeReqStatus")},cbStatusCodeSuccess:function(t){t&&(t.isSelfTest=o),!o&&n.fire("runCodeSuccess",t),n.fire("runCodeFinish",t)},cbStatusCodeFail:function(t){t&&(t.isSelfTest=o),n.fire("runCodeDanger",t),n.fire("runCodeFinish",t)},cbStatusCodeError:function(t){t&&(t.isSelfTest=o),n.fire("runCodeError",t)}})}n.checkCode((function(t){if(t)return n.getJquery(a);n.fire("runCodeError",{code:-1,msg:"代码不符合规范",isSelfTest:o})}),e)},showResult:function(t,e){var n=this.rawConfig.tipEl;if(a.trim(t))return n.removeClass(e?"alert-info":"alert-danger").addClass(e?"alert-danger":"alert-info"),n.html(t.replace(/\n/g,"<br />")).show(),void n.parent().show();n.html("").hide()},isCodeEdit:function(){var t=this.valCode(),e=this.valLangue(),n=(this.getLangueData()[e]||{}).tplCode||"";return t!==n},waitCreated:function(t){if(this.editor)return t&&t.call(this);this._createdQueue.push(t)},exactHeight:function(){return this._editorScrollEl=this._editorScrollEl||a(this.editor.getScrollerElement()),this._editorSizerEl=this._editorScrollEl.find("div.CodeMirror-sizer"),window.parseInt(this._editorSizerEl.css("min-height")||this._editorSizerEl.height(),10)+(this.toolbarHeight||0)},execPlugin:function(t,e){var n=this,i=(n.plugin||{})[t],r=[].slice.call(arguments,2);if(i&&i[e])return i[e].apply(i,r)},getJquery:_}),E.initShowDiff()},678:function(t,e){t.exports={1:["#include <stdio.h>","","int main() {","   int a, b;",'   while (scanf("%d %d", &a, &b) != EOF) { // 注意 while 处理多个 case','       // 64 位输出请用 printf("%lld")','       printf("%d\\n", a + b);',"   }","   return 0;","}"].join("\n"),2:["#include <iostream>","using namespace std;","","int main() {","    int a, b;","    while (cin >> a >> b) { // 注意 while 处理多个 case",'        // 64 位输出请用 printf("%lld")',"        cout << a + b << endl;","   }","}"].join("\n"),3:["var a, b : integer;","begin","    while not eof do","    begin","        readln(a, b);","        writeln(a + b);","    end;","end."].join("\n"),4:["import java.util.Scanner;","","// 注意类名必须为 Main, 不要有任何 package xxx 信息","public class Main {","    public static void main(String[] args) {","        Scanner in = new Scanner(System.in);","        // 注意 hasNext 和 hasNextLine 的区别","        while (in.hasNextInt()) { // 注意 while 处理多个 case","            int a = in.nextInt();","            int b = in.nextInt();","            System.out.println(a + b);","        }","    }","}"].join("\n"),5:["import sys","","try:","    while True:","        line = sys.stdin.readline().strip()","        if line == '':","            break","        lines = line.split()","        print int(lines[0]) + int(lines[1])","except:","    pass"].join("\n"),8:["<?php",'while(fscanf(STDIN, "%d %d", $a, $b) == 2)','    echo ($a + $b)."\\n";'].join("\n"),9:["public class Program {","    public static void Main() {","        string line;","        while ((line = System.Console.ReadLine ()) != null) { // 注意 while 处理多个 case","            string[] tokens = line.Split();","            System.Console.WriteLine(int.Parse(tokens[0]) + int.Parse(tokens[1]));","        }","    }","}"].join("\n"),10:["#import <Foundation/Foundation.h>","","int main(int argc, char * argv[])","{","    NSAutoreleasePool *pool = [[NSAutoreleasePool alloc] init];","    int a, b;",'    while(scanf("%d %d", &a, &b) != EOF) {','        printf("%d\\n", a + b);',"    }","    [pool drain];","    return 0;","}"].join("\n"),11:["import sys","","for line in sys.stdin:","    a = line.split()","    print(int(a[0]) + int(a[1]))"].join("\n"),13:["const readline = require('readline');","","const rl = readline.createInterface({","    input: process.stdin,","    output: process.stdout","});","rl.on('line', function (line) {","    const tokens = line.split(' ');","    console.log(parseInt(tokens[0]) + parseInt(tokens[1]));","});"].join("\n"),14:["while (line = readline()) {","    var lines = line.split(' ');","    var a = parseInt(lines[0]);","    var b = parseInt(lines[1]);","    print(a + b);","}"].join("\n"),16:['lines = readLines("stdin")',"for (l in lines) {",'    if (l == "") {',"        break;","    }",'    ll = strsplit(l, " ")[[1]]',"    a = ll[1];","    b = ll[2];","    cat(as.numeric(a) + as.numeric(b));","    cat('\\n');","}"].join("\n"),17:["package main","","import (",'    "fmt"',")","","func main() {","    a := 0","    b := 0","    for {","        n, _ := fmt.Scan(&a, &b)","        if n == 0 {","            break","        } else {",'            fmt.Printf("%d\\n", a + b)',"        }","    }","}"].join("\n"),19:["while (line = STDIN.gets)",'    a, b = line.split(" ").map { |x| x.to_i }',"    puts (a + b)","end"].join("\n"),20:["import Foundation","","while let line = readLine() {",'    let parts = line.split(separator: " ")',"    print(Int(parts[0])! + Int(parts[1])!)","}"].join("\n"),21:["try","    while 1","        line = input('', 's');","        lines = strsplit(line);",'        printf("%d\\n", str2num(lines{1}) + str2num(lines{2}));',"    end","catch","end","% 如果使用函数的话，请参考以下格式：","function add()","   try","       while 1","           line = input('', 's');","           lines = strsplit(line);",'           printf("%d\\n", str2num(lines{1}) + str2num(lines{2}));',"       end","   catch","   end","end","","add()"].join("\n"),23:["#!/bin/bash","","read -a arr","while [ ${#arr[@]} -eq 2 ]","    do","        sum=$((${arr[0]} + ${arr[1]}))","        echo $sum","        read -a arr","    done","exit 0"].join("\n"),27:["use std::io::{self, *};","","fn main() {","    let stdin = io::stdin();","    unsafe {","        for line in stdin.lock().lines() {","            let ll = line.unwrap();",'            let numbers: Vec<&str> = ll.split(" ").collect();',"            let a = numbers[0].trim().parse::<i32>().unwrap_or(0);","            let b = numbers[1].trim().parse::<i32>().unwrap_or(0);",'            print!("{}\\n", a + b);',"        }","    }","}"].join("\n"),28:["import scala.io._","import java.io._","import scala.collection.JavaConversions._","","object Main {","    def main(args :Array[String]): Unit = {","        val outCapture = new ByteArrayOutputStream","        val stdout = System.out","        try {","            var line: String = null","            while ({line = StdIn.readLine(); line != null}) {","                val result = line.split(' ')","                var a = result(0).toInt","                var b = result(1).toInt","                println(a + b)","            }","        } catch {","            case e: Exception => {","                System.setOut(stdout)","                e.printStackTrace","            }","        }","    }","}"].join("\n"),29:["import java.util.Scanner","","fun main(args: Array<String>) {","    val read = Scanner(System.`in`)","    while(read.hasNextInt()) {","        var a = read.nextInt()","        var b = read.nextInt()","        println(a + b)","    }","}"].join("\n"),30:["import java.util.Scanner;","","public class Main {","    public static void main(String[] args) {","        Scanner in = new Scanner(System.in);","        while (in.hasNextInt()) {","            int a = in.nextInt();","            int b = in.nextInt();","            System.out.println(a + b);","        }","    }","}"].join("\n")}},679:function(t,e,n){t.exports=n(28)(10)},680:function(t,e,n){"use strict";n.r(e),e["default"]={hintMap:{1:1,2:1,22:1,4:1,17:1,5:1,11:1,24:1,25:1,13:1,14:1,9:1,8:1,20:1,15:1}}},681:function(t,e,n){"use strict";n.r(e);var i=n(64),r=n.n(i),o=n(1),a=["eval","parseInt","parseFloat","isNaN","isFinite","decodeURI","decodeURIComponent","encodeURI","encodeURIComponent","escape","unescape","NaN","Infinity","Object","Function","String","Boolean","Number","Math","Date","RegExp","Error","JSON","Array","ArrayBuffer","DataView","Int8Array","Uint8Array","Uint8ClampedArray","Int16Array","Uint16Array","Int32Array","Uint32Array","Float32Array","Float64Array","Intl","alert","blur","cancelAnimationFrame","captureEvents","close","confirm","createImageBitmap","departFocus","focus","getComputedStyle","getMatchedCSSRules","getSelection","matchMedia","moveBy","moveTo","msWriteProfilerMark","open","postMessage","print","prompt","releaseEvents","requestAnimationFrame","resizeBy","resizeTo","scroll","scrollBy","scrollTo","stop","webkitCancelAnimationFrame","webkitConvertPointFromNodeToPage","webkitConvertPointFromPageToNode","webkitRequestAnimationFrame","toString","dispatchEvent","clearInterval","clearTimeout","setInterval","setTimeout","clearImmediate","setImmediate","atob","btoa","fetch","addEventListener","removeEventListener","undefined","break","case","catch","class","const","continue","debugger","default","delete","do","else","enum","export","extends","false","finally","for","function","if","import","in","instanceof","new","null","return","super","switch","this","throw","true","try","typeof","var","void","while","with","implements","interface","let","package","private","protected","public","static","yield","abstract","as","any","async","await","boolean","constructor","declare","get","infer","is","keyof","module","namespace","never","readonly","require","number","object","set","string","symbol","type","unique","unknown","from","global","of"],s=["alter","and","as","asc","between","by","count","create","delete","desc","distinct","drop","from","group","having","in","insert","into","is","join","like","not","on","or","order","select","set","table","union","update","values","where","limit","abort","action","add","after","all","analyze","attach","autoincrement","before","begin","cascade","case","cast","check","collate","column","commit","conflict","constraint","cross","current_date","current_time","current_timestamp","database","default","deferrable","deferred","detach","each","else","end","escape","except","exclusive","exists","explain","fail","for","foreign","full","glob","if","ignore","immediate","index","indexed","initially","inner","instead","intersect","isnull","key","left","limit","match","natural","no","notnull","null","of","offset","outer","plan","pragma","primary","query","raise","recursive","references","regexp","reindex","release","rename","replace","restrict","right","rollback","row","savepoint","temp","temporary","then","to","transaction","trigger","unique","using","vacuum","view","virtual","when","with","without"];e["default"]={1:["auto","short","int","long","float","double","char","struct","union","enum","typedef","const","unsigned","signed","extern","register","static","volatile","void","if","else","switch","for","do","while","goto","continue","break","default","sizeof","return"],2:["main","endl","alignas","and","asm","auto","bitset","bool","break","case","catch","char","char16_t","char32_t","class","clock","const","const_cast","constexpr","continue","decltype","default","delete","deque","div","do","double","dynamic_cast","else","enum","existing-type","explicit","export","extern ","false","float","for","friend","goto","hash","if","inline","int","__int128_t","log","long","long long","lower_bound","map","max","min","multiset","mutable","namespace","new","new-type","next_permutation","noexcept","not","nullptr","operator","or","prev_permutation","priority_queue","private","protected","public","queue","rand","random_shuffle","register","reinterpret_cast","return","reverse","set","short","shuffle","signed","sizeof","sort","sqrt","stack","static","static_assert","static_cast","swap","switch","template","this","throw","time","true","try","typedef","typeid","typename","typeof","union","unique","unsigned","upper_bound","using","vector","virtual","void","volatile","wchar_t","while","xor"],22:["main","endl","alignas","and","asm","auto","bitset","bool","break","case","catch","char","char16_t","char32_t","class","clock","const","const_cast","constexpr","continue","decltype","default","delete","deque","div","do","double","dynamic_cast","else","enum","existing-type","explicit","export","extern ","false","float","for","friend","goto","hash","if","inline","int","__int128_t","log","long","long long","lower_bound","map","max","min","multiset","mutable","namespace","new","new-type","next_permutation","noexcept","not","nullptr","operator","or","prev_permutation","priority_queue","private","protected","public","queue","rand","random_shuffle","register","reinterpret_cast","return","reverse","set","short","shuffle","signed","sizeof","sort","sqrt","stack","static","static_assert","static_cast","swap","switch","template","this","throw","time","true","try","typedef","typeid","typename","typeof","union","unique","unsigned","upper_bound","using","vector","virtual","void","volatile","wchar_t","while","xor"],4:["private","protected","public","abstract","class","extends","final","implements","interface","native","new","static","strictfp","synchronized","transient","volatile","break","continue","return","do","while","if","else","for","instanceof","switch","case","default","try","catch","throw","throws","import","package","boolean","byte","char","double","float","int","long","short","null","true","false","super","this","void","goto","const"],17:["break","default","func","interface","select","case","defer","go","map","struct","chan","else","goto","package","switch","const","fallthrough","if","range","type","continue","for","import","return","var"],11:["False","None","True","and","as","assert","break","class","continue","def","del","elif","else","except","finally","for","from","global","if","import","in","is","lambda","nonlocal","not","or","pass","raise","return","try","while","with","yield"],5:["and","del","from","not","while","as","elif","global","or","with","assert","else","if","pass","yield","break","except","import","print","class","exec","in","raise","continuefinally","is","return","def","for","lambda","try"],13:a,14:a,9:["abstract","as","base","bool","break","byte","case","catch","char","checked","class","const","continue","decimal","default","delegate","do","double","else","enum","event","explicit","extern","false","finally","fixed","float","for","foreach","goto","if","implicit","in","int","interface","internal","is","lock","long","namespace","new","null","object","operator","out","override","params","private","protected","public","readonly","ref","return","sbyte","sealed","short","sizeof","stackalloc","static","string","struct","switch","this","throw","true","try","typeof","uint","ulong","unchecked","unsafe","ushort","using","virtual","void","volatile","while"],15:[].concat(s,r()(o.map(s,(function(t){return t.toUpperCase()}))))}},682:function(t,e,n){var i,r,o,a,s=n(37);a=function(t){"use strict";function e(){}function n(t,e,n,i,r){for(var o=0,a=e.length,s=0,c=0;o<a;o++){var l=e[o];if(l.removed){if(l.value=t.join(i.slice(c,c+l.count)),c+=l.count,o&&e[o-1].added){var u=e[o-1];e[o-1]=e[o],e[o]=u}}else{if(!l.added&&r){var d=n.slice(s,s+l.count);d=d.map((function(t,e){var n=i[c+e];return n.length>t.length?n:t})),l.value=t.join(d)}else l.value=t.join(n.slice(s,s+l.count));s+=l.count,l.added||(c+=l.count)}}var f=e[a-1];return a>1&&"string"==typeof f.value&&(f.added||f.removed)&&t.equals("",f.value)&&(e[a-2].value+=f.value,e.pop()),e}function i(t){return{newPos:t.newPos,components:t.components.slice(0)}}e.prototype={diff:function(t,e){var r=arguments.length>2&&arguments[2]!==undefined?arguments[2]:{},o=r.callback;"function"==typeof r&&(o=r,r={}),this.options=r;var a=this;function s(t){return o?(setTimeout((function(){o(undefined,t)}),0),!0):t}t=this.castInput(t),e=this.castInput(e),t=this.removeEmpty(this.tokenize(t));var c=(e=this.removeEmpty(this.tokenize(e))).length,l=t.length,u=1,d=c+l,f=[{newPos:-1,components:[]}],p=this.extractCommon(f[0],e,t,0);if(f[0].newPos+1>=c&&p+1>=l)return s([{value:this.join(e),count:e.length}]);function h(){for(var r=-1*u;r<=u;r+=2){var o=void 0,d=f[r-1],p=f[r+1],h=(p?p.newPos:0)-r;d&&(f[r-1]=undefined);var g=d&&d.newPos+1<c,v=p&&0<=h&&h<l;if(g||v){if(!g||v&&d.newPos<p.newPos?(o=i(p),a.pushComponent(o.components,undefined,!0)):((o=d).newPos++,a.pushComponent(o.components,!0,undefined)),h=a.extractCommon(o,e,t,r),o.newPos+1>=c&&h+1>=l)return s(n(a,o.components,e,t,a.useLongestToken));f[r]=o}else f[r]=undefined}u++}if(o)!function v(){setTimeout((function(){if(u>d)return o();h()||v()}),0)}();else for(;u<=d;){var g=h();if(g)return g}},pushComponent:function(t,e,n){var i=t[t.length-1];i&&i.added===e&&i.removed===n?t[t.length-1]={count:i.count+1,added:e,removed:n}:t.push({count:1,added:e,removed:n})},extractCommon:function(t,e,n,i){for(var r=e.length,o=n.length,a=t.newPos,s=a-i,c=0;a+1<r&&s+1<o&&this.equals(e[a+1],n[s+1]);)a++,s++,c++;return c&&t.components.push({count:c}),t.newPos=a,s},equals:function(t,e){return this.options.comparator?this.options.comparator(t,e):t===e||this.options.ignoreCase&&t.toLowerCase()===e.toLowerCase()},removeEmpty:function(t){for(var e=[],n=0;n<t.length;n++)t[n]&&e.push(t[n]);return e},castInput:function(t){return t},tokenize:function(t){return t.split("")},join:function(t){return t.join("")}};var r=new e;function o(t,e){if("function"==typeof t)e.callback=t;else if(t)for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e}var a=/^[A-Za-z\xC0-\u02C6\u02C8-\u02D7\u02DE-\u02FF\u1E00-\u1EFF]+$/,s=/\S/,c=new e;c.equals=function(t,e){return this.options.ignoreCase&&(t=t.toLowerCase(),e=e.toLowerCase()),t===e||this.options.ignoreWhitespace&&!s.test(t)&&!s.test(e)},c.tokenize=function(t){for(var e=t.split(/([^\S\r\n]+|[()[\]{}'"\r\n]|\b)/),n=0;n<e.length-1;n++)!e[n+1]&&e[n+2]&&a.test(e[n])&&a.test(e[n+2])&&(e[n]+=e[n+2],e.splice(n+1,2),n--);return e};var l=new e;function u(t,e,n){return l.diff(t,e,n)}l.tokenize=function(t){var e=[],n=t.split(/(\n|\r\n)/);n[n.length-1]||n.pop();for(var i=0;i<n.length;i++){var r=n[i];i%2&&!this.options.newlineIsToken?e[e.length-1]+=r:(this.options.ignoreWhitespace&&(r=r.trim()),e.push(r))}return e};var d=new e;d.tokenize=function(t){return t.split(/(\S.+?[.!?])(?=\s+|$)/)};var f=new e;function p(t){return(p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function h(t){return function(t){if(Array.isArray(t))return g(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||function(t,e){if(t){if("string"==typeof t)return g(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?g(t,e):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function g(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}f.tokenize=function(t){return t.split(/([{}:;,]|\s+)/)};var v=Object.prototype.toString,m=new e;function w(t,e,n,i,r){var o,a;for(e=e||[],n=n||[],i&&(t=i(r,t)),o=0;o<e.length;o+=1)if(e[o]===t)return n[o];if("[object Array]"===v.call(t)){for(e.push(t),a=new Array(t.length),n.push(a),o=0;o<t.length;o+=1)a[o]=w(t[o],e,n,i,r);return e.pop(),n.pop(),a}if(t&&t.toJSON&&(t=t.toJSON()),"object"===p(t)&&null!==t){e.push(t),a={},n.push(a);var s,c=[];for(s in t)t.hasOwnProperty(s)&&c.push(s);for(c.sort(),o=0;o<c.length;o+=1)a[s=c[o]]=w(t[s],e,n,i,s);e.pop(),n.pop()}else a=t;return a}m.useLongestToken=!0,m.tokenize=l.tokenize,m.castInput=function(t){var e=this.options,n=e.undefinedReplacement,i=e.stringifyReplacer,r=void 0===i?function(t,e){return void 0===e?n:e}:i;return"string"==typeof t?t:JSON.stringify(w(t,null,null,r),r,"  ")},m.equals=function(t,n){return e.prototype.equals.call(m,t.replace(/,([\r\n])/g,"$1"),n.replace(/,([\r\n])/g,"$1"))};var y=new e;function b(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{},n=t.split(/\r\n|[\n\v\f\r\x85]/),i=t.match(/\r\n|[\n\v\f\r\x85]/g)||[],r=[],o=0;function a(){var t={};for(r.push(t);o<n.length;){var i=n[o];if(/^(\-\-\-|\+\+\+|@@)\s/.test(i))break;var a=/^(?:Index:|diff(?: -r \w+)+)\s+(.+?)\s*$/.exec(i);a&&(t.index=a[1]),o++}for(s(t),s(t),t.hunks=[];o<n.length;){var l=n[o];if(/^(Index:|diff|\-\-\-|\+\+\+)\s/.test(l))break;if(/^@@/.test(l))t.hunks.push(c());else{if(l&&e.strict)throw new Error("Unknown line "+(o+1)+" "+JSON.stringify(l));o++}}}function s(t){var e=/^(---|\+\+\+)\s+(.*)$/.exec(n[o]);if(e){var i="---"===e[1]?"old":"new",r=e[2].split("\t",2),a=r[0].replace(/\\\\/g,"\\");/^".*"$/.test(a)&&(a=a.substr(1,a.length-2)),t[i+"FileName"]=a,t[i+"Header"]=(r[1]||"").trim(),o++}}function c(){var t=o,r=n[o++].split(/@@ -(\d+)(?:,(\d+))? \+(\d+)(?:,(\d+))? @@/),a={oldStart:+r[1],oldLines:"undefined"==typeof r[2]?1:+r[2],newStart:+r[3],newLines:"undefined"==typeof r[4]?1:+r[4],lines:[],linedelimiters:[]};0===a.oldLines&&(a.oldStart+=1),0===a.newLines&&(a.newStart+=1);for(var s=0,c=0;o<n.length&&!(0===n[o].indexOf("--- ")&&o+2<n.length&&0===n[o+1].indexOf("+++ ")&&0===n[o+2].indexOf("@@"));o++){var l=0==n[o].length&&o!=n.length-1?" ":n[o][0];if("+"!==l&&"-"!==l&&" "!==l&&"\\"!==l)break;a.lines.push(n[o]),a.linedelimiters.push(i[o]||"\n"),"+"===l?s++:"-"===l?c++:" "===l&&(s++,c++)}if(s||1!==a.newLines||(a.newLines=0),c||1!==a.oldLines||(a.oldLines=0),e.strict){if(s!==a.newLines)throw new Error("Added line count did not match for hunk at line "+(t+1));if(c!==a.oldLines)throw new Error("Removed line count did not match for hunk at line "+(t+1))}return a}for(;o<n.length;)a();return r}function x(t,e,n){var i=!0,r=!1,o=!1,a=1;return function s(){if(i&&!o){if(r?a++:i=!1,t+a<=n)return a;o=!0}if(!r)return o||(i=!0),e<=t-a?-a++:(r=!0,s())}}function C(t,e){var n=arguments.length>2&&arguments[2]!==undefined?arguments[2]:{};if("string"==typeof e&&(e=b(e)),Array.isArray(e)){if(e.length>1)throw new Error("applyPatch only works with a single input.");e=e[0]}var i,r,o=t.split(/\r\n|[\n\v\f\r\x85]/),a=t.match(/\r\n|[\n\v\f\r\x85]/g)||[],s=e.hunks,c=n.compareLine||function(t,e,n,i){return e===i},l=0,u=n.fuzzFactor||0,d=0,f=0;function p(t,e){for(var n=0;n<t.lines.length;n++){var i=t.lines[n],r=i.length>0?i[0]:" ",a=i.length>0?i.substr(1):i;if(" "===r||"-"===r){if(!c(e+1,o[e],r,a)&&++l>u)return!1;e++}}return!0}for(var h=0;h<s.length;h++){for(var g=s[h],v=o.length-g.oldLines,m=0,w=f+g.oldStart-1,y=x(w,d,v);m!==undefined;m=y())if(p(g,w+m)){g.offset=f+=m;break}if(m===undefined)return!1;d=g.offset+g.oldStart+g.oldLines}for(var C=0,k=0;k<s.length;k++){var S=s[k],E=S.oldStart+S.offset+C-1;C+=S.newLines-S.oldLines;for(var _=0;_<S.lines.length;_++){var T=S.lines[_],j=T.length>0?T[0]:" ",L=T.length>0?T.substr(1):T,I=S.linedelimiters[_];if(" "===j)E++;else if("-"===j)o.splice(E,1),a.splice(E,1);else if("+"===j)o.splice(E,0,L),a.splice(E,0,I),E++;else if("\\"===j){var P=S.lines[_-1]?S.lines[_-1][0]:null;"+"===P?i=!0:"-"===P&&(r=!0)}}}if(i)for(;!o[o.length-1];)o.pop(),a.pop();else r&&(o.push(""),a.push("\n"));for(var A=0;A<o.length-1;A++)o[A]=o[A]+a[A];return o.join("")}function k(t,e,n,i,r,o,a){a||(a={}),"undefined"==typeof a.context&&(a.context=4);var s=u(n,i,a);function c(t){return t.map((function(t){return" "+t}))}s.push({value:"",lines:[]});for(var l=[],d=0,f=0,p=[],g=1,v=1,m=function(t){var e=s[t],r=e.lines||e.value.replace(/\n$/,"").split("\n");if(e.lines=r,e.added||e.removed){var o;if(!d){var u=s[t-1];d=g,f=v,u&&(p=a.context>0?c(u.lines.slice(-a.context)):[],d-=p.length,f-=p.length)}(o=p).push.apply(o,h(r.map((function(t){return(e.added?"+":"-")+t})))),e.added?v+=r.length:g+=r.length}else{if(d)if(r.length<=2*a.context&&t<s.length-2){var m;(m=p).push.apply(m,h(c(r)))}else{var w,y=Math.min(r.length,a.context);(w=p).push.apply(w,h(c(r.slice(0,y))));var b={oldStart:d,oldLines:g-d+y,newStart:f,newLines:v-f+y,lines:p};if(t>=s.length-2&&r.length<=a.context){var x=/\n$/.test(n),C=/\n$/.test(i),k=0==r.length&&p.length>b.oldLines;!x&&k&&n.length>0&&p.splice(b.oldLines,0,"\\ No newline at end of file"),(x||k)&&C||p.push("\\ No newline at end of file")}l.push(b),d=0,f=0,p=[]}g+=r.length,v+=r.length}},w=0;w<s.length;w++)m(w);return{oldFileName:t,newFileName:e,oldHeader:r,newHeader:o,hunks:l}}function S(t,e,n,i,r,o,a){return function(t){var e=[];t.oldFileName==t.newFileName&&e.push("Index: "+t.oldFileName),e.push("==================================================================="),e.push("--- "+t.oldFileName+("undefined"==typeof t.oldHeader?"":"\t"+t.oldHeader)),e.push("+++ "+t.newFileName+("undefined"==typeof t.newHeader?"":"\t"+t.newHeader));for(var n=0;n<t.hunks.length;n++){var i=t.hunks[n];0===i.oldLines&&(i.oldStart-=1),0===i.newLines&&(i.newStart-=1),e.push("@@ -"+i.oldStart+","+i.oldLines+" +"+i.newStart+","+i.newLines+" @@"),e.push.apply(e,i.lines)}return e.join("\n")+"\n"}(k(t,e,n,i,r,o,a))}function E(t,e){if(e.length>t.length)return!1;for(var n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}function _(t){var e=function r(t){var e=0,n=0;return t.forEach((function(t){if("string"!=typeof t){var i=r(t.mine),o=r(t.theirs);e!==undefined&&(i.oldLines===o.oldLines?e+=i.oldLines:e=undefined),n!==undefined&&(i.newLines===o.newLines?n+=i.newLines:n=undefined)}else n===undefined||"+"!==t[0]&&" "!==t[0]||n++,e===undefined||"-"!==t[0]&&" "!==t[0]||e++})),{oldLines:e,newLines:n}}(t.lines),n=e.oldLines,i=e.newLines;n!==undefined?t.oldLines=n:delete t.oldLines,i!==undefined?t.newLines=i:delete t.newLines}function T(t,e){if("string"==typeof t){if(/^@@/m.test(t)||/^Index:/m.test(t))return b(t)[0];if(!e)throw new Error("Must provide a base reference or pass in a patch");return k(undefined,undefined,e,t)}return t}function j(t){return t.newFileName&&t.newFileName!==t.oldFileName}function L(t,e,n){return e===n?e:(t.conflict=!0,{mine:e,theirs:n})}function I(t,e){return t.oldStart<e.oldStart&&t.oldStart+t.oldLines<e.oldStart}function P(t,e){return{oldStart:t.oldStart,oldLines:t.oldLines,newStart:t.newStart+e,newLines:t.newLines,lines:t.lines}}function A(t,e,n,i,r){var o={offset:e,lines:n,index:0},a={offset:i,lines:r,index:0};for(N(t,o,a),N(t,a,o);o.index<o.lines.length&&a.index<a.lines.length;){var s=o.lines[o.index],c=a.lines[a.index];if("-"!==s[0]&&"+"!==s[0]||"-"!==c[0]&&"+"!==c[0])if("+"===s[0]&&" "===c[0]){var l;(l=t.lines).push.apply(l,h(z(o)))}else if("+"===c[0]&&" "===s[0]){var u;(u=t.lines).push.apply(u,h(z(a)))}else"-"===s[0]&&" "===c[0]?D(t,o,a):"-"===c[0]&&" "===s[0]?D(t,a,o,!0):s===c?(t.lines.push(s),o.index++,a.index++):H(t,z(o),z(a));else M(t,o,a)}O(t,o),O(t,a),_(t)}function M(t,e,n){var i,r,o=z(e),a=z(n);if(F(o)&&F(a)){var s,c;if(E(o,a)&&R(n,o,o.length-a.length))return void(s=t.lines).push.apply(s,h(o));if(E(a,o)&&R(e,a,a.length-o.length))return void(c=t.lines).push.apply(c,h(a))}else if(r=a,(i=o).length===r.length&&E(i,r)){var l;return void(l=t.lines).push.apply(l,h(o))}H(t,o,a)}function D(t,e,n,i){var r,o=z(e),a=function(t,e){for(var n=[],i=[],r=0,o=!1,a=!1;r<e.length&&t.index<t.lines.length;){var s=t.lines[t.index],c=e[r];if("+"===c[0])break;if(o=o||" "!==s[0],i.push(c),r++,"+"===s[0])for(a=!0;"+"===s[0];)n.push(s),s=t.lines[++t.index];c.substr(1)===s.substr(1)?(n.push(s),t.index++):a=!0}if("+"===(e[r]||"")[0]&&o&&(a=!0),a)return n;for(;r<e.length;)i.push(e[r++]);return{merged:i,changes:n}}(n,o);a.merged?(r=t.lines).push.apply(r,h(a.merged)):H(t,i?a:o,i?o:a)}function H(t,e,n){t.conflict=!0,t.lines.push({conflict:!0,mine:e,theirs:n})}function N(t,e,n){for(;e.offset<n.offset&&e.index<e.lines.length;){var i=e.lines[e.index++];t.lines.push(i),e.offset++}}function O(t,e){for(;e.index<e.lines.length;){var n=e.lines[e.index++];t.lines.push(n)}}function z(t){for(var e=[],n=t.lines[t.index][0];t.index<t.lines.length;){var i=t.lines[t.index];if("-"===n&&"+"===i[0]&&(n="+"),n!==i[0])break;e.push(i),t.index++}return e}function F(t){return t.reduce((function(t,e){return t&&"-"===e[0]}),!0)}function R(t,e,n){for(var i=0;i<n;i++){var r=e[e.length-n+i].substr(1);if(t.lines[t.index+i]!==" "+r)return!1}return t.index+=n,!0}y.tokenize=function(t){return t.slice()},y.join=y.removeEmpty=function(t){return t},t.Diff=e,t.applyPatch=C,t.applyPatches=function(t,e){"string"==typeof t&&(t=b(t));var n=0;!function i(){var r=t[n++];if(!r)return e.complete();e.loadFile(r,(function(t,n){if(t)return e.complete(t);var o=C(n,r,e);e.patched(r,o,(function(t){if(t)return e.complete(t);i()}))}))}()},t.canonicalize=w,t.convertChangesToDMP=function(t){for(var e,n,i=[],r=0;r<t.length;r++)n=(e=t[r]).added?1:e.removed?-1:0,i.push([n,e.value]);return i},t.convertChangesToXML=function(t){for(var e=[],n=0;n<t.length;n++){var i=t[n];i.added?e.push("<ins>"):i.removed&&e.push("<del>"),e.push((r=i.value,void 0,r.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;"))),i.added?e.push("</ins>"):i.removed&&e.push("</del>")}var r;return e.join("")},t.createPatch=function(t,e,n,i,r,o){return S(t,t,e,n,i,r,o)},t.createTwoFilesPatch=S,t.diffArrays=function(t,e,n){return y.diff(t,e,n)},t.diffChars=function(t,e,n){return r.diff(t,e,n)},t.diffCss=function(t,e,n){return f.diff(t,e,n)},t.diffJson=function(t,e,n){return m.diff(t,e,n)},t.diffLines=u,t.diffSentences=function(t,e,n){return d.diff(t,e,n)},t.diffTrimmedLines=function(t,e,n){var i=o(n,{ignoreWhitespace:!0});return l.diff(t,e,i)},t.diffWords=function(t,e,n){return n=o(n,{ignoreWhitespace:!0}),c.diff(t,e,n)},t.diffWordsWithSpace=function(t,e,n){return c.diff(t,e,n)},t.merge=function(t,e,n){t=T(t,n),e=T(e,n);var i={};(t.index||e.index)&&(i.index=t.index||e.index),(t.newFileName||e.newFileName)&&(j(t)?j(e)?(i.oldFileName=L(i,t.oldFileName,e.oldFileName),i.newFileName=L(i,t.newFileName,e.newFileName),i.oldHeader=L(i,t.oldHeader,e.oldHeader),i.newHeader=L(i,t.newHeader,e.newHeader)):(i.oldFileName=t.oldFileName,i.newFileName=t.newFileName,i.oldHeader=t.oldHeader,i.newHeader=t.newHeader):(i.oldFileName=e.oldFileName||t.oldFileName,i.newFileName=e.newFileName||t.newFileName,i.oldHeader=e.oldHeader||t.oldHeader,i.newHeader=e.newHeader||t.newHeader)),i.hunks=[];for(var r=0,o=0,a=0,s=0;r<t.hunks.length||o<e.hunks.length;){var c=t.hunks[r]||{oldStart:Infinity},l=e.hunks[o]||{oldStart:Infinity};if(I(c,l))i.hunks.push(P(c,a)),r++,s+=c.newLines-c.oldLines;else if(I(l,c))i.hunks.push(P(l,s)),o++,a+=l.newLines-l.oldLines;else{var u={oldStart:Math.min(c.oldStart,l.oldStart),oldLines:0,newStart:Math.min(c.newStart+a,l.oldStart+s),newLines:0,lines:[]};A(u,c.oldStart,c.lines,l.oldStart,l.lines),o++,r++,i.hunks.push(u)}}return i},t.parsePatch=b,t.structuredPatch=k,Object.defineProperty(t,"__esModule",{value:!0})},"object"===s(e)&&void 0!==t?a(e):(r=[e],(o="function"==typeof(i=a)?i.apply(e,r):i)===undefined||(t.exports=o))},683:function(t,e,n){var i,r,o,a=n(37);!function(n,s){"object"==a(e)&&void 0!==t?s(e):(r=[e],(o="function"==typeof(i=s)?i.apply(e,r):i)===undefined||(t.exports=o))}(0,(function(t){"use strict";function e(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t["default"]:t}function n(t,e){return t(e={exports:{}},e.exports),e.exports}var i=n((function(t,e){function n(){}function i(t,e,n,i,r){for(var o=0,a=e.length,s=0,c=0;o<a;o++){var l=e[o];if(l.removed){if(l.value=i.slice(c,c+l.count).join(""),c+=l.count,o&&e[o-1].added){var u=e[o-1];e[o-1]=e[o],e[o]=u}}else{if(!l.added&&r){var d=n.slice(s,s+l.count);d=d.map((function(t,e){var n=i[c+e];return n.length>t.length?n:t})),l.value=d.join("")}else l.value=n.slice(s,s+l.count).join("");s+=l.count,l.added||(c+=l.count)}}var f=e[a-1];return a>1&&(f.added||f.removed)&&t.equals("",f.value)&&(e[a-2].value+=f.value,e.pop()),e}e.__esModule=!0,e["default"]=n,n.prototype={diff:function(t,e){var n=arguments.length<=2||void 0===arguments[2]?{}:arguments[2],r=n.callback;"function"==typeof n&&(r=n,n={}),this.options=n;var o=this;function a(t){return r?(setTimeout((function(){r(void 0,t)}),0),!0):t}t=this.castInput(t),e=this.castInput(e),t=this.removeEmpty(this.tokenize(t));var s=(e=this.removeEmpty(this.tokenize(e))).length,c=t.length,l=1,u=s+c,d=[{newPos:-1,components:[]}],f=this.extractCommon(d[0],e,t,0);if(d[0].newPos+1>=s&&f+1>=c)return a([{value:e.join(""),count:e.length}]);function p(){for(var n=-1*l;n<=l;n+=2){var r=void 0,u=d[n-1],f=d[n+1],p=(f?f.newPos:0)-n;u&&(d[n-1]=void 0);var h=u&&u.newPos+1<s,g=f&&0<=p&&p<c;if(h||g){if(!h||g&&u.newPos<f.newPos?(r={newPos:(v=f).newPos,components:v.components.slice(0)},o.pushComponent(r.components,void 0,!0)):((r=u).newPos++,o.pushComponent(r.components,!0,void 0)),p=o.extractCommon(r,e,t,n),r.newPos+1>=s&&p+1>=c)return a(i(o,r.components,e,t,o.useLongestToken));d[n]=r}else d[n]=void 0}var v;l++}if(r)!function g(){setTimeout((function(){if(l>u)return r();p()||g()}),0)}();else for(;l<=u;){var h=p();if(h)return h}},pushComponent:function(t,e,n){var i=t[t.length-1];i&&i.added===e&&i.removed===n?t[t.length-1]={count:i.count+1,added:e,removed:n}:t.push({count:1,added:e,removed:n})},extractCommon:function(t,e,n,i){for(var r=e.length,o=n.length,a=t.newPos,s=a-i,c=0;a+1<r&&s+1<o&&this.equals(e[a+1],n[s+1]);)a++,s++,c++;return c&&t.components.push({count:c}),t.newPos=a,s},equals:function(t,e){return t===e},removeEmpty:function(t){for(var e=[],n=0;n<t.length;n++)t[n]&&e.push(t[n]);return e},castInput:function(t){return t},tokenize:function(t){return t.split("")}}}));e(i);var r=n((function(t,e){e.__esModule=!0,e.characterDiff=void 0,e.diffChars=function(t,e,n){return o.diff(t,e,n)};var n,r=(n=i)&&n.__esModule?n:{"default":n},o=e.characterDiff=new r["default"]}));e(r),r.characterDiff,r.diffChars;var o=n((function(t,e){e.__esModule=!0,e.generateOptions=function(t,e){if("function"==typeof t)e.callback=t;else if(t)for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e}}));e(o),o.generateOptions;var s=n((function(t,e){e.__esModule=!0,e.wordDiff=void 0,e.diffWords=function(t,e,n){var i=(0,o.generateOptions)(n,{ignoreWhitespace:!0});return c.diff(t,e,i)},e.diffWordsWithSpace=function(t,e,n){return c.diff(t,e,n)};var n,r=(n=i)&&n.__esModule?n:{"default":n},a=/^[A-Za-z\xC0-\u02C6\u02C8-\u02D7\u02DE-\u02FF\u1E00-\u1EFF]+$/,s=/\S/,c=e.wordDiff=new r["default"];c.equals=function(t,e){return t===e||this.options.ignoreWhitespace&&!s.test(t)&&!s.test(e)},c.tokenize=function(t){for(var e=t.split(/(\s+|\b)/),n=0;n<e.length-1;n++)!e[n+1]&&e[n+2]&&a.test(e[n])&&a.test(e[n+2])&&(e[n]+=e[n+2],e.splice(n+1,2),n--);return e}}));e(s),s.wordDiff,s.diffWords,s.diffWordsWithSpace;var c=n((function(t,e){e.__esModule=!0,e.lineDiff=void 0,e.diffLines=function(t,e,n){return a.diff(t,e,n)},e.diffTrimmedLines=function(t,e,n){var i=(0,o.generateOptions)(n,{ignoreWhitespace:!0});return a.diff(t,e,i)};var n,r=(n=i)&&n.__esModule?n:{"default":n},a=e.lineDiff=new r["default"];a.tokenize=function(t){var e=[],n=t.split(/(\n|\r\n)/);n[n.length-1]||n.pop();for(var i=0;i<n.length;i++){var r=n[i];i%2&&!this.options.newlineIsToken?e[e.length-1]+=r:(this.options.ignoreWhitespace&&(r=r.trim()),e.push(r))}return e}}));e(c),c.lineDiff,c.diffLines,c.diffTrimmedLines;var l=n((function(t,e){e.__esModule=!0,e.sentenceDiff=void 0,e.diffSentences=function(t,e,n){return o.diff(t,e,n)};var n,r=(n=i)&&n.__esModule?n:{"default":n},o=e.sentenceDiff=new r["default"];o.tokenize=function(t){return t.split(/(\S.+?[.!?])(?=\s+|$)/)}}));e(l),l.sentenceDiff,l.diffSentences;var u=n((function(t,e){e.__esModule=!0,e.cssDiff=void 0,e.diffCss=function(t,e,n){return o.diff(t,e,n)};var n,r=(n=i)&&n.__esModule?n:{"default":n},o=e.cssDiff=new r["default"];o.tokenize=function(t){return t.split(/([{}:;,]|\s+)/)}}));e(u),u.cssDiff,u.diffCss;var d=n((function(t,e){e.__esModule=!0,e.jsonDiff=void 0;var n="function"==typeof Symbol&&"symbol"==a(Symbol.iterator)?function(t){return a(t)}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol?"symbol":a(t)};e.diffJson=function(t,e,n){return l.diff(t,e,n)},e.canonicalize=u;var r,o=(r=i)&&r.__esModule?r:{"default":r},s=Object.prototype.toString,l=e.jsonDiff=new o["default"];function u(t,e,i){e=e||[],i=i||[];var r=void 0;for(r=0;r<e.length;r+=1)if(e[r]===t)return i[r];var o=void 0;if("[object Array]"===s.call(t)){for(e.push(t),o=new Array(t.length),i.push(o),r=0;r<t.length;r+=1)o[r]=u(t[r],e,i);return e.pop(),i.pop(),o}if(t&&t.toJSON&&(t=t.toJSON()),"object"===(void 0===t?"undefined":n(t))&&null!==t){e.push(t),o={},i.push(o);var a=[],c=void 0;for(c in t)t.hasOwnProperty(c)&&a.push(c);for(a.sort(),r=0;r<a.length;r+=1)o[c=a[r]]=u(t[c],e,i);e.pop(),i.pop()}else o=t;return o}l.useLongestToken=!0,l.tokenize=c.lineDiff.tokenize,l.castInput=function(t){return"string"==typeof t?t:JSON.stringify(u(t),void 0,"  ")},l.equals=function(t,e){return o["default"].prototype.equals(t.replace(/,([\r\n])/g,"$1"),e.replace(/,([\r\n])/g,"$1"))}}));e(d),d.jsonDiff,d.diffJson,d.canonicalize;var f=n((function(t,e){e.__esModule=!0,e.parsePatch=function(t){var e=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],n=t.split("\n"),i=[],r=0;function o(){var t={};for(i.push(t);r<n.length;){var o=n[r];if(/^(\-\-\-|\+\+\+|@@)\s/.test(o))break;var c=/^(?:Index:|diff(?: -r \w+)+)\s+(.+?)\s*$/.exec(o);c&&(t.index=c[1]),r++}for(a(t),a(t),t.hunks=[];r<n.length;){var l=n[r];if(/^(Index:|diff|\-\-\-|\+\+\+)\s/.test(l))break;if(/^@@/.test(l))t.hunks.push(s());else{if(l&&e.strict)throw new Error("Unknown line "+(r+1)+" "+JSON.stringify(l));r++}}}function a(t){var e=/^(\-\-\-|\+\+\+)\s+(\S*)\s?(.*?)\s*$/.exec(n[r]);if(e){var i="---"===e[1]?"old":"new";t[i+"FileName"]=e[2],t[i+"Header"]=e[3],r++}}function s(){for(var t=r,i=n[r++].split(/@@ -(\d+)(?:,(\d+))? \+(\d+)(?:,(\d+))? @@/),o={oldStart:+i[1],oldLines:+i[2]||1,newStart:+i[3],newLines:+i[4]||1,lines:[]},a=0,s=0;r<n.length;r++){var c=n[r][0];if("+"!==c&&"-"!==c&&" "!==c&&"\\"!==c)break;o.lines.push(n[r]),"+"===c?a++:"-"===c?s++:" "===c&&(a++,s++)}if(a||1!==o.newLines||(o.newLines=0),s||1!==o.oldLines||(o.oldLines=0),e.strict){if(a!==o.newLines)throw new Error("Added line count did not match for hunk at line "+(t+1));if(s!==o.oldLines)throw new Error("Removed line count did not match for hunk at line "+(t+1))}return o}for(;r<n.length;)o();return i}}));e(f),f.parsePatch;var p=n((function(t,e){e.__esModule=!0,e["default"]=function(t,e,n){var i=!0,r=!1,o=!1,a=1;return function s(){if(i&&!o){if(r?a++:i=!1,t+a<=n)return a;o=!0}if(!r)return o||(i=!0),e<=t-a?-a++:(r=!0,s())}}}));e(p);var h=n((function(t,e){e.__esModule=!0,e.applyPatch=r,e.applyPatches=function(t,e){"string"==typeof t&&(t=(0,f.parsePatch)(t));var n=0;!function i(){var o=t[n++];if(!o)return e.complete();e.loadFile(o,(function(t,n){if(t)return e.complete(t);var a=r(n,o,e);e.patched(o,a),setTimeout(i,0)}))}()};var n,i=(n=p)&&n.__esModule?n:{"default":n};function r(t,e){var n=arguments.length<=2||void 0===arguments[2]?{}:arguments[2];if("string"==typeof e&&(e=(0,f.parsePatch)(e)),Array.isArray(e)){if(e.length>1)throw new Error("applyPatch only works with a single input.");e=e[0]}var r=t.split("\n"),o=e.hunks,a=n.compareLine||function(t,e,n,i){return e===i},s=0,c=n.fuzzFactor||0,l=0,u=0,d=void 0,p=void 0;function h(t,e){for(var n=0;n<t.lines.length;n++){var i=t.lines[n],o=i[0],l=i.substr(1);if(" "===o||"-"===o){if(!a(e+1,r[e],o,l)&&++s>c)return!1;e++}}return!0}for(var g=0;g<o.length;g++){for(var v=o[g],m=r.length-v.oldLines,w=0,y=u+v.oldStart-1,b=(0,i["default"])(y,l,m);void 0!==w;w=b())if(h(v,y+w)){v.offset=u+=w;break}if(void 0===w)return!1;l=v.offset+v.oldStart+v.oldLines}for(var x=0;x<o.length;x++){var C=o[x],k=C.offset+C.newStart-1;0==C.newLines&&k++;for(var S=0;S<C.lines.length;S++){var E=C.lines[S],_=E[0],T=E.substr(1);if(" "===_)k++;else if("-"===_)r.splice(k,1);else if("+"===_)r.splice(k,0,T),k++;else if("\\"===_){var j=C.lines[S-1]?C.lines[S-1][0]:null;"+"===j?d=!0:"-"===j&&(p=!0)}}}if(d)for(;!r[r.length-1];)r.pop();else p&&r.push("");return r.join("\n")}}));e(h),h.applyPatch,h.applyPatches;var g=n((function(t,e){function n(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}function i(t,e,i,r,o,a,s){s||(s={context:4});var l=(0,c.diffLines)(i,r);function u(t){return t.map((function(t){return" "+t}))}l.push({value:"",lines:[]});for(var d=[],f=0,p=0,h=[],g=1,v=1,m=function(t){var e=l[t],o=e.lines||e.value.replace(/\n$/,"").split("\n");if(e.lines=o,e.added||e.removed){var a;if(!f){var c=l[t-1];f=g,p=v,c&&(h=s.context>0?u(c.lines.slice(-s.context)):[],f-=h.length,p-=h.length)}(a=h).push.apply(a,n(o.map((function(t){return(e.added?"+":"-")+t})))),e.added?v+=o.length:g+=o.length}else{if(f)if(o.length<=2*s.context&&t<l.length-2){var m;(m=h).push.apply(m,n(u(o)))}else{var w,y=Math.min(o.length,s.context);(w=h).push.apply(w,n(u(o.slice(0,y))));var b={oldStart:f,oldLines:g-f+y,newStart:p,newLines:v-p+y,lines:h};if(t>=l.length-2&&o.length<=s.context){var x=/\n$/.test(i),C=/\n$/.test(r);0!=o.length||x?x&&C||h.push("\\ No newline at end of file"):h.splice(b.oldLines,0,"\\ No newline at end of file")}d.push(b),f=0,p=0,h=[]}g+=o.length,v+=o.length}},w=0;w<l.length;w++)m(w);return{oldFileName:t,newFileName:e,oldHeader:o,newHeader:a,hunks:d}}function r(t,e,n,r,o,a,s){var c=i(t,e,n,r,o,a,s),l=[];t==e&&l.push("Index: "+t),l.push("==================================================================="),l.push("--- "+c.oldFileName+(void 0===c.oldHeader?"":"\t"+c.oldHeader)),l.push("+++ "+c.newFileName+(void 0===c.newHeader?"":"\t"+c.newHeader));for(var u=0;u<c.hunks.length;u++){var d=c.hunks[u];l.push("@@ -"+d.oldStart+","+d.oldLines+" +"+d.newStart+","+d.newLines+" @@"),l.push.apply(l,d.lines)}return l.join("\n")+"\n"}e.__esModule=!0,e.structuredPatch=i,e.createTwoFilesPatch=r,e.createPatch=function(t,e,n,i,o,a){return r(t,t,e,n,i,o,a)}}));e(g),g.structuredPatch,g.createTwoFilesPatch,g.createPatch;var v=n((function(t,e){e.__esModule=!0,e.convertChangesToDMP=function(t){for(var e=[],n=void 0,i=void 0,r=0;r<t.length;r++)i=(n=t[r]).added?1:n.removed?-1:0,e.push([i,n.value]);return e}}));e(v),v.convertChangesToDMP;var m=n((function(t,e){function n(t){var e=t;return(e=(e=(e=e.replace(/&/g,"&amp;")).replace(/</g,"&lt;")).replace(/>/g,"&gt;")).replace(/"/g,"&quot;")}e.__esModule=!0,e.convertChangesToXML=function(t){for(var e=[],i=0;i<t.length;i++){var r=t[i];r.added?e.push("<ins>"):r.removed&&e.push("<del>"),e.push(n(r.value)),r.added?e.push("</ins>"):r.removed&&e.push("</del>")}return e.join("")}}));e(m),m.convertChangesToXML;var w=n((function(t,e){e.__esModule=!0,e.canonicalize=e.convertChangesToXML=e.convertChangesToDMP=e.parsePatch=e.applyPatches=e.applyPatch=e.createPatch=e.createTwoFilesPatch=e.structuredPatch=e.diffJson=e.diffCss=e.diffSentences=e.diffTrimmedLines=e.diffLines=e.diffWordsWithSpace=e.diffWords=e.diffChars=e.Diff=void 0;var n,o=(n=i)&&n.__esModule?n:{"default":n};e.Diff=o["default"],e.diffChars=r.diffChars,e.diffWords=s.diffWords,e.diffWordsWithSpace=s.diffWordsWithSpace,e.diffLines=c.diffLines,e.diffTrimmedLines=c.diffTrimmedLines,e.diffSentences=l.diffSentences,e.diffCss=u.diffCss,e.diffJson=d.diffJson,e.structuredPatch=g.structuredPatch,e.createTwoFilesPatch=g.createTwoFilesPatch,e.createPatch=g.createPatch,e.applyPatch=h.applyPatch,e.applyPatches=h.applyPatches,e.parsePatch=f.parsePatch,e.convertChangesToDMP=v.convertChangesToDMP,e.convertChangesToXML=m.convertChangesToXML,e.canonicalize=d.canonicalize}));function y(t,e){for(var n=0,i=0;i<t.length;i++)switch(t[i].type){case C:n+=e[0];break;case x:n+=e[1];break;case k:n++;break;default:throw Error("unknown change type: "+t[i].type)}return n}function b(t,e,n){this.changes=n,this.aoff=t,this.boff=e,this._alen=-1,this._blen=-1}e(w),w.canonicalize,w.convertChangesToXML,w.convertChangesToDMP,w.parsePatch,w.applyPatches,w.applyPatch,w.createPatch,w.createTwoFilesPatch,w.structuredPatch,w.diffJson,w.diffCss,w.diffSentences,w.diffTrimmedLines,w.diffLines,w.diffWordsWithSpace,w.diffWords,w.diffChars,w.Diff,Object.defineProperty(b.prototype,"alen",{get:function(){return-1===this._alen?this._alen=y(this.changes,[1,0]):this._alen}}),Object.defineProperty(b.prototype,"blen",{get:function(){return-1===this._blen?this._blen=y(this.changes,[0,1]):this._blen}}),b.prototype.unified=function(){var t=[this.unifiedHeader()];return this.changes.forEach((function(e){t.push(e.unified())})),t.join("\n")},b.prototype.unifiedHeader=function(){var t=1===this.alen?"":","+this.alen,e=1===this.blen?"":","+this.blen,n=0===this.alen?0:1,i=0===this.blen?0:1;return"@@ -"+(this.aoff+n)+t+" +"+(this.boff+i)+e+" @@"},b.prototype.shorthand=function(){return this.changes.reduce((function(t,e){return t+e.type}),"")},b.prototype.toString=function(){return"{"+this.shorthand()+"} "+this.unifiedHeader()};var x="+",C="-",k="s";function S(t){return"s"===t?" ":t}function E(t,e){this.type=t,this.text=e}function _(t,e){if(0===e)return[];var n=[],i=t.value;if(void 0===e)(n=i.split("\n"))[n.length-1]||n.pop();else if(e>0){var r=j(i,"\n",0,e,!1);n=i.substring(0,r).split("\n")}else{var o="\n"===i[i.length-1]?i.length-1:i.length,a=j(i,"\n",o-1,-e,!0);n=i.substring(a+1,o).split("\n")}return n.map((function(e){return new E(t.type,e)}))}function T(t,e){return Array.prototype.push.apply(e,t),e}function j(t,e,n,i,r){var o=r?-1:1;n-=o;for(var a=0;a<i;a++)n=r?t.lastIndexOf(e,n+o):t.indexOf(e,n+o);return n}E.prototype.unified=function(){return S(this.type)+this.text},E.prototype.toString=function(){return this.unified()};var L={hunk:function(t,e,n){return new b(t,e,n)},linechange:function(t,e){return new E(t,e)},lineChanges:_,change2string:function(t,e){e=e||60;var n=t.count+": "+S(t.type),i=Math.min(e-n.length,t.value.length-1);return n+(t.value.substring(0,i).replace(/\n/g,",")+(t.value.length>i+1?"...":""))},changes2shorthand:function(t){return"{"+t.reduce((function(t,e){for(var n=0;n<e.count;n++)t+=e.type;return t}),"")+"}"},nthIndexOf:j,makeHunks:function(t,e,n){var i=[],r=[],o=0;function a(){if(r.length){var t=o,e=o;if(i.length){var n=i[i.length-1];t+=n.aoff+n.alen,e+=n.boff+n.blen}i.push(new b(t,e,r)),r=[],o=0}}for(var s=0;s<t.length;s++){var c=t[s];if(c.type===k){var l=s>0?n:0,u=s<t.length-1?e:0,d=Math.max(c.count-(l+u),0);d>0?(T(_(c,l),r),a(),T(_(c,-u),r),o=d):T(_(c),r)}else T(_(c),r)}return a(),i},ADDED:x,REMOVED:C,UNMODIFIED:k},I=n((function(t,e){function n(t){return t.added?L.ADDED:t.removed?L.REMOVED:L.UNMODIFIED}function i(t,e){!function(t){0===t.length||(t[0].type=n(t[0]),t.reduce((function(t,e,i){if(e.type=n(e),t.type===e.type)throw Error("repeating change types are not handled: "+t.type+" (at "+(i-1)+" and "+i+")");return e})))}(t),(e=e||{}).aname=e.aname||"a",e.bname=e.bname||"b";var i=e.context||0===e.context?e.context:0;e.pre_context=e.pre_context||0===e.pre_context?e.pre_context:i,e.post_context=e.post_context||0===e.post_context?e.post_context:i;var r=L.makeHunks(t,e.pre_context,e.post_context);if(r.length){var o=[];return o.push("--- "+e.aname),o.push("+++ "+e.bname),r.forEach((function(t){o.push(t.unified())})),o.join("\n")}return""}function r(t,e,n){t=Array.isArray(t)?t.join("\n")+"\n":t,e=Array.isArray(e)?e.join("\n")+"\n":e;var i=w.diffLines(t,e,n);return 1!==i.length||i[0].added||i[0].removed?i:[]}function o(t,e,n){return i(r(t,e),n)}e.assertEqual=function(t,e,n,i,r){r=r||console.log,n=n.ok||n;var a=o(t,e,{context:3,aname:i+" (actual)",bname:i+" (expected)"});n(!a,i),a&&a.split("\n").forEach((function(t){r("  "+t)}))},e.diffAsText=o,e.formatLines=i,e.diffLines=r,Object.keys(w).forEach((function(t){e[t]||(e[t]=w[t])}))})),P=I.assertEqual,A=I.diffAsText,M=I.formatLines,D=I.diffLines;t["default"]=I,t.assertEqual=P,t.diffAsText=A,t.formatLines=M,t.diffLines=D,Object.defineProperty(t,"__esModule",{value:!0})}))},684:function(t,e,n){var i=n(1),r=n(685);t.exports={parse:function(t,e){var n=this,o=(t.diff||"").split(/\n(?!\\ No newline at end of file)/),a={head:{},body:[],addLine:0,delLine:0},s=0,c=[],l=[];if(""===o[o.length-1]&&o.pop(),function(t){var e=t[t.length-1].split("↵"),n=t[t.length-2].split("↵");if("+"!==e[0].slice(0,1)||"-"!==n[0].slice(0,1))return;if(e[0].slice(1)!==n[0].slice(1))return;t.pop(),t.pop(),t.push(" "+e[0].slice(1)),t.push(2===e.length?"-":"+"),2===e.length&&t.push("+")}(o),/(---)|(\+\+\+)/.test(o[0])){var u=o.shift(),d=o.shift();a.head.old=u.replace(/(--- "?a\/).+/,"$1"+t.oldPath)+(4===u.indexOf('"')?'"':""),a.head.update=d.replace(/(\+\+\+ "?b\/).+/,"$1"+t.newPath)+(4===d.indexOf('"')?'"':"")}var f={},p=0,h=0;return i.forEach(o,(function(t,e){if(/^@@/.test(t)){f={lines:[]},a.body.push(f);var n=t.split(" @@"),i=/-(\d+),?(\d*)\s\+(\d+),?(\d*)/.exec(n[0]||"")||[];return f.oldBeginIndex=p=+i[1]||0,f.newBeginIndex=h=+i[3]||0,void g(n[0]+" @@"+n[1])}g(t),e===o.length-1&&v()})),a;function g(t){var e=function(t){var e={};t=t.split("\n")[0],/^@/.test(t)?e={code:0,type:"mark",oldIndex:"...",newIndex:"..."}:/^\s/.test(t)?(e={code:1,type:"normal",oldIndex:p,newIndex:h},h++,p++):/^\+/.test(t)?(e={code:2,type:"add",oldIndex:"",newIndex:h},h++,a.addLine++):/^-/.test(t)?(e={code:3,type:"del",oldIndex:p,newIndex:""},p++,a.delLine++):"\\ No newline at end of file"===t&&(e={code:4,type:"end",oldIndex:"...",newIndex:"..."});return i.extend(e,{text:e.code?n.encodeHTML(t.slice(1)):n.encodeHTML(t)}),e}(t),r=4===e.code,o=e.code;return s&&1!==s||3!==o?(1===s||2===s)&&2===o&&l.length<c.length?(s=2,void l.push(e)):(1!==s&&2!==s||r||v(),void(!r&&f.lines.push(e))):(s=1,void c.push(e))}function v(){i.forEach(c,(function(t,n){var o=l[n];if(o)if(e){var a=r.compareStr(t.text,o.text,"");t.diff=[],o.diff=[];d=0;i.forEach(a.diff,(function(e){var n=e[0],i=e[1],r=e[2];i&&t.diff.push([n,-i]),r&&o.diff.push([n+d,r.length]),d=d-i+(r||"").length}))}else{var s=t.text.split(/(\W)/),c=o.text.split(/(\W)/),u=r.compare(s,c);t.diff=[],o.diff=[];var d=0;i.forEach(u,(function(e){var n=e[0],i=e[1],r=e[2]||[],a=s.slice(0,n).join("").length,c=s.slice(n,n+i).join("").length,l=r.join("");c&&t.diff.push([a,-c]),l&&o.diff.push([a+d,l.length]),d=d-c+(l||"").length}))}f.lines.push([t,o])})),s=0,c=[],l=[]}},highlightLine:function(t){if(!t.diff)return t;var e=t.text;return i.forReverse(t.diff,(function(n){var i=n[0],r=n[1],o=i+Math.abs(r);e=e.slice(0,i)+'<span class="'+t.type+'-diff">'+e.slice(i,o)+"</span>"+e.slice(o)})),t.text=e,t},encodeHTML:function(t){return t?t.replace(/</g,"&lt;").replace(/>/g,"&gt;"):t}}},685:function(t,e){var n=function(t,e){return t===e},i=function(t,e,i){var r=t.length,o=e.length,a=r+o,s=Array.apply(null,{length:o+r+1}).map((function(){return[]})),c=[],l=-1;i=i||n,c[a+1]=0;for(var u=0;u<=a&&-1===l;u++)for(var d,f,p,h=-u;h<=u&&-1===l;h+=2){for(h===-u||h!==u&&c[h-1+a]<c[h+1+a]?(d=c[h+1+a],p=3):(d=c[h-1+a]+1,p=2),f=d-h,s[d][f]=p;d<r&&f<o&&i(t[d],e[f]);)f++,s[++d][f]=0;c[h+a]=d,d>=r&&f>=o&&(l=u)}return s},r=function(t,e,n){var r,o,a,s,c,l=function(t,e,n){for(var i=[],r=[],o=t.length,a=e.length;o>0||a>0;)switch(n[o][a]){case 0:i.unshift(t[o-1]),r.unshift(0),o-=1,a-=1;break;case 1:i.unshift(t[o-1]),r.unshift(e[a-1]),o-=1,a-=1;break;case 2:i.unshift(t[o-1]),r.unshift(-1),o-=1,a-=0;break;case 3:i.unshift(-1),r.unshift(e[a-1]),o-=0,a-=1}return{src:i,target:r}}(t,e,i(t,e,n)),u=l.src,d=l.target,f=function(t){return-1!==t},p=[];for(s=d.length-1;s>=0;){for(c=s;0!==d[c]&&c>=0;c--);c<s&&(r=u.slice(0,c+1).filter(f).length,o=u.slice(c+1,s+1).filter(f).length,a=d.slice(c+1,s+1).filter(f),p.unshift(a.length?[r,o,a]:[r,o])),s=c-1}return p};t.exports={coreCompare:i,compare:r,merge:function(t,e){for(var n,i=t.slice(),r=e.length-1;r>=0;r--){var o=(n=e[r])[2];o&&(n=n.slice(0,2).concat(o)),i.splice.apply(i,n)}return i},compareStr:function(t,e,n){n="string"==typeof n?n:"";var i=t.split(n),o=e.split(n),a=r(i,o);return a.forEach((function(t){t[2]&&(t[2]=t[2].join(n))})),{splitter:n,diff:a}},mergeStr:function(t,e){for(var n,i=e.splitter,r=e.diff,o=t.split(i),a=r.length-1;a>=0;a--)n=r[a],o.splice.apply(o,n);return o.join(i)}}},686:function(t,e,n){var i=n(2),r=n(1),o=n(4),a=(n(53),n(45)),s=t.exports=o.create(),c="codeEditorCache",l=window.localStorage;r.extend(s.prototype,{initialize:function(t){this.editor=t.editor,this.parent=t.parent,this.autoCacheCode()},initCacheCode:function(){var t=this.parent,e=t.rawConfig,n=this._memoryCode={},o=!!e.noCacheCode,a=this.getStorageCode(),s=o?{}:a.code||{},c=o?t.valLangue():a.langue||t.valLangue(),l=t.getLangueData();r.forEach(l,(function(t,e){var r=i.trim(s[e]||"");r=(r?s[e]:"")||t.code||t.tplCode,n[e]=r})),c&&t.valLangue(c,!0)},autoCacheCode:function(){var t=this;t.editor.on("changes",(function(){return t.cacheCode2Memory()}))},cacheCode2Memory:function(t,e){var n=this,i=n.parent,r=n._memoryCode=n._memoryCode||{};arguments.length<2&&(t=i.valLangue(),e=i.valCode());t&&(r[t]=e,n.cacheCode2Storage())},cacheCode2Storage:function(){var t=this.parent,e=t.rawConfig,n=this.getCacheId(e.runCode),i=this._memoryCode;if(e.noCacheCode)return n&&this.delStorageCode();if(n&&l&&i){this.delStorageCode(!0),a.create(c).set(n,{code:i,langue:t.valLangue()})}},delStorageCode:function(t){var e=this.parent.rawConfig,n=this.getCacheId(e.runCode);if(n&&l){if(l[n]="",l.removeItem(n),!t)a.create(c).remove(n)}},getMemoryCode:function(t){var e=this._memoryCode||{};return t&&e[t]||""},getStorageCode:function(){var t,e=this.parent.rawConfig,n=this.getCacheId(e.runCode);if(n){var i=a.create(c);!(t=i.get(n))&&l&&(t=r.json(l[n]))&&(i.set(n,t),l.removeItem(n))}return t||{}},getCacheId:function(t){if(!t)return;var e=t.questionId||[t.pid||"",t.tid||"",t.qid||""].join("_");if(e&&!/^_+$/.test(e))return e="NC_Code_Cache_"+e},restoreTpl:function(){var t=this.parent,e=t.valLangue(),n=(t.getLangueData()[e]||{}).tplCode||"";t.valCode(n),this.cacheCode2Memory(e,n)},restoreCode:function(){var t=this.parent,e=t.valLangue(),n=this.getMemoryCode(e);t.valCode(n)}})},687:function(t,e,n){var i=n(2),r=n(1),o=n(4),a=n(53),s=n(315),c=n(122),l={xcsrc:{keyword:"main;include;define;std;break;case;continue;default;do;else;for;goto;if;_Pragma;return;switch;while;catch;operator;try;throw;using;asm;__asm__;auto;bool;_Bool;char;_Complex;double;enum;float;_Imaginary;int;long;short;signed;struct;typedef;union;unsigned;void;class;wchar_t;template;char16_t;char32_t;const;extern;register;restrict;static;volatile;inline;private;protected;public;friend;explicit;virtual;export;mutable;typename;constexpr;new;delete;alignas;alignof;decltype;noexcept;thread_local;and;and_eq;bitand;bitor;compl;not;not_eq;or;or_eq;typeid;xor;xor_eqconst_cast;dynamic_cast;reinterpret_cast;static_cast;sizeof;namespace;NULL;true;false;TRUE;FALSE;nullptr",header:"cstdlib;csignal;cstdarg;typeinfo;bitset;functional;utility;ctime;cstddef;new;memory;climits;cfloat;limits;exception;stdexcept;cassert;cerrno;cctype;cwctype;cstring;cwchar;string;vector;deque;list;set;map;stack;queue;algorithm;iterator;cmath;complex;valarray;numeric;iosfwd;ios;istream;ostream;iostream;fstream;sstream;iomanip;streambuf;cstdio;locale;clocale",func:"isascii(int c)>int;isdigit(int c)>int;isspace(int c)>int;isupper(int c)>int;isxdigit(int c)>int;gcvt(double number, size_t ndigits, char *buf)>char*;toascii(int c)>int;tolower(int c)>int;toupper(int c)>int;getpagesize(void)>size_t;mmap(void *start, size_t length, int prot, int flags, int fd, off_t offsize)>void*;munmap(void *start, size_t length)>int;asctime(const struct tm * timeptr)>char*;ctime(const time_t *timep)>char*;gettimeofday(struct timeval * tv, struct timezone * tz)>int;tm *gmtime(const time_t *timep)>struct;tm *localtime(const time_t * timep)>struct;mktime(strcut tm * timeptr)>time_t;settimeofday(const struct timeval *tv, const struct timezone *tz)>int;time(time_t *t)>time_t;index(const char *s, int c)>char*;memccpy(void *dest, const void * src, int c, size_t n)>void*;memchr(const void *s, char c, size_t n)>void*;memcmp(const void *s1, const void *s2, size_t n)>int;rindex(const char *s, int c)>char*;strcasecmp(const char *s1, const char *s2)>int;strcpy(char *dest, const char *src)>char*;strdup(const char *s)>char*;strncasecmp(const char *s1, const char *s2, size_t n)>int;strtok(char *s, const char *delim)>char*;abs(int j)>int;asin(double x)>double;atan(double x)>double;atan2(double y, double x)>double;endgrent(void)>void;endpwent(void)>void;endutent(void)>void;getgrent(FILE * stream)>struct group*;fgetpwent(FILE * stream)>struct passwd*;getegid(void)>gid_t;geteuid(void)>uid_t;getgid(void)>gid_t;getgrent(void)>struct group*;getgrgid(gid_t gid)>struct group*;getgrnam(const char * name)>struct group*;getgroups(int size, gid_t list[])>int;getpw(uid_t uid, char *buf)>int;getpwent(void)>struct passwd*;getpwnam(const char * name)>struct passwd*;getpwuid(uid_t uid)>struct passwd*;getuid(void)>uid_t;getutent(void)>struct utmp*;getutid(strcut utmp *ut)>struct utmp*;getutline(struct utmp *ut)>struct utmp*;initgroups(const char *user, gid_t group)>int;pututline(struct utmp *ut)>void;seteuid(uid_t euid)>int;setfsgid(uid_t fsgid)>int;setfsuid(uid_t fsuid)>int;setgid(gid_t gid)>int;setgrent(void)>void;setgroups(size_t size, const gid_t * list)>int;setpwent(void)>void;setregid(gid_t rgid, gid_t egid)>int;setreuid(uid_t ruid, uid_t euid)>int;setuid(uid_t uid)>int;setutent(void)>void;utmpname(const char * file)>void;close(int fd)>int;creat(const char * pathname, mode_tmode)>int;dup(int oldfd)>int;dup2(int odlfd, int newfd)>int;flock(int fd, int operation)>int;fsync(int fd)>int;lseek(int fildes, off_t offset, int whence)>off_t;mkstemp(char * template)>int;read(int fd, void * buf, size_t count)>ssize_t;sync(void)>int;write(int fd, const void * buf, size_t count)>ssize_t;clearerr(FILE * stream)>void;fclose(FILE * stream)>int;fdopen(int fildes, const char * mode)>FILE*;feof(FILE * stream)>int;fflush(FILE* stream)>int;fgetc(FILE * stream)>int;fgets(char * s, int size, FILE * stream)>har*;fileno(FILE * stream)>int;fputc(int c, FILE * stream)>int;fputs(const char * s, FILE * stream)>int;fread(void * ptr, size_t size, size_t nmemb, FILE * stream)>size_t;freopen(const char * path, const char * mode, FILE * stream)>FILE*;fseek(FILE * stream, long offset, int whence)>int;ftell(FILE * stream)>long;fwrite(const void * ptr, size_t size, size_t nmemb, FILE * stream)>size_t;mktemp(char * template)>char*;setbuffer(FILE * stream, char * buf, size_t size)>void;setlinebuf(FILE * stream)>void;atexit(void (*function) (void))>int;execl(const char * path, const char * arg, ...)>int;execlp(const char * file, const char * arg, ...)>int;execv(const char * path, char * const argv[])>int;execve(const char * filename, char * const argv[], char * const envp[])>int;execvp(const char *file, char * const argv [])>int;exit(int status)>void;_exit(int status)>void;getpgid(pid_t pid)>pid_t;getpgrp(void)>pid_t;getpid(void)>pid_t;getppid(void)>pid_t;getpriority(int which, int who)>int;nice(int inc)>int;on_exit(void (* function) (int void*), void *arg)>int;setpgid(pid_t pid, pid_t pgid)>int;setpgrp(void)>int;setpriority(int which, int who, int prio)>int;system(const char * string)>int;wait(int * status)>pid_t;waitpid(pid_t pid, int * status, int options)>pid_t;fprintf(FILE * stream, const char * format, ...)>int;fscanf(FILE * stream, const char *format, ...)>int;scanf(const char * format, ...)>int;vfprintf(FILE *stream, const char * format, va_list ap)>int;vfscanf(FILE * stream, const char * format, va_list ap)>int;vprintf(const char * format, va_list ap)>int;vscanf(const char * format, va_list ap)>int;vsprintf(char * str, const char * format, va_list ap)>int;vsscanf(const char * str, const char * format, va_list ap)>int;access(const char * pathname, int mode)>int;alphasort(const struct dirent **a, const struct dirent **b)>int;chdir(const char * path)>int;chmod(const char * path, mode_t mode)>int;chown(const char * path, uid_t owner, gid_t group)>int;chroot(const char * path)>int;closedir(DIR *dir)>int;fchdir(int fd)>int;fchmod(int fildes, mode_t mode)>int;fchown(int fd, uid_t owner, gid_t group)>int;fstat(int fildes, struct stat *buf)>int;ftruncate(int fd, off_t length)>int;getcwd(char * buf, size_t size)>char*;link(const char * oldpath, const char * newpath)>int;lstat(const char * file_name, struct stat * buf)>int;opendir(const char * name)>DIR*;readdir(DIR * dir)>struct dirent*;readlink(const char * path, char * buf, size_t bufsiz)>int;rewinddir(DIR *dir)>void;seekdir(DIR * dir, off_t offset)>void;stat(const char * file_name, struct stat *buf)>int;symlink(const char * oldpath, const char * newpath)>int;telldir(DIR *dir)>off_t;truncate(const char * path, off_t length)>int;umask(mode_t mask)>mode_t;unlink(const char * pathname)>int;utime(const char * filename, struct utimbuf * buf)>int;utimes(char * filename, struct timeval *tvp)>int;alarm(unsigned int seconds)>unsigned int;kill(pid_t pid, int sig)>int;pause(void)>int;sigaddset(sigset_t *set, int signum)>int;sigdelset(sigset_t * set, int signum)>int;sigemptyset(sigset_t *set)>int;sigfillset(sigset_t * set)>int;sigismember(const sigset_t *set, int signum)>int;(*signal(int signum, void(* handler)(int)))(int)>void;sigpending(sigset_t *set)>int;sigprocmask(int how, const sigset_t *set, sigset_t * oldset)>int;sleep(unsigned int seconds)>unsigned int;ferror(FILE *stream)>int;strerror(int errnum)>char*;mkfifo(const char * pathname, mode_t mode)>int;pclose(FILE * stream)>int;popen(const char * command, const char * type)>FILE*;accept(int s, struct sockaddr * addr, int * addrlen)>int;bind(int sockfd, struct sockaddr * my_addr, int addrlen)>int;connect(int sockfd, struct sockaddr * serv_addr, int addrlen)>int;endprotoent(void)>void;endservent(void)>void;getsockopt(int s, int level, int optname, void* optval, socklen_t* optlen)>int;htonl(unsigned long int hostlong)>unsigned long int;htons(unsigned short int hostshort)>unsigned short int;inet_addr(const char *cp)>unsigned long int;inet_aton(const char * cp, struct in_addr *inp)>int;inet_ntoa(struct in_addr in)>char*;listen(int s, int backlog)>int;ntohl(unsigned long int netlong)>unsigned long int;ntohs(unsigned short int netshort)>unsigned short int;recv(int s, void *buf, int len, unsigned int flags)>int;recvfrom(int s, void *buf, int len, unsigned int flags, struct sockaddr *from,int *fromlen)>int;recvmsg(int s, struct msghdr *msg, unsigned int flags)>int;send(int s, const void * msg, int len, unsigned int falgs)>int;sendmsg(int s, const strcut msghdr *msg, unsigned int flags)>int;sendto(int s, const void * msg, int len, unsigned int flags, const struct&nbsp>sockaddr * to, int tolen);setprotoent(int stayopen)>void;setsockopt(int s, int level, int optname, const void * optval, ,socklen_toptlen)>int;shutdown(int s, int how)>int;socket(int domain, int type, int protocol)>int;getenv(const char *name)>char*;putenv(const char * string)>int;getopt(int argc, char * const argv[], const char * optstring)>int;isatty(int desc)>int;select(int n, fd_set * readfds, fd_set * writefds, fd_set * exceptfds, struct&nbsp>timeval * timeout);ttyname(int desc)>char*"},xjava:{keyword:"abstract;assert;boolean;break;byte;case;catch;char;class;const;continue;default;do;double;else;enum;extends;final;finally;float;for;goto;if;implements;import;instanceof;int;interface;long;native;new;package;private;protected;public;return;short;static;strictfp;super;switch;synchronized;this;throw;throws;transient;try;void;volatile;while",extra:"Enum;MONTH;WEEK_OF_MONTH;DECEMBER;OutputStream;ArrayList;String;Math;WEDNESDAY;NEGATIVE_INFINITY;LONG_STANDALONE;YEAR;WEEK_OF_YEAR;TreeSet;CASE_INSENSITIVE;SATURDAY;Vector;TYPE;LITERAL;LONG_FORMAT;in;SIZE;AM;DOTALL;Float;UNICODE_CASE;ERA;SortedMap;Byte;JULY;Object;DAY_OF_WEEK;Arrays;Map;DAY_OF_YEAR;Set;MAY;DAY_OF_MONTH;Matcher;E;FRIDAY;AM_PM;FEBRUARY;COMMENTS;Reader;MAX_VALUE;SortedSet;out;ZONE_OFFSET;StringWriter;UNDECIMBER;StringReader;Queue;MIN_EXPONENT;LONG;PrintWriter;JUNE;Pattern;err;Hashtable;Calendar;NOVEMBER;IOException;TreeMap;UNIX_LINES;StringBuffer;Runnable;MARCH;OutputStreamWriter;MILLISECOND;Writer;LinkedHashSet;BYTES;Comparable;THURSDAY;HashMap;NARROW_STANDALONE;DAY_OF_WEEK_IN_MONTH;NARROW_FORMAT;Comparator;FIELD_COUNT;Random;MINUTE;List;Collections;Short;HashSet;JANUARY;DST_OFFSET;EMPTY_MAP;SUNDAY;UNICODE_CHARACTER_CLASS;TUESDAY;CANON_EQ;SEPTEMBER;Double;LinkedList;Stack;POSITIVE_INFINITY;DATE;MAX_EXPONENT;ByteArrayInputStream;EMPTY_SET;Long;AUGUST;Collection;MULTILINE;CASE_INSENSITIVE_ORDER;Scanner;Dictionary;HOUR;ALL_STYLES;MatchResult;System;Number;MIN_NORMAL;HOUR_OF_DAY;Iterator;NaN;APRIL;PrintStream;SHORT_STANDALONE;InputStreamReader;OCTOBER;InputStream;Error;ByteArrayOutputStream;MIN_VALUE;Date;Exception;SHORT;Integer;MONDAY;EMPTY_LIST;PI;SECOND;PM;SHORT_FORMAT",header:"java.util.Collections;java.util.Comparator;java.util.Date;java.util.List;java.util.Locale;java.util.regex.Pattern;java.util.regex.Matcher;java.util.regex.MatchResult;java.io.BufferedOutputStream;java.io.BufferedInputStream;java.io.FileOutputStream;java.io.FileInputStream;java.io.StringReader;java.io.StringWriter;java.util.regex.Matcher;java.util.regex.MatchResult;java.util.Arrays;java.util.Collections;java.util.Arrays;java.util.ArrayList;java.util.Set;java.util.Map;java.util.HashMap;java.util.HashSet;java.util.Dictionary;java.util.Iterator;java.util.LinkedHashMap;java.util.LinkedHashSet;java.util.LinkedList;",method:"nextFloat;newSetFromMap;setSecurityManager;toUnsignedLong;asList;offer;unmodifiableCollection;quote;trim;disjoint;getSuppressed;getMonth;removeAllElements;getAvailableLocales;setTime;emptyEnumeration;printStackTrace;subMap;divideUnsigned;useDelimiter;concat;contains;size;toBinaryString;endsWith;listIterator;lowerKey;pollFirst;headMap;usePattern;emptySet;compare;roll;nextAfter;lineSeparator;setLenient;removeLast;appendCodePoint;search;nanoTime;setTimeZone;after;close;getenv;setMonth;synchronizedMap;set;toHexString;doubleToRawLongBits;getTimezoneOffset;abs;setTimeInMillis;floorDiv;toString;bitCount;toUnsignedString;hasNextBigDecimal;unmodifiableSortedSet;retainAll;byteValue;emptyIterator;navigableKeySet;higherEntry;longBitsToDouble;getLast;empty;compute;checkedNavigableSet;toMatchResult;getStackTrace;addSuppressed;getFirst;decrementExact;enumeration;add;list;ioException;setStackTrace;ulp;asLifoQueue;fillInStackTrace;reverseBytes;hasTransparentBounds;getTime;notifyAll;regionMatches;runFinalizersOnExit;locale;replaceAll;remove;random;tanh;emptyList;setHours;load;hashCode;elementAt;subSet;sin;end;gc;useRadix;hasNextBoolean;codePointCount;floorEntry;toIntExact;isEmpty;setFirstDayOfWeek;parse;subSequence;nextLong;hasNextShort;nextGaussian;parseByte;offerLast;print;insertElementAt;computeIfPresent;getFirstDayOfWeek;clone;asin;emptySortedSet;hasNextLong;append;charAt;numberOfTrailingZeros;deleteCharAt;copyOfRange;getWeekYear;headSet;codePointAt;setMinimalDaysInFirstWeek;containsValue;parseUnsignedLong;identityHashCode;sqrt;higherKey;setSeconds;toArray;parallelStream;findInLine;join;codePointBefore;write;compareToIgnoreCase;atan2;spliterator;lower;getTimeInMillis;regionEnd;hasNext;peekFirst;toDegrees;peekLast;ceil;doubleToLongBits;getExponent;ceilingKey;toGMTString;writeTo;exit;compareUnsigned;getDisplayName;setWeekDate;mapLibraryName;hasNextDouble;tailMap;synchronizedSortedMap;wait;ceilingEntry;getLocalizedMessage;intBitsToFloat;skip;notify;addLast;checkedMap;stream;parseShort;copyValueOf;comparingDouble;trimToSize;synchronizedSet;nextLine;max;getActualMinimum;getMessage;hasAnchoringBounds;peek;IEEEremainder;getLong;comparator;getSeconds;unmodifiableSortedMap;parseLong;equals;currentTimeMillis;setDate;nullsFirst;shuffle;rotate;getTimeZone;UTC;cos;expm1;offerFirst;compareTo;decode;setOut;floatToRawIntBits;nextUp;split;find;removeFirst;indexOf;emptyNavigableMap;read;comparingLong;entrySet;swap;getLeastMaximum;toLowerCase;sort;acos;fill;synchronizedNavigableSet;removeIf;lastIndexOfSubList;addElement;requireEnd;getBuffer;keys;getMaximum;delete;substring;parallelSort;parseDouble;getHours;println;setSize;putAll;nextBoolean;floor;keySet;console;getCalendarType;forEach;contentEquals;nextInt;toRadians;setYear;getDay;getMinutes;appendReplacement;lastEntry;removeElement;reversed;toCharArray;firstElement;setProperties;rint;setCharAt;iterator;removeAll;getWeeksInWeekYear;deepHashCode;merge;equalsIgnoreCase;exp;element;floorKey;tailSet;nextBigDecimal;synchronizedSortedSet;checkedCollection;getProperties;initCause;toUnsignedInt;addExact;lowerEntry;nextByte;log10;descendingIterator;replaceFirst;sum;checkError;pollLast;isFinite;pop;parseUnsignedInt;getDeclaringClass;min;thenComparing;isInfinite;setElementAt;ints;arraycopy;hypot;removeElementAt;pow;synchronizedList;checkedSet;getDisplayNames;subList;intern;unmodifiableNavigableMap;getChars;singletonList;parallelSetAll;nextDouble;radix;addAll;emptyListIterator;hasNextLine;incrementExact;comparingInt;addFirst;chars;ordinal;getOrDefault;emptyNavigableSet;thenComparingDouble;markSupported;log1p;available;indexOfSubList;run;isNaN;getCause;getBytes;frequency;compile;getActualMaximum;quoteReplacement;checkedSortedSet;singletonMap;nextShort;getMinimum;toUpperCase;shortValue;forEachRemaining;unmodifiableNavigableSet;removeLastOccurrence;codePoints;synchronizedNavigableMap;last;sinh;copyInto;floatValue;setMinutes;unmodifiableMap;numberOfLeadingZeros;pollLastEntry;getSecurityManager;firstKey;lastElement;name;ensureCapacity;region;toLocaleString;higher;next;thenComparingInt;computeIfAbsent;useTransparentBounds;descendingSet;synchronizedCollection;multiplyExact;binarySearch;toOctalString;printf;cbrt;flush;negateExact;lastKey;singleton;valueOf;start;nextDown;parseInt;lastIndexOf;appendTail;isWeekDateSupported;toByteArray;checkedQueue;getInstance;putIfAbsent;mark;useLocale;deepToString;copySign;put;getEncoding;floatToIntBits;delimiter;asPredicate;nextBigInteger;hasNextBigInteger;signum;isSet;doubleValue;matcher;matches;push;getYear;groupCount;doubles;setProperty;reset;hasNextInt;useAnchoringBounds;hitEnd;runFinalization;parseFloat;getMinimalDaysInFirstWeek;naturalOrder;parallelPrefix;log;reverseOrder;pattern;flags;rotateLeft;longValue;capacity;longs;remainderUnsigned;get;emptyMap;getDate;firstEntry;copy;hasNextByte;containsAll;copyOf;reverse;toInstant;checkedList;nCopies;elements;first;descendingKeySet;getClass;getAvailableCalendarTypes;before;replace;splitAsStream;getInteger;poll;atan;clearProperty;lookingAt;checkedSortedMap;checkedNavigableMap;inheritedChannel;from;group;tan;setErr;loadLibrary;setIn;deepEquals;containsKey;format;comparing;unmodifiableList;setLength;nullsLast;removeFirstOccurrence;setSeed;hasNextFloat;getGreatestMinimum;scalb;floorMod;isLenient;descendingMap;values;insert;findWithinHorizon;regionStart;nextBytes;pollFirstEntry;unmodifiableSet;ready;setAll;lowestOneBit;subtractExact;ceiling;getProperty;rotateRight;intValue;clear;match;cosh;emptySortedMap;thenComparingLong;round;highestOneBit;offsetByCodePoints;startsWith"},xpython:{keyword:"and;as;assert;break;class;continue;def;del;elif;else;except;exec;finally;for;from;global;if;import;in;is;lambda;not;or;pass;print;raise;return;try;while;with;yield"},xjs:{keyword:"break;case;catch;continue;default;delete;do;else;finally;for;function;if;in;instanceof;new;return;switch;this;throw;try;typeof;var;void;while;with;abstract;boolean;byte;char;class;const;debugger;double;enum;export;extends;final;float;goto;implements;import;int;interface;long;native;package;private;protected;public;short;static;super;synchronized;throws;transient;volatile"},xcsharp:{keyword:"abstract;as;base;bool;break;byte;case;catch;char;checked;class;const;continue;decimal;default;delegate;do;double;else;enum;ecent;explicit;extern;false;finally;fixed;float;for;foreach;get;goto;if;implicit;in;int;interface;internal;is;lock;long;namespace;new;null;object;out;override;partial;private;protected;public;readonly;ref;return;sbyte;sealed;set;short;sizeof;stackalloc;static;struct;switch;this;throw;true;try;typeof;uint;ulong;unchecked;unsafe;ushort;using;value;virtual;volatile;volatile;void;where;while;yield"},xphp:{keyword:"__halt_compiler;abstract;and;array;as;break;callable;case;catch;class;clone;const;continue;declare;default;die;do;echo;else;elseif;empty;enddeclare;endfor;endforeach;endif;endswitch;endwhile;eval;exit;extends;final;finally;for;foreach;function;global;goto;if;implements;include;include_once;instanceof;insteadof;interface;isset;list;namespace;new;or;print;private;protected;public;require;require_once;return;static;switch;throw;trait;try;unset;use;var;while;xor;yield"}},u=t.exports=o.create();r.extend(u.prototype,a,{codeIndex:1,lastHintList:null,currentHintList:null,initialize:function(t){var e=(this.parent=t.parent).rawConfig.codeHint;if(!{keyword:1,all:1}[e||""])return;this.editor=t.editor,this.useRemote="all"===e,this.initHint(),this.initEvent(),this.canUse=!0},initHint:function(){var t,e=this,n=e.editor;r.forEach({"text/x-csrc":"hintCSRC","text/x-c++hdr":"hintCSRC","text/x-c++src":"hintCSRC","text/x-java":"hintJava",python:"hintPython","text/x-python":"hintPython",javascript:"hintJs","text/javascript":"hintJs","text/x-csharp":"hintCSharp",php:"hintPhp","application/x-httpd-php":"hintPhp"},(function(t,n){window.CodeMirror.registerHelper("hint",n,e.wrapHint(e[t]))})),n.on("change",(function(n,i){var r=n.getValue(),o=t===r;if(t=r,!o){if(e.codeIndex++,!i||"+input"!==i.origin)return e.closeMenu();e.showHint()}}));var i=r.bind(e.getHintList,e);i.async=!0,r.extend(n.options.hintOptions,{hint:i})},initEvent:function(){var t=this;t.listen("codeHintClose",(function(){t.lastHintList=null})),t.listen("codeHintShown",(function(){}))},start:function(t){this.canUse=!1!==t},showHint:function(){if(!this.canHint())return;this.currentHintList=this.lastHintList,this.editor.showHint()},hintCSRC:function(t){return this.hintCommonAction(t,[".","->"],"xcsrc")},hintJava:function(t){return this.hintCommonAction(t,["."],"xjava")},hintPython:function(t){return this.hintCommonAction(t,null,"xpython")},hintJs:function(t){return this.hintCommonAction(t,null,"xjs")},hintCSharp:function(t){return this.hintCommonAction(t,null,"xcsharp")},hintPhp:function(t){return this.hintCommonAction(t,null,"xphp")},hintCommonAction:function(t,e,n){var o=this,a=o.getInfo()||{},s=a.token,c=a.cur;if(!s||!c)return t&&t();var l=s.string,u=[];if(e&&r.contains(e,l))return o.currentHintList=null,s.start=c.ch,s.end=c.ch,void o.server(s,c,(function(e){r.isArray(e)&&0!==e.length&&(r.forEach(e,(function(t){var e=t.name,n=i.trim(e.split("(")[0]),r=t.type,a=e.length>20?e.substr(0,20)+"...":e;u.push(o.wrapListItem({text:n,display:a,ext:r,method:!0}))})),t&&t(o.wrapResult(u,s,c)))}));if("xcsrc"===n&&/^#[^#]+$/.test(l)){var d=l.substr(s.start,c.ch-s.start);if(/^#[^#]+$/.test(d))if(/\s/g.test(d)){var f=d.split(/\s+/);if(2===f.length&&/^<[^<]+$/.test(f[1])){var p=d.indexOf(f[1]);l=f[1].replace(/</gi,""),s.start=p+1}}else l=d.replace("#",""),s.start+=1,/\s/.test(d)?s.end=d.indexOf(" "):s.end=Math.min(d.length,s.end)}if(o.hintHistory(l,s,c,t))return;var h=o.getHintData(n);r.forEach(["keyword","header","extra"],(function(t){r.forEach(h[t],(function(e){o.isStartWith(e,l)&&u.push(o.wrapListItem({text:e,display:e,ext:t}))}))})),r.forEach(h.method,(function(t){o.isStartWith(t,l)&&u.push(o.wrapListItem({text:t+"()",display:t,ext:"function"}))})),r.forEach(h.func,(function(t){o.isStartWith(t.text,l)&&u.push(o.wrapListItem({text:t.text,display:t.display,ext:t.type,method:!0}))}));var g=o.wrapResult(u,s,c);t&&t(g)},hintHistory:function(t,e,n,i){var o=this;if(!o.currentHintList)return!1;var a=r.filter(o.currentHintList.list,(function(e){return o.isStartWith(e.text,t)}));return i&&i(o.wrapResult(a,e,n)),!0},getHintList:function(t,e){var n=t.getCursor(),i=(t.getHelpers(n,"hint")||[])[0];if(i)return i&&i(e);var r=window.CodeMirror.hint.auto.resolve(t,n)(t);e&&e(r)},getSocket:function(t){var e=this;if(!s.isSupport||!e.useRemote)return;if(e.ws)return t&&t(e.ws);if(!e.ws){var n=e.ws=new s({url:"wss://101.37.169.225:9012/suggest"});n.listen("open",(function(){return t&&t(n)})),n.listen("error",(function(){e.ws=null,r.out("出现错误")})),n.listen("close",(function(){return e.ws=null})),n.listen("message",(function(t){var n=r.id(t.id),i=e.getSocketEventName(n);if(n!==r.id(e.codeIndex))return e.unlisten(i);e.fire(i,t.data)})),n.connect()}},getInfo:function(){if(!this.canHint())return;var t=this.editor,e=t.getCursor(),n=t.getTokenAt(e);return n.state=window.CodeMirror.innerMode(t.getMode(),n.state).state,{token:n,cur:e}},getHintData:function(t){var e=this._cacheHintData=this._cacheHintData||{};return e[t]||(e[t]={keyword:(l[t].keyword||"").split(";"),header:(l[t].header||"").split(";"),extra:(l[t].extra||"").split(";"),method:(l[t].method||"").split(";"),func:r.map((l[t].func||"").split(";"),(function(t){var e=t.split(">"),n=e.pop(),r=e.join(">");i.trim(r.split("(")[0]);return{display:r.length>50?r.substr(0,50)+"...":r,text:r,type:n}}))}),e[t]},getSocketEventName:function(t){return"NC_CODEMIRROR_CODE_HINT"+t},closeMenu:function(){var t=this.editor;try{t.state.completionActive&&t.state.completionActive.close()}catch(e){}},canHint:function(){var t=this.parent,e=this.editor,n=e.getCursor(),o=e.getTokenAt(n);if(!this.canUse)return;var a=r.id(t.valLangue()),s=c.getHintLang();if(!a||!r.contains(s,a))return;var l=o.type,u=o.string;if(/\b(?:string|comment)\b/.test(l))return;if(!i.trim(u))return;return!0},fireEditor:function(){var t=this,e=t.parent;t.fire.apply(t,arguments),e.fire.apply(e,arguments)},isStartWith:function(t,e){return 0===t.indexOf(e)},server:function(t,e,n){var i=this,r=i.parent,o=i.codeIndex;i.getSocket((function(t){if(t&&o===i.codeIndex){var a=i.getSocketEventName(o);i.one(a,n),t.clearSendList(),t.send({code:i.editor.getValue(),line:e.line+1,col:e.ch+1,lang:r.valLangue(),id:o})}}))},wrapListItem:function(t){return{text:t.text+(t.method,""),displayText:t.display,ext:t.ext,render:function(t,e,n){t.innerHTML=(n.ext?'<span style="float:right;margin-left:20px;">'+n.ext+"</span>":"")+n.displayText}}},wrapResult:function(t,e,n){var i=this,o=CodeMirror.Pos;return r.isArray(t)&&0!==t.length?{list:t,from:o(n.line,e.start),to:o(n.line,e.end),_handlers:{shown:[function(){i.fireEditor("codeHintShown")}],select:[function(){i.fireEditor("codeHintSelect")}],pick:[function(){i.fireEditor("codeHintPick")}],close:[function(){i.fireEditor("codeHintClose")}]}}:null},wrapHint:function(t){var e=this;return function(n){var i;return r.bind(t,e)((function(t){i=t,r.isFunction(n)&&(e.lastHintList=t,n(t))})),e.lastHintList=i,i}}})},688:function(t,e,n){var i=n(2),r=n(1),o=n(4),a=n(45),s=n(38),c=t.exports=o.create();r.extend(c.prototype,{initialize:function(t){this.editor=t.editor,this.parent=t.parent,this.initDb(),this.initSwitch()},initDb:function(){var t=this.db=a.create("codeEditorCache"),e=a.get("codeEditorHintStatus"),n=a.get("codeEditorTabSpaceStatus");e!==undefined&&null!==e&&(t.set("settingHint",e),a.remove("codeEditorHintStatus"));n!==undefined&&null!==n&&(t.set("settingTabSpace",n),a.remove("codeEditorTabSpaceStatus"))},initSwitch:function(){var t=i(['<div class="format-setting">','<a href="javascript:void(0);" class="icon-cog"></a>','<ul class="dropdown-menu js-switch"></ul>',"</div>"].join(""));this.getEl().append(t);var e=t.find(".js-switch");this.createHint(e),this.createTab(e),this.createSpaceCount(e)},createHint:function(t){var e=this.parent,n=e.rawConfig,i=this.db;if({keyword:1,all:1,lsp:1}[n.codeHint||""]){var r=i.get("settingHint");r=!(r!==undefined&&!r);var o=this.createSwitch(t,"代码自动补全",r);o.listen("change",(function(){return a(o.isChecked())})),a(r)}function a(t){i.set("settingHint",!!t),e.execPlugin("hint","start",!!t),e.execPlugin("codeHint","start",!!t)}},createTab:function(t){var e=this.parent,n=(e.rawConfig,e.getEl()),i=this.db,r=i.get("settingTabSpace");r=!(r!==undefined&&!r);var o=this.createSwitch(t,"空格tab提示",r);function a(t){i.set("settingTabSpace",!!t),n[t?"removeClass":"addClass"]("cm-nc-tab-space-close")}o.listen("change",(function(){return a(o.isChecked())})),a(r)},createSpaceCount:function(t){var e=this.parent,n=this.db,o=i(['<li style="width:180px;">','<div class="code-typography-item">','<span class="code-typography-txt">Tab长度</span>','<span class="code-typography-oprt"><a href="javascript:void(0);" class="typography-oprt js-space-action" data-type="-">-</a><span class="js-result">'+s()+'</span><a href="javascript:void(0);" class="typography-oprt js-space-action" data-type="+">+</span></span>',"</div>","</li>"].join("")),a=o.find(".js-result");function s(){return{2:2,4:4,8:8}[n.get("settingSpaceCount")]||4}t.append(o),o.on("click",".js-space-action",(function(t){var o=i(t.currentTarget),c=i.trim(o.attr("data-type")),l=s(),u=[2,4,8],d=r.indexOf(u,l)+("-"===c?-1:1),f=u[d=Math.min(Math.max(0,d),u.length-1)];a.html(f),f!==l&&(n.set("settingSpaceCount",f),e.editor.setOption("indentUnit",f))}))},createSwitch:function(t,e,n){var r=i('<li style="width:180px;"><a href="javascript:void(0);"></a></li>');return t.append(r),new s({renderTo:r.find("a"),text:e,checked:n})},getEl:function(){return this.parent.getEl().find(".js-head-tool")}})},689:function(t,e,n){n(2);var i=n(1),r=n(4),o=n(10),a=n(39),s=n(1548)["default"],c=t.exports=r.create();i.extend(c.prototype,{initialize:function(t){var e=t.parent.rawConfig||{};if(!e.supportSelfTest)return;this.editor=t.editor,this.parent=t.parent,this.systemCase=e.selfTestSystemCase||[],this.content=null,this.cacheTips={},this.initAction()},initAction:function(){var t=this,e=t.parent;e.getEl().on("click",".js-self-test",(function(){return t.enterTest()})),e.listen("resize",(function(){return t.resize()}))},val:function(){var t=this.content||{};return{inTest:!!t.isInTest,input:t.input||"",output:t.output||""}},enterTest:function(){var t=this,e=t.parent,n=e.getEl(),i=e.rawConfig,r=t.cacheTips;if(t.isInTest)return;if(!t.content){var c=document.createElement("div");n.append(c),t.content=new(o.extend(s))({el:c,propsData:{isMain:i.selfTestIsMain,getMainTips:function(t){var n=i.runCode||{},o=n.qid||n.questionId,s=e.valLangue(),c="".concat(o,"|").concat(s);if(r[c])return t.call&&t.call(r[c]);i.selfTestGetMainTips?i.selfTestGetMainTips({call:function(e){r[c]=e,t.call&&t.call(e)},error:t.error}):a.codeGetMainTips({query:{qid:o,language:s},call:function(e){r[c]=e.data,t.call&&t.call(e.data)},error:function(e){return t.error&&t.error(e)}})},selfTestWarning:i.selfTestWarning,systemCase:t.systemCase,noSelfTestTreeViewHref:i.noSelfTestTreeViewHref}}),t.content.$on("exist",(function(){return t.exitTest()}))}t.content.isInTest=!0,t.resize(),e.fire("enterSelfTest")},exitTest:function(){var t=this.parent,e=!!(this.content||{}).isInTest;(this.content||{}).isInTest=!1,e&&t.fire("exitSelfTest")},resize:function(){this.content&&this.content.resize()},fillCase:function(t){var e=this.systemCase[t],n=this.content;if(!e||!n)return;n.input=e.input||"",n.output=e.output||""}})},690:function(t,e,n){"use strict";var i=n(368);n.n(i).a},691:function(t,e,n){var i=n(2),r=n(7),o=n(29),a=n(4),s=n(80),c=n(17),l=n(39),u=n(3),d=t.exports=a.create();a.mix(d,r,{_template:['<div class="">','<div class="subject-upload">','<div class="subject-upload-inner">','<span class="js-upload-wrap"><a class="btn-upload2 js-upload-btn" href="javascript:void(0);"></a></span>','<a class="btn-upload2 js-upload-btn-bak" style="display:none;" href="javascript:void(0);"></a>','<span class="subject-upload-text">#{desc}</span>',"</div>",'<div class="subject-upload-inner js-upload-progress" style="display:none;"></div>',"</div>",'<div class="subject-info" style="display:none;">','<div class="alert alert-danger js-run-info"></div>',"</div>",'<div class="subject-action clearfix">','<div class="subject-next">','<a href="javascript:void(0);" class="js-submit-code btn btn-primary" style="width:150px;">#{runTxt}</a>',"</div>","</div>","</div>"].join(""),listeners:[{name:"render",type:"custom",handler:function(){var t=this.getEl();this.uploadFile=null,this.uploadFileId=[],this.progressEl=t.find("div.js-upload-progress"),this.runInfoEl=t.find("div.js-run-info"),this.initUpload()}},{name:"click .js-submit-code",handler:function(t){this.runCode(t)}},{name:"click .js-upload-btn-bak",handler:function(){u.alert("正在判题中，判题完成后才能再次提交")}}]},{initialize:function(t){this.fileReset=!1},initUpload:function(){var t=this,e=t.rawConfig,n=t.getEl();t.upload=new s({target:t,holderEl:n.find("a.js-upload-btn"),type:c.uploadType.data,fileType:e.fileType||"*.txt",fileSizeLimit:e.fileSize||5,fileQueueLimit:1,btn:{image:"//uploadfiles.nowcoder.com/images/20170720/56_1500535196899_0D6F0B229817E61B74168FFDD350D585",width:150,height:45},uploadSuccess:function(e,i){t.uploadFile=i,t.fileReset=!0,n.find("span.subject-upload-text").html("已上传"+i.fileName+"("+i.fileSize+")"),t.runInfoEl.parent().hide()}})},runCode:function(t){var e=this,n=e.uploadFile,r=e.rawConfig,a=i(t.currentTarget);if(!n)return void u.alert("请先提交文件");if(e.isRuning)return void u.alert("正在判题中");if(!e.fileReset)return void u.alert("请不要重复提交运行同一文件");if(o.mark(a))return;function s(){e.hideUpload(!1),e.isRuning=!1,o.clear(a)}e.fileReset=!1,e.isRuning=!0,e.hideUpload(),e.showMemo("正在提交文件...","info","submit"),l.codeDmRun({body:{qid:r.qid,url:n.url},call:function(t){e.runTimer&&window.clearTimeout(e.runTimer),e.showMemo("正在判题...","info","status"),e.runTimer=setTimeout((function(){var n=arguments.callee;l.codeDmStatus({query:{submissionId:t.submissionId},call:function(t){var i=(t=t||{}).status,r=t.desc,o=t.memo;if(5===i){var a=r+"\n";if(t.needDownload){var c=t.downloadMemoName?t.downloadMemoName:"";a+='<div><a class="link-green" target="_blank" href="/downloadDataMingMemo?submissionId='+t.submissionId+"&filename="+c+'">点击下载结果</a></div>'}else t.isComplete?a+=o:(a+=o,a+='<div><a class="link-green" target="_blank" href="/completeDataMiningSubmissionInfo?submissionId='+t.submissionId+'">查看全部</a></div>');e.showMemo(a,"info","complete"),e.runTimer=null,s()}else if(0===i||23===i||19===i||100===i)e.runTimer=setTimeout(n,1e3),e.showMemo("正在判题...\n"+(r||"")+"\n"+(o||""),"info","wait");else{a=(r||"")+"\n"+(o||"");e.showMemo(a,"","complete"),e.runTimer=null,s()}},error:function(t){e.showMemo(t.msg||"出现错误，请重试","","error"),s()}})}),1e3)},error:function(t){e.showMemo(t.msg||"出现错误，请重试","","error"),s()}})},showMemo:function(t,e,n){var i=this.rawConfig,r=this.runInfoEl,o="info"===e?"alert-danger":"alert-info",a="info"===e?"alert-info":"alert-danger";r.removeClass(o).addClass(a),i.fixMemo&&(t=i.fixMemo(t,e)||t),r.html(t.replace(/\n/g,"<br />")).show(),r.parent().show()},hideUpload:function(t){var e=i(".js-upload-btn-bak"),n=i(".js-upload-wrap");!1===t?(e.hide(),n.css("position","static"),n.css("top",0)):(n.css("position","absolute"),n.css("top","-100000px"),e.show())},_getData:function(){var t=this.rawConfig;return{desc:t.desc||"上传数据结果文件，格式仅限txt文件",runTxt:t.runTxt||"运行"}}})},692:function(t,e,n){var i=n(218),r=n(2),o=n(1),a=n(7),s=n(4),c=n(8),l=n(9),u=n(122),d=n(314),f=n(3),p=n(17),h=n(39),g=n(510),v=n(297),m=t.exports=s.create();s.mix(m,a,{_template:['<div class="code-editor-wrap">','<div class="code-editor-head clearfix js-header">',"#{languageStr}","#{previewStr}","#{pluginStr}","</div>",'<div class="code-font js-container">','<div class="code-font js-editor" style="display:inline-block;"></div>','<div class="js-iframe-container" style="display:none;background:#fff;border:1px solid #272822;border-top:none;position:relative;">','<a href="javascript:void(0);" class="self-test-close js-close-preview" style="position:absolute;right:0;top:0;"></a>','<iframe class="js-iframe" style="width:100%;height:100%;" frameborder="0" hidefocus="true"></iframe>',"</div>","</div>","</div>"].join(""),listeners:[{name:"render",type:"custom",handler:function(){var t=this,e=t.rawConfig,n=t.getEl();t.initPlugin((function(){t.editorEl=n.find(".js-editor"),t.iframeBak=n.find(".js-iframe").get(0).cloneNode(),t.initEditor(),a.setEvents(),t.initTab(),t.changeMode(),t.initAutoSize(),e.openPreview&&t.showPreview()}))}},{name:"click .js-go-preview",handler:function(t){this.showPreview(!this.isInPreview)}},{name:"click .js-close-preview",handler:function(){this.showPreview(!1)}}],loadDep:function(t){i.codemirror({call:function(){return t&&t()}})}},{initialize:function(t){this._fixConf(t),this.initData(t),this.pluginSelected=[],this.isInPreview=!1,this.codeSubmit=new d},initData:function(t){var e=this;e.languageSelected="",e.codeMap={html:"",css:"",javascript:""},o.forEach(t.languages,(function(t){var n=t.text;t.checked&&(e.languageSelected=n),e.codeMap[n]=t.code||""}))},initPlugin:function(t){return t&&t()},initEditor:function(){var t=this;t.editor=CodeMirror(t.editorEl.get(0),{theme:"monokai",indentUnit:4,lineNumbers:!0,mode:"text/javascript",matchBrackets:!0,autoCloseBrackets:!0,extraKeys:{Tab:function(t){var e=t.somethingSelected();e&&t.indentSelection("add"),!e&&t.replaceSelection("    ","end","+input")},"Ctrl-S":function(){return t.fire("pressCtrlS")},"Cmd-S":function(){return t.fire("pressCtrlS")}}})},initTab:function(){var t,e=this,n=e.rawConfig,i=e.getEl().find("ul.js-tabs li"),a=i.find(".js-refresh-code");c.tab({el:i,change:function(t){var n=r(t.currentTarget),i=n.attr("data-language");e.codeMap[e.languageSelected]=e.getValue();var o=e.languageSelected===i;e.languageSelected=i,o||(e.changeMode(),a.hide(),n.find(".js-refresh-code").css("display","inline-block"))}}),a.on("click",(function(t){var i=r(t.currentTarget).closest("li").attr("data-language"),a=o.find(n.languages,(function(t){return t.text===i}));a&&f.confirm("刷新后"+i+"代码框将重置为初始状态，正在编辑的代码将清空，但不会影响已提交的代码，确定刷新吗？",(function(){e.codeMap[i]=a.code||"",e.languageSelected=i,e.changeMode()}))})),e.editor.on("changes",(function(){e.codeMap[e.languageSelected]=e.getValue(),window.clearTimeout(t),t=window.setTimeout((function(){return e.updatePreview()}),500)}))},initAutoSize:function(){var t=this,e=t.rawConfig,n=t.getEl();t.height=n.height(),t.toolbarHeight=n.find("div.js-header").outerHeight(),!e.noAutoSize&&t.editor.on("changes",(function(){return t.autoSize()})),t.autoSize()},bindIframe:function(){var t=this,e=t._bindIframeCb=t._bindIframeCb||{},n=t.getEl(".js-iframe").get(0),i=n.contentDocument||n.contentWindow.document,r=i.parentWindow||i.defaultView;function o(t,n,i){var r=t.addEventListener;t.removeEventListener&&e[n]&&t.removeEventListener(n,e[n]),e[n]=i,r&&t.addEventListener(n,i,!1),!r&&t.attachEvent&&t.attachEvent("on"+n,i)}o(r,"focus",(function(){return t.fire("afterFocusIframe")})),o(r,"blur",(function(){return t.fire("afterBlurIframe")})),o(i,"click",(function(){return t.fire("afterFocusIframe")}))},showPreview:function(t){var e=this.rawConfig,n=this.getEl(),i=n.find("div.js-iframe-container"),r=n.find(".js-go-preview");r.length>0&&(t=!1!==t,this.isInPreview=t,r.html(t?"收起":"预览"),r.removeClass(t?"ico-review-code":"ico-unfold-review").addClass(t?"ico-unfold-review":"ico-review-code"),i.css("display",t?"inline-block":"none"),this.updatePreview(),this[e.noAutoSize?"resize":"autoSize"]())},updatePreview:function(t){var e=this.rawConfig;if(!this.isInPreview)return;var n=this.codeMap,i=e.noTemplate?n.html:l.execTpl(["<!DOCTYPE html>","<html>","<head>",'<meta charset="utf-8">',"<title>nowcoder preview</title>","<style>#{css}</style>","</head>","<body>","#{html}","</body>","<script>#{javascript}<\/script>","</html>"].join(""),{css:n.css,html:n.html,javascript:"try {\n"+(n.javascript||"")+"\n} catch(e) {}"});if(this.lastPreviewHtml===i&&!t)return;this.lastPreviewHtml=i;var o,a=this.getEl().find(".js-iframe").get(0);try{o=a.contentDocument||a.contentWindow.document}catch(c){var s=this.iframeBak.cloneNode();r(a).replaceWith(s),o=(a=s).contentDocument||a.contentWindow.document}o.open("text/html","replace"),o.write(i),o.close(),this.bindIframe()},changeMode:function(t){var e=this.editor,n={html:{plugin:"htmlmixed",name:"text/html"},javascript:{plugin:"javascript",name:"text/javascript"},css:{plugin:"css",name:"text/css"}}[t=t||this.languageSelected];if(n){e.setOption("mode",{name:n.name});var i=this.codeMap[t];e.setValue(i),this.rawConfig.forceUpdatePreview&&this.updatePreview(!0)}},valLangue:function(){return u.langFE},valCode:function(){return this.getJsonStr()},getValue:function(){return this.editor.getValue()},getJsonStr:function(){var t=this.rawConfig.plugins,e=this.codeMap;e[this.languageSelected]=this.getValue();var n={css:e.css,js:e.javascript,html:e.html,libs:[]};return o.forEach(this.pluginSelected,(function(e){var i=t[e];i&&i.value&&n.libs.push(i.value)})),JSON.stringify(n)},resize:function(t,e){var n=this.getEl(),i=n.find(".js-header"),r=n.find(".js-container"),a=n.find(".js-editor"),s=n.find(".js-iframe-container"),c=(n.find(".js-iframe"),!!this.isInPreview);o.id(t)&&n.outerWidth(t),o.id(e)&&n.outerHeight(e),t=n.width(),e=n.height()-i.outerHeight(),r.outerWidth(t),r.outerHeight(e),t=r.width(),e=r.height(),a.outerWidth(c?t/2:t).outerHeight(e),s.outerWidth(c?t/2:t).outerHeight(e),this.editor.setSize("100%",a.height())},autoSize:function(){if(this.rawConfig.noAutoSize)return;try{this._editorScrollEl=this._editorScrollEl||r(this.editor.getScrollerElement()),this._editorSizerEl=this._editorSizerEl||this._editorScrollEl.find("div.CodeMirror-sizer");var t=window.parseInt(this._editorSizerEl.css("min-height")||this._editorSizerEl.height(),10);t=Math.max(this.height,t+this.toolbarHeight),this.resize("100%",t)}catch(e){}},runCode:function(t){t=t||{};var e=this,n=(i=e.rawConfig).runCode;if(e.getJsonStr().length>1e5)return!t.isQuiet&&f.alert("啊，代码不要这么长嘛，人家受不了了~");var i=e.rawConfig,r=!!(n=i.runCode||{}).questionId,o=i.getUrlSubmitCode?i.getUrlSubmitCode(r):"",a=i.getUrlGetCodeStatus?i.getUrlGetCodeStatus(r):"";e.codeSubmit[r?"submitSelfCode":"submitTestCode"]({urlSubmitCode:o||h[r?"codeSubmitUrl":"codeRunUrl"](),urlGetCodeStatus:a||h.codeStatusUrl(),data:{pid:n.pid,tid:n.tid,qid:n.qid,questionId:n.questionId,content:e.getJsonStr(),language:u.langFE},extCodeParam:i.runExtParam,extStatusParam:i.statusExtParam,feedback:function(t,n){e.showResult(t,n)},cbGetCaptcha:function(t){g.show({type:p.captcha.runCode,url:i.captchaUrl,call:t,cancel:t})},cbGetCaptchaError:function(t){e.fire("runCodeError",t)},cbSubmitCodeBefore:function(t){e.fire("beforeRunCode")},cbSubmitCodeComplete:function(t){e.fire("runCodeSubmit",t)},cbSubmitCodeError:function(t){e.fire("runCodeError",t)},cbStatusCodeBefore:function(){e.fire("beforeReqStatus")},cbStatusCodeSuccess:function(t){e.fire("runCodeSuccess",t),e.fire("runCodeFinish",t)},cbStatusCodeFail:function(t){e.fire("runCodeDanger",t),e.fire("runCodeFinish",t)},cbStatusCodeError:function(t){e.fire("runCodeError",t)}})},showResult:function(t,e){var n=this.rawConfig.tipEl;if(!t||!r.trim(t))return n.html(""),void n.parent().hide();n.removeClass(e?"alert-info":"alert-danger").addClass(e?"alert-danger":"alert-info"),n.html(t.replace(/\n/g,"<br />")).show(),n.parent().show()},resetCode:function(t){var e=this.rawConfig,n=this.getEl(),i=this.codeMap;i.html=t.html,i.css=t.css,i.javascript=t.js;var a=[],s=n.find(".js-header ul.dropdown-menu li label.checkbox"),c=o.toMap(t.libs,(function(t){return{key:t,value:!0}}));o.forEach(e.plugins,(function(t,e){var n=!!c[t.value];t.checked=n,n&&a.push(e),r(s[e])[n?"addClass":"removeClass"]("checked")})),this.pluginSelected=a,this.showPreview(!!this.isInPreview),this.changeMode()},isCodeEdit:function(){var t=this.rawConfig||{},e=o.json(this.getJsonStr(),{}),n=o.toMap(t.languages,(function(t){return{key:t.text,value:t.code||""}}));return(e.html||"")!==(n.html||"")||(e.css||"")!==(n.css||"")||(e.js||"")!==(n.javascript||"")},_getData:function(t){return{languageStr:this._getTabStr(),previewStr:this._getPreviewStr(),pluginStr:this._getPluginStr()}},_getTabStr:function(){var t=this.rawConfig,e='<ul class="edit-tabs js-tabs clearfix">',n={};return o.forEach(t.languages,(function(t){n[t.text]=!0,e+=l.execTpl(['<li data-language="#{text}" class="edit-tab-item #{cls}">','<a href="javascript:void(0);" class="edit-tab-value">#{text}</a>','<a href="javascript:void(0);" class="ico-fresh js-refresh-code" title="还原模板代码" style="#{style}"></a>',"</li>"].join(""),{text:t.text,cls:t.checked?"selected":"",style:t.checked?"":"display:none;"})})),e+="</ul>"},_getPreviewStr:function(){var t=this.rawConfig;return o.find(t.languages,(function(t){return{html:1,css:1}[t.text]}))?'<a href="javascript:void(0);" class="ico-review-code js-go-preview">预览</a>':""},_getPluginStr:function(){var t=this,e=t.rawConfig,n=e.plugins=e.plugins||[p.FELib[1],p.FELib[2]];if(0===n.length)return"";var i=new v({text:"前端插件",size:"small",cls:"fixed-right",options:n,clickItemNoHide:!0,listeners:{render:function(){this.getEl().find(".dropdown-toggle").css("paddingTop",5).css("paddingBottom",5)}}});return i._renderOptions=function(){if(!this.menuRendered){var e=this.getEl(),n=o.map(this.rawConfig.options,(function(e,n){return e.checked&&t.pluginSelected.push(n),l.execTpl('<li><label class="checkbox #{cls}"><span class="icons"></span> <input type="checkbox" /> #{text}</label></li>',{cls:e.checked?"checked":"",text:e.text})})).join("");e.find("ul.dropdown-menu").html(n),this.menuRendered=!0}},i.select=function(e){var n=this.rawConfig.options;if((e=o.id(e))&&!(+e>=n.length)){e=+e;var i=t.pluginSelected,a=!o.contains(i,e);if(a&&i.push(e),!a&&(i=o.without(i,e)),t.pluginSelected=i,this.menuRendered)return o.forEach(this.itemElList,(function(t,e){return r(t).find("label.checkbox")[o.contains(i,e)?"addClass":"removeClass"]("checked")}));n[e].checked=!a}},i.html()},_fixConf:function(t){var e=o.json(t.supportLang,{}),n=e.input||[],i=e.libs;(function(){if(n.length>0){var e=o.toMap(t.languages,(function(t){return{key:t.text,value:t}})),i=o.map(n,(function(t){var n=p.FEInput[t];return e[n]||{text:n}}));t.languages=i}})(),function(){var e=["html","css","javascript"],n={},i=!1,r=!1;o.forEach(t.languages,(function(t){o.contains(e,t.text)&&(i=!0,r=r||!!t.checked,n[t.text]=t)})),i||(n=o.toMap(e,(function(t){return{key:t,value:{text:t,checked:"javascript"===t}}})));var a=[];o.forEach(e,(function(t){var e=n[t];e&&(!r&&(e.checked=!0),a.push(e),r=!0)})),t.languages=a}(),function(){if(i){var e=[];o.forEach(i,(function(t){return p.FELib[t]&&e.push(p.FELib[t])})),t.plugins=e}}()}})},693:function(t,e,n){var i=n(2),r=n(7),o=n(29),a=n(4),s=n(1),c=n(80),l=n(17),u=n(39),d=n(3),f=t.exports=a.create();a.mix(f,r,{_template:['<div class="">','<div class="subject-upload">','<div class="subject-upload-inner">','<span class="js-upload-wrap"><a class="btn-upload2 js-upload-btn" href="javascript:void(0);"></a></span>','<a class="btn-upload2 js-upload-btn-bak" style="display:none;" href="javascript:void(0);"></a>','<span class="subject-upload-text">上传数据结果文件,仅限 5M 以内的 jar 文件</span>',"</div>",'<div class="subject-upload-inner js-upload-progress" style="display:none;"></div>',"</div>",'<div class="subject-info" style="display:none;">','<div class="alert alert-danger js-run-info"></div>',"</div>",'<div class="subject-action clearfix">','<div class="subject-next">','<a href="javascript:void(0);" class="js-submit-code btn btn-primary">运行</a>',"</div>","</div>","</div>"].join(""),listeners:[{name:"render",type:"custom",handler:function(){var t=this.getEl();this.uploadFile=null,this.uploadFileId=[],this.progressEl=t.find("div.js-upload-progress"),this.runInfoEl=t.find("div.js-run-info"),this.initUpload()}},{name:"click .js-submit-code",handler:function(t){this.runCode(t)}},{name:"click .js-upload-btn-bak",handler:function(){d.alert("正在判题中，判题完成后才能再次提交")}}]},{initialize:function(t){this.fileReset=!1},initUpload:function(){var t=this,e=t.getEl();t.upload=new c({target:t,holderEl:e.find("a.js-upload-btn"),type:l.uploadType.data,fileType:"*.jar",fileSizeLimit:5,fileQueueLimit:1,btn:{image:"//uploadfiles.nowcoder.com/images/20170720/56_1500535196899_0D6F0B229817E61B74168FFDD350D585",width:150,height:45},uploadSuccess:function(n,i){t.uploadFile=i,t.fileReset=!0,e.find("span.subject-upload-text").html("已上传"+i.fileName+"("+i.fileSize+")"),t.runInfoEl.parent().hide()}})},runCode:function(t){var e=this,n=e.uploadFile,r=e.rawConfig,a=i(t.currentTarget);if(!n)return void d.alert("请先提交文件");if(e.isRuning)return void d.alert("正在判题中");if(!e.fileReset)return void d.alert("请不要重复提交运行同一文件");if(o.mark(a))return;function c(){e.hideUpload(!1),e.isRuning=!1,o.clear(a)}e.fileReset=!1,e.isRuning=!0,e.hideUpload(),e.showMemo("正在提交文件...","info"),u.codeBigDataRun({body:{qid:r.qid,url:n.url},call:function(t){e.runTimer&&window.clearTimeout(e.runTimer),e.showMemo("正在判题...","info");var n=0;e.runTimer=setTimeout((function(){var i=arguments.callee;u.codeBigDataStatus({query:{submissionId:t.submissionId},call:function(t){var r=t.data||{};if(3===r.status){var o="判题完成\n"+r.memo,a=r.outputUrl;a&&a.length>0&&(o+="\n\n",s.forEach(a,(function(t,e){o+='<a href="'+t+'" target="_blank">点击下载输出结果'+(a.length>1?e+1:"")+"</a>\n"}))),e.showMemo(o,"info"),e.runTimer=null,c()}else e.runTimer=setTimeout(i,1e3),e.showMemo(0===n?"正在选择计算资源...":"正在判题...\n"+(r.memo||""),"info"),n++},error:function(){e.showMemo("出现错误，请重试"),c()}})}),1e3)},error:function(t){e.showMemo("出现错误，请重试"),c()}})},showMemo:function(t,e){var n=this.runInfoEl,i="info"===e?"alert-danger":"alert-info",r="info"===e?"alert-info":"alert-danger";n.removeClass(i).addClass(r),n.html(t.replace(/\n/g,"<br />")).show(),n.parent().show()},hideUpload:function(t){!1===t?(i(".js-upload-btn-bak").hide(),i(".js-upload-wrap").css({position:"static",top:0})):(i(".js-upload-wrap").css({position:"absolute",top:"-100000px"}),i(".js-upload-btn-bak").show())}})},694:function(t,e,n){t.exports=n(28)(37)},695:function(t,e,n){(function(i){var r,o=n(37);!function(i){"use strict";var a={newline:/^\n+/,code:/^( {4}[^\n]+\n*)+/,mathblock:/^ *(?:\$\$([\w\W]+?)\$\$)/,fences:/^ {0,3}(`{3,}|~{3,})([^`~\n]*)\n(?:|([\s\S]*?)\n)(?: {0,3}\1[~`]* *(?:\n+|$)|$)/,hr:/^ {0,3}((?:- *){3,}|(?:_ *){3,}|(?:\* *){3,})(?:\n+|$)/,heading:/^ {0,3}(#{1,6}) *([^\n]*?)(?: +#+)? *(?:\n+|$)/,blockquote:/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/,list:/^( {0,3})(bull) [\s\S]+?(?:hr|def|\n{2,}(?! )(?!\1bull )\n*|\s*$)/,html:"^ {0,3}(?:<(script|pre|style)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?\\?>\\n*|<![A-Z][\\s\\S]*?>\\n*|<!\\[CDATA\\[[\\s\\S]*?\\]\\]>\\n*|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:\\n{2,}|$)|<(?!script|pre|style)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:\\n{2,}|$)|</(?!script|pre|style)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:\\n{2,}|$))",def:/^ {0,3}\[(label)\]: *\n? *<?([^\s>]+)>?(?:(?: +\n? *| *\n *)(title))? *(?:\n+|$)/,nptable:b,table:b,lheading:/^([^\n]+)\n {0,3}(=+|-+) *(?:\n+|$)/,_paragraph:/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html)[^\n]+)*)/,text:/^[^\n]+/};function s(t){this.tokens=[],this.tokens.links=Object.create(null),this.options=t||_.defaults,this.rules=a.normal,this.options.pedantic?this.rules=a.pedantic:this.options.gfm&&(this.rules=a.gfm)}a._label=/(?!\s*\])(?:\\[\[\]]|[^\[\]])+/,a._title=/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/,a.def=v(a.def).replace("label",a._label).replace("title",a._title).getRegex(),a.bullet=/(?:[*+-]|\d{1,9}\.)/,a.item=/^( *)(bull) ?[^\n]*(?:\n(?!\1bull ?)[^\n]*)*/,a.item=v(a.item,"gm").replace(/bull/g,a.bullet).getRegex(),a.list=v(a.list).replace(/bull/g,a.bullet).replace("hr","\\n+(?=\\1?(?:(?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$))").replace("def","\\n+(?="+a.def.source+")").getRegex(),a._tag="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",a._comment=/<!--(?!-?>)[\s\S]*?-->/,a.html=v(a.html,"i").replace("comment",a._comment).replace("tag",a._tag).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),a.paragraph=v(a._paragraph).replace("hr",a.hr).replace("heading"," {0,3}#{1,6} +").replace("|lheading","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}|~{3,})[^`\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|!--)").replace("tag",a._tag).getRegex(),a.blockquote=v(a.blockquote).replace("paragraph",a.paragraph).getRegex(),a.normal=x({},a),a.gfm=x({},a.normal,{nptable:/^ *([^|\n ].*\|.*)\n *([-:]+ *\|[-| :]*)(?:\n((?:.*[^>\n ].*(?:\n|$))*)\n*|$)/,table:/^ *\|(.+)\n *\|?( *[-:]+[-| :]*)(?:\n((?: *[^>\n ].*(?:\n|$))*)\n*|$)/}),a.pedantic=x({},a.normal,{html:v("^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:\"[^\"]*\"|'[^']*'|\\s[^'\"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))").replace("comment",a._comment).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^ *(#{1,6}) *([^\n]+?) *(?:#+ *)?(?:\n+|$)/,fences:b,paragraph:v(a.normal._paragraph).replace("hr",a.hr).replace("heading"," *#{1,6} *[^\n]").replace("lheading",a.lheading).replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").getRegex()}),s.rules=a,s.lex=function(t,e){return new s(e).lex(t)},s.prototype.lex=function(t){return t=t.replace(/\r\n|\r/g,"\n").replace(/\t/g,"    ").replace(/\u00a0/g," ").replace(/\u2424/g,"\n"),this.token(t,!0)},s.prototype.token=function(t,e,n){var i,r,o,s,c,l,u,d,f,p,g,v,m,w,y,b;t=t.replace(/^ +$/gm,"");for(var x=n?0:1,S=x;t;)if(S=x,(o=this.rules.newline.exec(t))&&(t=t.substring(o[0].length),o[0].length>1&&(x+=_(o[0]),this.tokens.push({type:"space",line:S}),S=x)),o=this.rules.mathblock.exec(t))t=t.substring(o[0].length),x+=_(o[0]),this.tokens.push({type:"mathblock",text:o[1],line:S});else if(o=this.rules.code.exec(t)){var E=this.tokens[this.tokens.length-1];t=t.substring(o[0].length),x+=_(o[0]),E&&"paragraph"===E.type?E.text+="\n"+o[0].trimRight():(o=o[0].replace(/^ {4}/gm,""),this.tokens.push({type:"code",codeBlockStyle:"indented",text:this.options.pedantic?o:k(o,"\n"),line:S}))}else if(o=this.rules.fences.exec(t))t=t.substring(o[0].length),x+=_(o[0]),this.tokens.push({type:"code",lang:o[2]?o[2].trim():o[2],text:o[3]||"",line:S});else if(o=this.rules.heading.exec(t))t=t.substring(o[0].length),x+=_(o[0]),this.tokens.push({type:"heading",depth:o[1].length,text:o[2],line:S});else if((o=this.rules.nptable.exec(t))&&(l={type:"table",header:C(o[1].replace(/^ *| *\| *$/g,"")),align:o[2].replace(/^ *|\| *$/g,"").split(/ *\| */),cells:o[3]?o[3].replace(/\n$/,"").split("\n"):[]}).header.length===l.align.length){for(t=t.substring(o[0].length),x+=_(o[0]),g=0;g<l.align.length;g++)/^ *-+: *$/.test(l.align[g])?l.align[g]="right":/^ *:-+: *$/.test(l.align[g])?l.align[g]="center":/^ *:-+ *$/.test(l.align[g])?l.align[g]="left":l.align[g]=null;for(g=0;g<l.cells.length;g++)l.cells[g]=C(l.cells[g],l.header.length);l.line=S,this.tokens.push(l)}else if(o=this.rules.hr.exec(t))t=t.substring(o[0].length),x+=_(o[0]),this.tokens.push({type:"hr",line:S});else if(o=this.rules.blockquote.exec(t))t=t.substring(o[0].length),x+=_(o[0],!0),this.tokens.push({type:"blockquote_start",line:S}),o=o[0].replace(/^ *> ?/gm,""),this.token(o,e,!0),this.tokens.push({type:"blockquote_end",line:S});else if(o=this.rules.list.exec(t)){for(t=t.substring(o[0].length),x+=_(o[0]),u={type:"list_start",ordered:w=(s=o[2]).length>1,start:w?+s:"",loose:!1,line:S},this.tokens.push(u),d=[],i=!1,m=(o=o[0].match(this.rules.item)).length,g=0;g<m;g++)p=(l=o[g]).length,~(l=l.replace(/^ *([*+-]|\d+\.) */,"")).indexOf("\n ")&&(p-=l.length,l=this.options.pedantic?l.replace(/^ {1,4}/gm,""):l.replace(new RegExp("^ {1,"+p+"}","gm"),"")),g!==m-1&&(c=a.bullet.exec(o[g+1])[0],(s.length>1?1===c.length:c.length>1||this.options.smartLists&&c!==s)&&(t=o.slice(g+1).join("\n")+t,g=m-1)),r=i||/\n\n(?!\s*$)/.test(l),g!==m-1&&(i="\n"===l.charAt(l.length-1),r||(r=i)),r&&(u.loose=!0),y=/^\[[ xX]\] /.test(l),b=undefined,y&&(b=" "!==l[1],l=l.replace(/^\[[ xX]\] +/,"")),f={type:"list_item_start",task:y,checked:b,loose:r},d.push(f),this.tokens.push(f),this.token(l,!1,!0),this.tokens.push({type:"list_item_end"});if(u.loose)for(m=d.length,g=0;g<m;g++)d[g].loose=!0;this.tokens.push({type:"list_end",line:S})}else if(o=this.rules.html.exec(t))t=t.substring(o[0].length),x+=_(o[0]),this.tokens.push({type:this.options.sanitize?"paragraph":"html",pre:!this.options.sanitizer&&("pre"===o[1]||"script"===o[1]||"style"===o[1]),text:this.options.sanitize?this.options.sanitizer?this.options.sanitizer(o[0]):h(o[0]):o[0],line:S});else if(e&&(o=this.rules.def.exec(t)))t=t.substring(o[0].length),x+=_(o[0]),o[3]&&(o[3]=o[3].substring(1,o[3].length-1)),v=o[1].toLowerCase().replace(/\s+/g," "),this.tokens.links[v]||(this.tokens.links[v]={href:o[2],title:o[3],line:S});else if((o=this.rules.table.exec(t))&&(l={type:"table",header:C(o[1].replace(/^ *| *\| *$/g,"")),align:o[2].replace(/^ *|\| *$/g,"").split(/ *\| */),cells:o[3]?o[3].replace(/\n$/,"").split("\n"):[]}).header.length===l.align.length){for(t=t.substring(o[0].length),x+=_(o[0]),g=0;g<l.align.length;g++)/^ *-+: *$/.test(l.align[g])?l.align[g]="right":/^ *:-+: *$/.test(l.align[g])?l.align[g]="center":/^ *:-+ *$/.test(l.align[g])?l.align[g]="left":l.align[g]=null;for(g=0;g<l.cells.length;g++)l.cells[g]=C(l.cells[g].replace(/^ *\| *| *\| *$/g,""),l.header.length);l.line=S,this.tokens.push(l)}else if(o=this.rules.lheading.exec(t))t=t.substring(o[0].length),x+=_(o[0]),this.tokens.push({type:"heading",depth:"="===o[2].charAt(0)?1:2,text:o[1],line:S});else if(e&&(o=this.rules.paragraph.exec(t)))t=t.substring(o[0].length),x+=_(o[0]),this.tokens.push({type:"paragraph",text:"\n"===o[1].charAt(o[1].length-1)?o[1].slice(0,-1):o[1],line:S});else if(o=this.rules.text.exec(t))t=t.substring(o[0].length),x+=_(o[0]),this.tokens.push({type:"text",text:o[0],line:S});else if(t)throw new Error("Infinite loop on byte: "+t.charCodeAt(0));return this.tokens;function _(t,e){if(n)return 0;var i=t.split("\n"),r=i.length;if(r<=1)return r;var o=(""===i[0]?1:0)+(""===i[r-1]?1:0);return r-(e?0:o)}};var c={escape:/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,autolink:/^<(scheme:[^\s\x00-\x1f<>]*|email)>/,url:b,tag:"^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>",link:/^!?\[(label)\]\(\s*(href)(?:\s+(title))?\s*\)/,mathinline:/^\$((?:\\\$|[^\$])+)\$/,reflink:/^!?\[(label)\]\[(?!\s*\])((?:\\[\[\]]?|[^\[\]\\])+)\]/,nolink:/^!?\[(?!\s*\])((?:\[[^\[\]]*\]|\\[\[\]]|[^\[\]])*)\](?:\[\])?/,strong:/^__([^\s_])__(?!_)|^\*\*([^\s*])\*\*(?!\*)|^__([^\s][\s\S]*?[^\s])__(?!_)|^\*\*([^\s][\s\S]*?[^\s])\*\*(?!\*)/,em:/^_([^\s_])_(?!_)|^\*([^\s*<\[])\*(?!\*)|^_([^\s<][\s\S]*?[^\s_])_(?!_|[^\spunctuation])|^_([^\s_<][\s\S]*?[^\s])_(?!_|[^\spunctuation])|^\*([^\s<"][\s\S]*?[^\s\*])\*(?!\*|[^\spunctuation])|^\*([^\s*"<\[][\s\S]*?[^\s])\*(?!\*)/,code:/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,br:/^( {2,}|\\)\n(?!\s*$)/,del:b,text:/^(`+|[^`])(?:[\s\S]*?(?:(?=[\\<!\[`*]|\b_|$)|[^ ](?= {2,}\n))|(?= {2,}\n))/};function l(t,e){if(this.options=e||_.defaults,this.links=t,this.rules=c.normal,this.renderer=this.options.renderer||new u,this.renderer.options=this.options,!this.links)throw new Error("Tokens array requires a `links` property.");this.options.pedantic?this.rules=c.pedantic:this.options.gfm&&(this.options.breaks?this.rules=c.breaks:this.rules=c.gfm)}function u(t){this.options=t||_.defaults}function d(){}function f(t){this.tokens=[],this.token=null,this.options=t||_.defaults,this.options.renderer=this.options.renderer||new u,this.renderer=this.options.renderer,this.renderer.options=this.options,this.slugger=new p}function p(){this.seen={}}function h(t,e){if(e){if(h.escapeTest.test(t))return t.replace(h.escapeReplace,(function(t){return h.replacements[t]}))}else if(h.escapeTestNoEncode.test(t))return t.replace(h.escapeReplaceNoEncode,(function(t){return h.replacements[t]}));return t}function g(t){return t.replace(/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/gi,(function(t,e){return"colon"===(e=e.toLowerCase())?":":"#"===e.charAt(0)?"x"===e.charAt(1)?String.fromCharCode(parseInt(e.substring(2),16)):String.fromCharCode(+e.substring(1)):""}))}function v(t,e){return t=t.source||t,e=e||"",{replace:function(e,n){return n=(n=n.source||n).replace(/(^|[^\[])\^/g,"$1"),t=t.replace(e,n),this},getRegex:function(){return new RegExp(t,e)}}}function m(t,e,n){if(t){try{var i=decodeURIComponent(g(n)).replace(/[^\w:]/g,"").toLowerCase()}catch(r){return null}if(0===i.indexOf("javascript:")||0===i.indexOf("vbscript:")||0===i.indexOf("data:"))return null}e&&!y.test(n)&&(n=function(t,e){w[" "+t]||(/^[^:]+:\/*[^/]*$/.test(t)?w[" "+t]=t+"/":w[" "+t]=k(t,"/",!0));var n=-1===(t=w[" "+t]).indexOf(":");return"//"===e.slice(0,2)?n?e:t.replace(/^([^:]+:)[\s\S]*$/,"$1")+e:"/"===e.charAt(0)?n?e:t.replace(/^([^:]+:\/*[^/]*)[\s\S]*$/,"$1")+e:t+e}(e,n));try{n=encodeURI(n).replace(/%25/g,"%")}catch(r){return null}return n}c._punctuation="!\"#$%&'()*+,\\-./:;<=>?@\\[^_{|}~",c.em=v(c.em).replace(/punctuation/g,c._punctuation).getRegex(),c._escapes=/\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/g,c._scheme=/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/,c._email=/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/,c.autolink=v(c.autolink).replace("scheme",c._scheme).replace("email",c._email).getRegex(),c._attribute=/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/,c.tag=v(c.tag).replace("comment",a._comment).replace("attribute",c._attribute).getRegex(),c._label=/(?:\[[^\[\]]*\]|\\.|`[^`]*`|[^\[\]\\`])*?/,c._href=/<(?:\\[<>]?|[^\s<>\\])*>|[^\s\x00-\x1f]*/,c._title=/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/,c.link=v(c.link).replace("label",c._label).replace("href",c._href).replace("title",c._title).getRegex(),c.reflink=v(c.reflink).replace("label",c._label).getRegex(),c.normal=x({},c),c.pedantic=x({},c.normal,{strong:/^__(?=\S)([\s\S]*?\S)__(?!_)|^\*\*(?=\S)([\s\S]*?\S)\*\*(?!\*)/,em:/^_(?=\S)([\s\S]*?\S)_(?!_)|^\*(?=\S)([\s\S]*?\S)\*(?!\*)/,link:v(/^!?\[(label)\]\((.*?)\)/).replace("label",c._label).getRegex(),reflink:v(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",c._label).getRegex()}),c.gfm=x({},c.normal,{escape:v(c.escape).replace("])","~|])").getRegex(),_extended_email:/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/,url:/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,_backpedal:/(?:[^?!.,:;*_~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_~)]+(?!$))+/,del:/^~+(?=\S)([\s\S]*?\S)~+/,text:/^(`+|[^`])(?:[\s\S]*?(?:(?=[\\<!\[`*~]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@))|(?= {2,}\n|[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@))/}),c.gfm.url=v(c.gfm.url,"i").replace("email",c.gfm._extended_email).getRegex(),c.breaks=x({},c.gfm,{br:v(c.br).replace("{2,}","*").getRegex(),text:v(c.gfm.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()}),l.rules=c,l.output=function(t,e,n){return new l(e,n).output(t)},l.prototype.output=function(t){for(var e,n,i,r,o,a,s="";t;)if(o=this.rules.escape.exec(t))t=t.substring(o[0].length),s+=h(o[1]);else if(o=this.rules.tag.exec(t))!this.inLink&&/^<a /i.test(o[0])?this.inLink=!0:this.inLink&&/^<\/a>/i.test(o[0])&&(this.inLink=!1),!this.inRawBlock&&/^<(pre|code|kbd|script)(\s|>)/i.test(o[0])?this.inRawBlock=!0:this.inRawBlock&&/^<\/(pre|code|kbd|script)(\s|>)/i.test(o[0])&&(this.inRawBlock=!1),t=t.substring(o[0].length),s+=this.options.sanitize?this.options.sanitizer?this.options.sanitizer(o[0]):h(o[0]):o[0];else if(o=this.rules.link.exec(t)){var c=S(o[2],"()");if(c>-1){var u=4+o[1].length+c;o[2]=o[2].substring(0,c),o[0]=o[0].substring(0,u).trim(),o[3]=""}t=t.substring(o[0].length),this.inLink=!0,i=o[2],this.options.pedantic?(e=/^([^'"]*[^\s])\s+(['"])(.*)\2/.exec(i))?(i=e[1],r=e[3]):r="":r=o[3]?o[3].slice(1,-1):"",i=i.trim().replace(/^<([\s\S]*)>$/,"$1"),s+=this.outputLink(o,{href:l.escapes(i),title:l.escapes(r)}),this.inLink=!1}else if((o=this.rules.reflink.exec(t))||(o=this.rules.nolink.exec(t))){if(t=t.substring(o[0].length),e=(o[2]||o[1]).replace(/\s+/g," "),!(e=this.links[e.toLowerCase()])||!e.href){s+=o[0].charAt(0),t=o[0].substring(1)+t;continue}this.inLink=!0,s+=this.outputLink(o,e),this.inLink=!1}else if(o=this.rules.mathinline.exec(t))t=t.substring(o[0].length),s+=this.renderer.mathinline(o[1]);else if(o=this.rules.strong.exec(t))t=t.substring(o[0].length),s+=this.renderer.strong(this.output(o[4]||o[3]||o[2]||o[1]));else if(o=this.rules.em.exec(t))t=t.substring(o[0].length),s+=this.renderer.em(this.output(o[6]||o[5]||o[4]||o[3]||o[2]||o[1]));else if(o=this.rules.code.exec(t))t=t.substring(o[0].length),s+=this.renderer.codespan(h(o[2].trim(),!0));else if(o=this.rules.br.exec(t))t=t.substring(o[0].length),s+=this.renderer.br();else if(o=this.rules.del.exec(t))t=t.substring(o[0].length),s+=this.renderer.del(this.output(o[1]));else if(o=this.rules.autolink.exec(t))t=t.substring(o[0].length),i="@"===o[2]?"mailto:"+(n=h(this.mangle(o[1]))):n=h(o[1]),s+=this.renderer.link(i,null,n);else if(this.inLink||!(o=this.rules.url.exec(t))){if(o=/\$((?:\\\$|[^\$])+)\$/.exec(t))s+=this.output(t.substring(0,o.index)),t=t.substring(o.index);else if(o=this.rules.text.exec(t))t=t.substring(o[0].length),this.inRawBlock?s+=this.renderer.text(this.options.sanitize?this.options.sanitizer?this.options.sanitizer(o[0]):h(o[0]):o[0]):s+=this.renderer.text(h(this.smartypants(o[0])));else if(t)throw new Error("Infinite loop on byte: "+t.charCodeAt(0))}else{if("@"===o[2])i="mailto:"+(n=h(o[0]));else{do{a=o[0],o[0]=this.rules._backpedal.exec(o[0])[0]}while(a!==o[0]);n=h(o[0]),i="www."===o[1]?"http://"+n:n}t=t.substring(o[0].length),s+=this.renderer.link(i,null,n)}return s},l.escapes=function(t){return t?t.replace(l.rules._escapes,"$1"):t},l.prototype.outputLink=function(t,e){var n=e.href,i=e.title?h(e.title):null;return"!"!==t[0].charAt(0)?this.renderer.link(n,i,this.output(t[1])):this.renderer.image(n,i,h(t[1]))},l.prototype.smartypants=function(t){return this.options.smartypants?t.replace(/---/g,"—").replace(/--/g,"–").replace(/(^|[-\u2014/(\[{"\s])'/g,"$1‘").replace(/'/g,"’").replace(/(^|[-\u2014/(\[{\u2018\s])"/g,"$1“").replace(/"/g,"”").replace(/\.{3}/g,"…"):t},l.prototype.mangle=function(t){if(!this.options.mangle)return t;for(var e,n="",i=t.length,r=0;r<i;r++)e=t.charCodeAt(r),Math.random()>.5&&(e="x"+e.toString(16)),n+="&#"+e+";";return n},u.prototype.mathblock=function(t,e){return'<img src="https://www.nowcoder.com/equation?tex='+window.encodeURIComponent(t)+'&preview=true" '+(e&&this.options.showLine?' data-line="'+e+'" ':"")+" />"},u.prototype.code=function(t,e,n,i){var r=(e||"").match(/\S*/)[0];if(this.options.highlight){var o=this.options.highlight(t,r);null!=o&&o!==t&&(n=!0,t=o)}return r?'<pre class="prettyprint '+this.options.langPrefix+h(r,!0)+'"'+(i&&this.options.showLine?' data-line="'+i+'" ':"")+">"+(n?t:h(t,!0))+"</pre>\n":'<pre class="prettyprint" '+(i&&this.options.showLine?' data-line="'+i+'" ':"")+">"+(n?t:h(t,!0))+"</pre>"},u.prototype.blockquote=function(t,e){return"<blockquote"+(e&&this.options.showLine?' data-line="'+e+'" ':"")+">\n"+t+"</blockquote>\n"},u.prototype.html=function(t){return t},u.prototype.heading=function(t,e,n,i,r){return this.options.headerIds?"<h"+e+(r&&this.options.showLine?' data-line="'+r+'" ':"")+' id="'+this.options.headerPrefix+i.slug(n)+'">'+t+"</h"+e+">\n":"<h"+e+(r&&this.options.showLine?' data-line="'+r+'" ':"")+">"+t+"</h"+e+">\n"},u.prototype.hr=function(){return this.options.xhtml?"<hr/>\n":"<hr>\n"},u.prototype.list=function(t,e,n,i){var r=e?"ol":"ul";return"<"+r+(e&&1!==n?' start="'+n+'"':"")+(i&&this.options.showLine?' data-line="'+i+'" ':"")+">\n"+t+"</"+r+">\n"},u.prototype.listitem=function(t){return"<li>"+t+"</li>\n"},u.prototype.checkbox=function(t){return"<input "+(t?'checked="" ':"")+'disabled="" type="checkbox"'+(this.options.xhtml?" /":"")+"> "},u.prototype.paragraph=function(t,e){return"<p"+(e&&this.options.showLine?' data-line="'+e+'" ':"")+">"+t+"</p>\n"},u.prototype.table=function(t,e,n){return e&&(e="<tbody>"+e+"</tbody>"),"<table"+(n&&this.options.showLine?' data-line="'+n+'" ':"")+">\n<thead>\n"+t+"</thead>\n"+e+"</table>\n"},u.prototype.tablerow=function(t){return"<tr>\n"+t+"</tr>\n"},u.prototype.tablecell=function(t,e){var n=e.header?"th":"td";return(e.align?"<"+n+' align="'+e.align+'">':"<"+n+">")+t+"</"+n+">\n"},u.prototype.mathinline=function(t){return'<img src="https://www.nowcoder.com/equation?tex='+window.encodeURIComponent(t)+'&preview=true" />'},u.prototype.strong=function(t){return"<strong>"+t+"</strong>"},u.prototype.em=function(t){return"<em>"+t+"</em>"},u.prototype.codespan=function(t){return"<code>"+t+"</code>"},u.prototype.br=function(){return this.options.xhtml?"<br/>":"<br>"},u.prototype.del=function(t){return"<del>"+t+"</del>"},u.prototype.link=function(t,e,n){if(null===(t=m(this.options.sanitize,this.options.baseUrl,t)))return n;var i="<a "+(/^#|javascript/gi.test(t)?"":' target="_blank" ')+' href="'+h(t)+'"';return e&&(i+=' title="'+e+'"'),i+=">"+n+"</a>"},u.prototype.image=function(t,e,n){if(null===(t=m(this.options.sanitize,this.options.baseUrl,t)))return n;var i='<img src="'+t+'" alt="'+n+'"';return e&&(i+=' title="'+e+'"'),i+=this.options.xhtml?"/>":">"},u.prototype.text=function(t){return t},d.prototype.mathinline=d.prototype.strong=d.prototype.em=d.prototype.codespan=d.prototype.del=d.prototype.text=function(t){return t},d.prototype.link=d.prototype.image=function(t,e,n){return""+n},d.prototype.br=function(){return""},f.parse=function(t,e){return new f(e).parse(t)},f.prototype.parse=function(t){this.inline=new l(t.links,this.options),this.inlineText=new l(t.links,x({},this.options,{renderer:new d})),this.tokens=t.reverse();for(var e="";this.next();)e+=this.tok();return e},f.prototype.next=function(){return this.token=this.tokens.pop(),this.token},f.prototype.peek=function(){return this.tokens[this.tokens.length-1]||0},f.prototype.parseText=function(){for(var t=this.token.text;"text"===this.peek().type;)t+="\n"+this.next().text;return this.inline.output(t)},f.prototype.tok=function(){switch(this.token.type){case"space":return"";case"hr":return this.renderer.hr(this.token.line);case"heading":return this.renderer.heading(this.inline.output(this.token.text),this.token.depth,g(this.inlineText.output(this.token.text)),this.slugger,this.token.line);case"mathblock":return this.renderer.mathblock(this.token.text,this.token.line);case"code":return this.renderer.code(this.token.text,this.token.lang,this.token.escaped,this.token.line);case"table":var t,e,n,i,r="",o="";for(n="",t=0;t<this.token.header.length;t++)n+=this.renderer.tablecell(this.inline.output(this.token.header[t]),{header:!0,align:this.token.align[t]});for(r+=this.renderer.tablerow(n),t=0;t<this.token.cells.length;t++){for(e=this.token.cells[t],n="",i=0;i<e.length;i++)n+=this.renderer.tablecell(this.inline.output(e[i]),{header:!1,align:this.token.align[i]});o+=this.renderer.tablerow(n)}return this.renderer.table(r,o,this.token.line);case"blockquote_start":for(o="";"blockquote_end"!==this.next().type;)o+=this.tok();return this.renderer.blockquote(o,this.token.line);case"list_start":o="";for(var a=this.token.ordered,s=this.token.start;"list_end"!==this.next().type;)o+=this.tok();return this.renderer.list(o,a,s,this.token.line);case"list_item_start":o="";var c=this.token.loose,l=this.token.checked,u=this.token.task;for(this.token.task&&(o+=this.renderer.checkbox(l,this.token.line));"list_item_end"!==this.next().type;)o+=c||"text"!==this.token.type?this.tok():this.parseText();return this.renderer.listitem(o,u,l,this.token.line);case"html":return this.renderer.html(this.token.text);case"paragraph":return this.renderer.paragraph(this.inline.output(this.token.text),this.token.line);case"text":return this.renderer.paragraph(this.parseText(),this.token.line);default:var d='Token with "'+this.token.type+'" type was not found.';if(!this.options.silent)throw new Error(d);console.log(d)}},p.prototype.slug=function(t){var e=t.toLowerCase().trim().replace(/[\u2000-\u206F\u2E00-\u2E7F\\'!"#$%&()*+,./:;<=>?@[\]^`{|}~]/g,"").replace(/\s/g,"-");if(this.seen.hasOwnProperty(e)){var n=e;do{this.seen[n]++,e=n+"-"+this.seen[n]}while(this.seen.hasOwnProperty(e))}return this.seen[e]=0,e},h.escapeTest=/[&<>"']/,h.escapeReplace=/[&<>"']/g,h.replacements={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},h.escapeTestNoEncode=/[<>"']|&(?!#?\w+;)/,h.escapeReplaceNoEncode=/[<>"']|&(?!#?\w+;)/g;var w={},y=/^$|^[a-z][a-z0-9+.-]*:|^[?#]/i;function b(){}function x(t){for(var e,n,i=1;i<arguments.length;i++)for(n in e=arguments[i])Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t}function C(t,e){var n=t.replace(/\|/g,(function(t,e,n){for(var i=!1,r=e;--r>=0&&"\\"===n[r];)i=!i;return i?"|":" |"})).split(/ \|/),i=0;if(n.length>e)n.splice(e);else for(;n.length<e;)n.push("");for(;i<n.length;i++)n[i]=n[i].trim().replace(/\\\|/g,"|");return n}function k(t,e,n){if(0===t.length)return"";for(var i=0;i<t.length;){var r=t.charAt(t.length-i-1);if(r!==e||n){if(r===e||!n)break;i++}else i++}return t.substr(0,t.length-i)}function S(t,e){if(-1===t.indexOf(e[1]))return-1;for(var n=0,i=0;i<t.length;i++)if("\\"===t[i])i++;else if(t[i]===e[0])n++;else if(t[i]===e[1]&&--n<0)return i;return-1}function E(t){t&&t.sanitize&&!t.silent&&console.warn("marked(): sanitize and sanitizer parameters are deprecated since version 0.7.0, should not be used and will be removed in the future. Read more here: https://marked.js.org/#/USING_ADVANCED.md#options")}function _(t,e,n){if(null==t)throw new Error("marked(): input parameter is undefined or null");if("string"!=typeof t)throw new Error("marked(): input parameter is of type "+Object.prototype.toString.call(t)+", string expected");if(n||"function"==typeof e){n||(n=e,e=null),E(e=x({},_.defaults,e||{}));var i,r,o=e.highlight,a=0;try{i=s.lex(t,e)}catch(l){return n(l)}r=i.length;var c=function(t){if(t)return e.highlight=o,n(t);var r;try{r=f.parse(i,e)}catch(l){t=l}return e.highlight=o,t?n(t):n(null,r)};if(!o||o.length<3)return c();if(delete e.highlight,!r)return c();for(;a<i.length;a++)!function(t){"code"!==t.type?--r||c():o(t.text,t.lang,(function(e,n){return e?c(e):null==n||n===t.text?--r||c():(t.text=n,t.escaped=!0,void(--r||c()))}))}(i[a])}else try{return e&&(e=x({},_.defaults,e)),E(e),f.parse(s.lex(t,e),e)}catch(l){if(l.message+="\nPlease report this to https://github.com/markedjs/marked.",(e||_.defaults).silent)return"<p>An error occurred:</p><pre>"+h(l.message+"",!0)+"</pre>";throw l}}b.exec=b,_.options=_.setOptions=function(t){return x(_.defaults,t),_},_.getDefaults=function(){return{baseUrl:null,breaks:!1,gfm:!0,headerIds:!0,headerPrefix:"",highlight:null,langPrefix:"language-",mangle:!0,pedantic:!1,renderer:new u,sanitize:!1,sanitizer:null,silent:!1,smartLists:!1,smartypants:!1,xhtml:!1}},_.defaults=_.getDefaults(),_.Parser=f,_.parser=f.parse,_.Renderer=u,_.TextRenderer=d,_.Lexer=s,_.lexer=s.lex,_.InlineLexer=l,_.inlineLexer=l.output,_.Slugger=p,_.parse=_,"object"===o(e)?t.exports=_:(r=function(){return _}.call(e,n,e,t))===undefined||(t.exports=r)}(this||"undefined"!=typeof window&&window)}).call(this,n(165))},696:function(t,e,n){var i,r,o,a,s=n(37);a=function(){return function t(e,n,i){function r(a,s){if(!n[a]){if(!e[a]){if(o)return o(a,!0);var c=new Error("Cannot find module '"+a+"'");throw c.code="MODULE_NOT_FOUND",c}var l=n[a]={exports:{}};e[a][0].call(l.exports,(function(t){var n=e[a][1][t];return r(n||t)}),l,l.exports,t,e,n,i)}return n[a].exports}for(var o=!1,a=0;a<i.length;a++)r(i[a]);return r}({1:[function(t,e,n){var i,r;Array.prototype.indexOf=Array.prototype.indexOf||function(t){for(var e=0,n=this.length;e<n;e++)if(this[e]===t)return e;return-1},Array.prototype.forEach=Array.prototype.forEach||function(t){for(var e=0,n=this.length;e<n;e++)t(this[e])},Array.isArray=Array.isArray||function(t){return t&&"[object Array]"===Object.prototype.toString.call(t)},Object.keys=Object.keys||function(t){if(!t)return[];var e=[];for(var n in t)t.hasOwnProperty(n)&&e.push(n);return e},String.prototype.trim=String.prototype.trim||function(){return this.replace(/^\s+|\s+$/g,"")};var o=t("./lib/md-converters"),a=t("./lib/gfm-converters"),s=t("./lib/html-parser"),c=t("collapse-whitespace"),l=["address","article","aside","audio","blockquote","body","canvas","center","dd","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frameset","h1","h2","h3","h4","h5","h6","header","hgroup","hr","html","isindex","li","main","menu","nav","noframes","noscript","ol","output","p","pre","section","table","tbody","td","tfoot","th","thead","tr","ul"];function u(t){return-1!==l.indexOf(t.nodeName.toLowerCase())}var d=["area","base","br","col","command","embed","hr","img","input","keygen","link","meta","param","source","track","wbr"];function f(t){return-1!==d.indexOf(t.nodeName.toLowerCase())}function p(t){for(var e="",n=0;n<t.childNodes.length;n++)if(1===t.childNodes[n].nodeType)e+=t.childNodes[n]._replacement;else{if(3!==t.childNodes[n].nodeType)continue;e+=t.childNodes[n].data}return e}function h(t,e){if("string"==typeof e)return e===t.nodeName.toLowerCase();if(Array.isArray(e))return-1!==e.indexOf(t.nodeName.toLowerCase());if("function"==typeof e)return e.call(i,t);throw new TypeError("`filter` needs to be a string, array, or function")}function g(t,e){var n,i,r;return"left"===t?(n=e.previousSibling,i=/ $/):(n=e.nextSibling,i=/^ /),n&&(3===n.nodeType?r=i.test(n.nodeValue):1!==n.nodeType||u(n)||(r=i.test(n.textContent))),r}function v(t){var e="",n="";if(!u(t)){var i=/^[ \r\n\t]/.test(t.innerHTML),r=/[ \r\n\t]$/.test(t.innerHTML);i&&!g("left",t)&&(e=" "),r&&!g("right",t)&&(n=" ")}return{leading:e,trailing:n}}function m(t){var e,n=p(t);if(f(t)||/A|TH|TD/.test(t.nodeName)||!/^\s*$/i.test(n)){for(var o=0;o<r.length;o++){var a=r[o];if(h(t,a.filter)){if("function"!=typeof a.replacement)throw new TypeError("`replacement` needs to be a function that returns a string");var s=v(t);(s.leading||s.trailing)&&(n=n.trim()),e=s.leading+a.replacement.call(i,n,t)+s.trailing;break}}t._replacement=e}else t._replacement=""}(i=function(t,e){if(e=e||{},"string"!=typeof t)throw new TypeError(t+" is not a string");t=t.replace(/(\d+)\. /g,"$1\\. ");var n,i,l=(n=t,i=(new s).parseFromString(n,"text/html"),c(i.documentElement,u),i).body,d=function(t){for(var e,n,i,r=[t],o=[];r.length>0;)for(e=r.shift(),o.push(e),n=e.childNodes,i=0;i<n.length;i++)1===n[i].nodeType&&r.push(n[i]);return o.shift(),o}(l);r=o.slice(0),e.gfm&&(r=a.concat(r)),e.converters&&(r=e.converters.concat(r));for(var f=d.length-1;f>=0;f--)m(d[f]);return p(l).replace(/^[\t\r\n]+|[\t\r\n\s]+$/g,"").replace(/\n\s+\n/g,"\n\n").replace(/\n{3,}/g,"\n\n")}).isBlock=u,i.isVoid=f,i.outer=function(t,e){return t.cloneNode(!1).outerHTML.replace("><",">"+e+"<")},e.exports=i},{"./lib/gfm-converters":2,"./lib/html-parser":3,"./lib/md-converters":4,"collapse-whitespace":7}],2:[function(t,e,n){"use strict";function i(t,e){var n=" ";return 0===Array.prototype.indexOf.call(e.parentNode.childNodes,e)&&(n="| "),n+t+" |"}var r=/highlight highlight-(\S+)/;e.exports=[{filter:"br",replacement:function(){return"\n"}},{filter:["del","s","strike"],replacement:function(t){return"~~"+t+"~~"}},{filter:function(t){return"checkbox"===t.type&&"LI"===t.parentNode.nodeName},replacement:function(t,e){return(e.checked?"[x]":"[ ]")+" "}},{filter:["th","td"],replacement:function(t,e){return i(t,e)}},{filter:"tr",replacement:function(t,e){var n="",r={left:":--",right:"--:",center:":-:"};if("THEAD"===e.parentNode.nodeName)for(var o=0;o<e.childNodes.length;o++){var a=e.childNodes[o].attributes.align,s="---";a&&(s=r[a.value]||s),n+=i(s,e.childNodes[o])}return"\n"+t+(n?"\n"+n:"")}},{filter:"table",replacement:function(t){return"\n\n"+t+"\n\n"}},{filter:["thead","tbody","tfoot"],replacement:function(t){return t}},{filter:function(t){return"PRE"===t.nodeName&&t.firstChild&&"CODE"===t.firstChild.nodeName},replacement:function(t,e){return"\n\n```\n"+e.firstChild.textContent+"\n```\n\n"}},{filter:function(t){return"PRE"===t.nodeName&&"DIV"===t.parentNode.nodeName&&r.test(t.parentNode.className)},replacement:function(t,e){return"\n\n```"+e.parentNode.className.match(r)[1]+"\n"+e.textContent+"\n```\n\n"}},{filter:function(t){return"DIV"===t.nodeName&&r.test(t.className)},replacement:function(t){return"\n\n"+t+"\n\n"}}]},{}],3:[function(t,e,n){var i="undefined"!=typeof window?window:this;e.exports=function(){var t=i.DOMParser,e=!1;try{(new t).parseFromString("","text/html")&&(e=!0)}catch(n){}return e}()?i.DOMParser:function(){var e=function(){};if("undefined"==typeof document){var n=t("jsdom");e.prototype.parseFromString=function(t){return n.jsdom(t,{features:{FetchExternalResources:[],ProcessExternalResources:!1}})}}else!function(){var t=!1;try{document.implementation.createHTMLDocument("").open()}catch(e){window.ActiveXObject&&(t=!0)}return t}()?e.prototype.parseFromString=function(t){var e=document.implementation.createHTMLDocument("");return e.open(),e.write(t),e.close(),e}:e.prototype.parseFromString=function(t){var e=new window.ActiveXObject("htmlfile");return e.designMode="on",e.open(),e.write(t),e.close(),e};return e}()},{jsdom:6}],4:[function(t,e,n){"use strict";e.exports=[{filter:"p",replacement:function(t){return"\n\n"+t+"\n\n"}},{filter:"br",replacement:function(){return"  \n"}},{filter:["h1","h2","h3","h4","h5","h6"],replacement:function(t,e){for(var n=e.nodeName.charAt(1),i="",r=0;r<n;r++)i+="#";return"\n\n"+i+" "+t+"\n\n"}},{filter:"hr",replacement:function(){return"\n\n* * *\n\n"}},{filter:["em","i"],replacement:function(t){return"_"+t+"_"}},{filter:["strong","b"],replacement:function(t){return"**"+t+"**"}},{filter:function(t){var e=t.previousSibling||t.nextSibling,n="PRE"===t.parentNode.nodeName&&!e;return"CODE"===t.nodeName&&!n},replacement:function(t){return"`"+t+"`"}},{filter:function(t){return"A"===t.nodeName&&t.getAttribute("href")},replacement:function(t,e){var n=e.title?' "'+e.title+'"':"";return"["+t+"]("+e.getAttribute("href")+n+")"}},{filter:"img",replacement:function(t,e){var n=e.alt||"",i=e.getAttribute("src")||"",r=e.title||"";return i?"!["+n+"]("+i+(r?' "'+r+'"':"")+")":""}},{filter:function(t){return"PRE"===t.nodeName&&"CODE"===t.firstChild.nodeName},replacement:function(t,e){return"\n\n    "+e.firstChild.textContent.replace(/\n/g,"\n    ")+"\n\n"}},{filter:"blockquote",replacement:function(t){return"\n\n"+(t=(t=(t=t.trim()).replace(/\n{3,}/g,"\n\n")).replace(/^/gm,"> "))+"\n\n"}},{filter:"li",replacement:function(t,e){t=t.replace(/^\s+/,"").replace(/\n/gm,"\n    ");var n=e.parentNode,i=Array.prototype.indexOf.call(n.children,e)+1;return(/ol/i.test(n.nodeName)?i+".  ":"*   ")+t}},{filter:["ul","ol"],replacement:function(t,e){for(var n=[],i=0;i<e.childNodes.length;i++)n.push(e.childNodes[i]._replacement);return/li/i.test(e.parentNode.nodeName)?"\n"+n.join("\n"):"\n\n"+n.join("\n")+"\n\n"}},{filter:function(t){return this.isBlock(t)},replacement:function(t,e){return"\n\n"+this.outer(e,t)+"\n\n"}},{filter:function(){return!0},replacement:function(t,e){return this.outer(e,t)}}]},{}],5:[function(t,e,n){e.exports=["address","article","aside","audio","blockquote","canvas","dd","div","dl","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","hr","main","nav","noscript","ol","output","p","pre","section","table","tfoot","ul","video"]},{}],6:[function(t,e,n){},{}],7:[function(t,e,n){"use strict";var i=t("void-elements");Object.keys(i).forEach((function(t){i[t.toUpperCase()]=1}));var r={};function o(t){return!(!t||!r[t.nodeName])}function a(t){return!(!t||!i[t.nodeName])}function s(t){var e=t.nextSibling||t.parentNode;return t.parentNode.removeChild(t),e}function c(t,e){return t&&t.parentNode===e||"PRE"===e.nodeName?e.nextSibling||e.parentNode:e.firstChild||e.nextSibling||e.parentNode}t("block-elements").forEach((function(t){r[t.toUpperCase()]=1})),e.exports=function(t,e){if(t.firstChild&&"PRE"!==t.nodeName){"function"!=typeof e&&(e=o);for(var n=null,i=!1,r=null,l=c(r,t);l!==t;){if(3===l.nodeType){var u=l.data.replace(/[ \r\n\t]+/g," ");if(n&&!/ $/.test(n.data)||i||" "!==u[0]||(u=u.substr(1)),!u){l=s(l);continue}l.data=u,n=l}else{if(1!==l.nodeType){l=s(l);continue}e(l)||"BR"===l.nodeName?(n&&(n.data=n.data.replace(/ $/,"")),n=null,i=!1):a(l)&&(n=null,i=!0)}var d=c(r,l);r=l,l=d}n&&(n.data=n.data.replace(/ $/,""),n.data||s(n))}}},{"block-elements":5,"void-elements":8}],8:[function(t,e,n){e.exports={area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,menuitem:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0}},{}]},{},[1])(1)},"object"===s(e)&&void 0!==t?t.exports=a():(r=[],(o="function"==typeof(i=a)?i.apply(e,r):i)===undefined||(t.exports=o))},697:function(t,e,n){var i=n(2),r=n(4),o=n(1),a=t.exports=r.create(),s=document.createElement("INPUT"),c="createTextRange"in s||"selection"in document;s=null;var l=c?"\r\n":"\n",u=/^(?:\r|\n)/,d=/(?:\r|\n)$/,f={strong:/^__([\s\S]+?)__(?!_)$|^\*\*([\s\S]+?)\*\*(?!\*)$/,strongPart:/__([\s\S]+?)__(?!_)|\*\*([\s\S]+?)\*\*(?!\*)/g,em:/^\b_((?:__|[\s\S])+?)_\b$|^\*((?:\*\*|[\s\S])+?)\*(?!\*)$/,emPart:/\b_((?:__|[\s\S])+?)_\b|\*((?:\*\*|[\s\S])+?)\*(?!\*)/g,del:/^~~(?=\S)([\s\S]*?\S)~~$/,delPart:/~~(?=\S)([\s\S]*?\S)~~/g,link:/^\[((?:\[[^\]]*\]|[^\[\]]|\](?=[^\[]*\]))*)\]\(\s*<?([\s\S]*?)>?(?:\s+['"]([\s\S]*?)['"])?\s*\)$/,linkPart:/\[((?:\[[^\]]*\]|[^\[\]]|\](?=[^\[]*\]))*)\]\(\s*<?([\s\S]*?)>?(?:\s+['"]([\s\S]*?)['"])?\s*\)/g,image:/^!\[((?:\[[^\]]*\]|[^\[\]]|\](?=[^\[]*\]))*)\]\(\s*<?([\s\S]*?)>?(?:\s+['"]([\s\S]*?)['"])?\s*\)$/,imagePart:/!\[((?:\[[^\]]*\]|[^\[\]]|\](?=[^\[]*\]))*)\]\(\s*<?([\s\S]*?)>?(?:\s+['"]([\s\S]*?)['"])?\s*\)/g,lineCode:/^(`+)\s*([\s\S]*?[^`])\s*\1(?!`)$/,lineCodePart:/(`+)\s*([\s\S]*?[^`])\s*\1(?!`)/g,heading:/^ *(#{1,6}) *([^\n]+?) *#* *(?:\n+|$)$/,list:/^( *)((?:[*+-]|\d+\.)) [\s\S]+?(?:\n+(?=\1?(?:[-*_] *){3,}(?:\n+|$))|\n+(?= *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +["(]([^\n]+)[")])? *(?:\n+|$))|\n{2,}(?! )(?!\1(?:[*+-]|\d+\.) )\n*|\s*$)/,quote:/^( *>[^\n]+(\n(?! *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +["(]([^\n]+)[")])? *(?:\n+|$))[^\n]+)*\n*)+/,quotePart:/^ *> ?/gm,code:/^ *(`{3,}|~{3,}) *(\S+)? *\n([\s\S]+?)\s*\1 *(?:\n+|$)/},p="粗体内容",h="斜体内容",g="删除内容",v="链接说明",m="图片说明",w="请在这里输入代码",y="请在这里输入标题",b="无序列表内容",x="有序列表内容",C="请在这里输入引用内容";o.extend(a.prototype,{initialize:function(t){this.input=i(t.input)},isIE:c,CANCEL:"cancel",ADD:"add",focus:function(t){var e=this.getSelection();!0===t?this.input.caret(e.start):!1===t?this.input.caret(e.end):this.input.range(e.start,e.end)},getSelection:function(){return this.input.range()},setSelection:function(t,e){var n=this,i=arguments.length;1===i?n.input.caret(t):2===i&&(n.input.focus(),n.input.range(t,e))},replaceSelection:function(t,e){if(null===(t=this.filterText(t)))return;var n=this.getSelection().start;this.input.range(t),e?this.setSelection(n,this.getSelection().end):this.focus(!1)},getContent:function(){return this.input.val()},insert:function(t,e){if(!(t=this.filterText(t)))return;"before"===e?this.input.caret(this.range().start):"after"===e&&this.input.caret(this.range().end);this.replaceSelection(t)},enlarge:function(t){var e=t.content,n=t.reg,i=t.start,r=t.end,o=e.length,a=s(e,n,i,r,e.length);a.match||t.noCross||((a=s(e,n,i,i,o)).match?a.end=Math.max(r,a.end):(a=s(e,n,r,r,o)).match&&(a.start=Math.min(i,a.start)),a.crossMatch=a.match);return a;function s(e,n,i,r,o){var a,s,c,l,u,d,f;for(a=i;a>=0;a--){for(s=r;s<=o;s++)if(c=e.substr(a,s-a),n.test(c)){if(l=a,u=s,d=!0,!t.greedMatch)break}else if(d){f=!0;break}if(d&&!t.greedMatch||f)break}return{start:l,end:u,match:d}}},enlargeBlock:function(t){var e=t.content,n=t.reg,i=t.start,r=t.end,o=e.length,a=s(e,n,i,r,e.length);a.match||t.noCross||((a=s(e,n,i,i,o)).match?a.end=Math.max(r,a.end):(a=s(e,n,r,r,o)).match&&(a.start=Math.min(i,a.start)),a.crossMatch=a.match);return a;function s(e,n,i,r,o){var a,s,c,l,u,d,f;for(a=i;a>=0;a--)for(s=r;s<=o;s++)if(c=e.substr(a,s-a),f=n.exec(c)){if(a+f[0].length<t.start||a>t.end)break;l=a,u=a+f[0].length,d=!0}if(d){for(;"\n"===e[l]||"\r"===e[l];)l++;for(;"\n"===e[u-1]||"\r"===e[u-1];)u--}return{start:l,end:u,match:d}}},enlargeLine:function(t){var e,n,i,r=t.content,o=t.start,a=t.end;for(;u.test(r.substr(o,a-o))&&o<a;)o+=1;for(e=o;e>=0;e--){if(i=r.substr(e,a-e),u.test(i)){o=e+1;break}o=e}for(e=a,n=r.length;e<=n;e++){if(i=r.substr(o,e-o),d.test(i)){a=e-1;break}a=e}return{start:Math.min(o,t.start),end:Math.max(a,t.end)}},applyInline:function(t){var e,n,i,r,a,s=t.typeReg,c=(t.tips,t.content),l=t.selection,u=this.enlarge({content:c,reg:s,start:l.start,end:l.end,greedMatch:t.greedMatch});u.crossMatch&&(u.match=!1,l.start=Math.min(u.start,l.start),l.end=Math.max(u.end,l.end),l.length=Math.max(0,l.end-l.start),l.text=c.substr(l.start,l.end-l.start));u.match?(r=u.start,a=u.end,e=c.substr(r,a-r),s.exec(e),n=e.replace(t.partReg,t.replace),e=this.replace(c,r,a,n),i=this.CANCEL):(r=l.start,a=l.end,e=l.length>0?l.text.replace(t.partReg,t.replace):o.isFunction(t.tips)?t.tips(l):t.tips||t.normal,n=t.parse(e),e=this.replace(c,r,a,n),i=this.ADD);return{content:e,text:n,start:r,end:r+n.length,length:n.length,type:i}},applyInBlock:function(t){var e,n,i,r,o=t.content,a=this.enlargeBlock({content:o,reg:t.typeReg,start:t.start,end:t.end});a.match?(e=a.start,n=a.end):(e=t.start,n=t.end);var s=this.enlargeLine({content:o,start:e,end:n}),c=o.substr(e,n-e),f=c;u.test(c)||e===s.start||(f=l+l+c,i=!0);d.test(c)||n===s.end||(f+=l+l,r=!0);var p=i||r;o=p?this.replace(o,e,n,f):o,i&&(e+=2*l.length,n+=2*l.length);return{change:p,content:o,start:e,end:n,match:a.match&&!a.crossMatch}},eachLine:function(t){var e=this.getSelection().text.replace(/\r\n|\r/g,"\n"),n=t.filter,i=t.call;this.replaceSelection(e,!0);var r=this.getContent(),a=this.getSelection(),s=this.enlargeLine({content:r,start:a.start,end:a.end});t.fullLine&&this.setSelection(s.start,s.end);a=this.getSelection();var c=r.substr(s.start,s.end-s.start).split("\n"),l=[],u=a.start-s.start,d=c[c.length-1].length+a.end-s.end;if(n)l=o.map(c,(function(t,e){var i=0===e?Math.max(u,0):0,r=e+1==c.length?d:t.length;return n(c,t,e,i,r)}));var f=o.map(l,(function(t){return t.content})).join("\n");r=this.replace(r,s.start,s.end,f),this.input.val(r);for(var p=0,h=l.length-1;h>=0&&!t.noIgnoreLine&&0===l[h].end;h--)p++;var g=a.start-(u-l[0].start),v=l[l.length-1],m=s.start+f.length-(v.content.length-v.end)-p;i&&i(g,m,l)},strong:function(){var t=this;t.eachLine({filter:function(e,n,r,o,a){return""===i.trim(n)&&e.length>1?t.createSelection(n,o,a):t.applyInline({content:n,selection:t.createSelection(n,o,a),tips:p,typeReg:f.strong,partReg:f.strongPart,replace:function(t,e,n,i,r){return(n=e||n)===p?"":n},parse:function(t){return"**"+t+"**"}})},call:function(e,n,i){var r=t.fixPos(e,e+2,n,n-2,i);t.setSelection(r.start,r.end)}})},em:function(){var t=this;t.eachLine({filter:function(e,n,r,o,a){return""===i.trim(n)&&e.length>1?t.createSelection(n,o,a):t.applyInline({content:n,selection:t.createSelection(n,o,a),tips:h,typeReg:f.em,partReg:f.emPart,replace:function(t,e,n,i,r){return(n=e||n)===h?"":n},parse:function(t){return"*"+t+"*"}})},call:function(e,n,i){var r=t.fixPos(e,e+1,n,n-1,i);t.setSelection(r.start,r.end)}})},del:function(){var t=this;t.eachLine({filter:function(e,n,r,o,a){return""===i.trim(n)&&e.length>1?t.createSelection(n,o,a):t.applyInline({content:n,selection:t.createSelection(n,o,a),tips:g,typeReg:f.del,partReg:f.delPart,replace:function(t,e,n,i,r){return(n=e||n)===g?"":n},parse:function(t){return"~~"+t+"~~"}})},call:function(e,n,i){var r=t.fixPos(e,e+2,n,n-2,i);t.setSelection(r.start,r.end)}})},link:function(t){var e=this;if(""===(t=i.trim(e.filterText(t)||"")))return;var n="";e.eachLine({filter:function(r,o,a,s,c){return""===i.trim(o)&&r.length>1?e.createSelection(o,s,c):e.applyInline({content:o,selection:e.createSelection(o,s,c),tips:v,typeReg:f.link,partReg:f.linkPart,replace:function(t,e,n,i,r,o){return e===v?"":e},parse:function(e){return 0===a&&(n=e),"["+e+"]("+t+") "}})},call:function(t,i,r){var o=r[0].type===e.ADD?t+1:t;e.setSelection(o,n?o+n.length:i)}})},image:function(t){var e=this;if(""===(t=i.trim(e.filterText(t)||"")))return;var n="";e.eachLine({filter:function(r,o,a,s,c){return""===i.trim(o)&&r.length>1?e.createSelection(o,s,c):e.applyInline({content:o,selection:e.createSelection(o,s,c),tips:m,typeReg:f.image,partReg:f.imagePart,replace:function(t,e,n,i,r,o){return e===m?"":e},parse:function(e){return 0===a&&(n=e),"!["+e+"]("+t+' "图片标题") '}})},call:function(t,i,r){var o=r[0].type===e.ADD?t+2:t;e.setSelection(o,n?o+n.length:i)}})},lineCode:function(){var t=this;t.eachLine({filter:function(e,n,r,o,a){return""===i.trim(n)&&e.length>1?t.createSelection(n,o,a):t.applyInline({content:n,selection:t.createSelection(n,o,a),tips:w,typeReg:f.lineCode,partReg:f.lineCodePart,replace:function(t,e,n,i,r){return n===w?"":n},parse:function(t){return"`"+t+"`"}})},call:function(e,n,i){var r=t.fixPos(e,e+1,n,n-1,i);t.setSelection(r.start,r.end)}})},heading:function(){var t,e=this,n=y;e.eachLine({fullLine:!0,noIgnoreLine:!0,filter:function(r,a,s,c,l){return 0===s&&(t=o.every(r,(function(t){return""===i.trim(t)}))),""===i.trim(a)?t&&0===s?{content:"### "+n,text:"### "+n,start:c,end:c+4+n.length,length:4+n.length}:e.createSelection(a,c,l):e.applyInline({content:a,selection:e.createSelection(a,c,l),tips:n,typeReg:f.heading,partReg:f.heading,greedMatch:!0,replace:function(t,e,i,r,o){return i===n||" "===i?"":i},parse:function(t){return"### "+t}})},call:function(n,i,r){var o=r[0].type===e.ADD||t?n+4:n;e.setSelection(o,i)}})},ul:function(){var t,e=this,n=e.getSelection(),i=e.getContent(),r=e.applyInBlock({content:i,typeReg:f.list,start:n.start,end:n.end});r.match&&(r.change&&e.input.val(r.content),e.setSelection(r.start,r.end));e.eachLine({fullLine:!0,noIgnoreLine:!0,filter:function(n,i,r,a,s){return 0===r&&(t=o.every(n,(function(t){return f.list.test(t)}))),e.applyInline({content:i,selection:e.createSelection(i,a,s),tips:b,typeReg:f.list,partReg:f.list,greedMatch:!0,replace:function(e,n,i,r,o,a,s,c){return t?l=/^ *(\d+\.) +/.test(e)?"- "+((l=e.replace(/^ *(\d+\.) +/,""))===x?b:l):(l=e.replace(/^ *([*+-]) +/,""))===b?"":l:"- "+e.replace(/^ *([*+-]) +/,"");var l},parse:function(t){return"- "+t}})},call:function(t,n,i){var r=e.fixPos(t,t+2,n,n,i);e.setSelection(r.start,r.end)}})},ol:function(){var t,e=this,n=e.getSelection(),i=e.getContent(),r=e.applyInBlock({content:i,typeReg:f.list,start:n.start,end:n.end});r.match&&(r.change&&e.input.val(r.content),e.setSelection(r.start,r.end));e.eachLine({fullLine:!0,noIgnoreLine:!0,filter:function(n,i,r,a,s){return 0===r&&(t=o.every(n,(function(t){return f.list.test(t)}))),e.applyInline({content:i,selection:e.createSelection(i,a,s),tips:x,typeReg:f.list,partReg:f.list,greedMatch:!0,replace:function(e,n,i,o,a,s,c,l){return t?(/^ *([*+-]) +/.test(e)?(u=e.replace(/^ *([*+-]) +/,""),u=r+1+". "+(u===b?x:u)):u=(u=e.replace(/^ *(\d+\.) +/,""))===b||u===x?"":u,u):(/^ *([*+-]) +/.test(e)?e=e.replace(/^ *([*+-]) +/,""):/^ *(\d+\.) +/.test(e)&&(e=e.replace(/^ *(\d+\.) +/,"")),r+1+". "+e);var u},parse:function(t){return r+1+". "+t}})},call:function(t,n,i){var r=e.fixPos(t,t+3,n,n,i);e.setSelection(r.start,r.end)}})},blockCode:function(){var t,e,n=this.getSelection(),i=this.getContent(),r=this.applyInBlock({content:i,typeReg:f.code,start:n.start,end:n.end});if(r.match){r.change&&this.input.val(r.content),this.setSelection(r.start,r.end),n=this.getSelection();var o=f.code.exec(n.text)[3];/^\n+|\n+$/g.test(o)&&(o=o.replace(/^\n+|\n+$/g,"")),this.replaceSelection(o,!0)}else{var a=this.enlargeLine({content:i,start:n.start,end:n.end});this.setSelection(a.start,a.end),n=this.getSelection(),t=n.start+4,e="```\n"+(n.text||"")+"\n```",this.replaceSelection(e),this.setSelection(t,t+e.length-8)}},quote:function(){var t=this;t.eachLine({fullLine:!0,noIgnoreLine:!0,filter:function(e,n,i,r,o){return t.applyInline({content:n,selection:t.createSelection(n,r,o),tips:C,typeReg:f.quote,partReg:f.quotePart,replace:function(t){return""},parse:function(t){return"> "+t}})},call:function(e,n,i){var r=t.fixPos(e,e+2,n,n,i);t.setSelection(r.start,r.end)}})},filterText:function(t){return t||""===t?t+"":null},fixPos:function(t,e,n,i,r){return t=r[0].type===this.ADD?e:t,n=r[r.length-1].type===this.ADD?i:n,{start:t,end:n}},createSelection:function(t,e,n){return{content:t,start:e,end:n,length:n-e,text:n===e?"":t.substr(e,n-e)}},replace:function(t,e,n,i){var r=t.split("");return r.splice(e,n-e,i),i=r.join(""),r.length=0,i}})},698:function(t,e,n){var i=n(2),r=n(4),o=n(1),a=n(3),s=n(25),c=n(63),l=n(211),u=n(17),d=n(580),f=t.exports=r.create();o.extend(f.prototype,{initialize:function(t){this.editor=t.editor,this.selection=this.editor.selection},preview:function(){var t=this.editor;t.showPreview(!t.isInPreview)},bold:function(){this.selection.strong()},italic:function(){this.selection.em()},codeblock:function(){this.selection.blockCode()},bockquote:function(){this.selection.quote()},insertorderedlist:function(){this.selection.ol()},insertunorderedlist:function(){this.selection.ul()},removeformat:function(){var t=this.editor,e=t.val(),n=0,r="";for(;n<5;){e=e.replace(/(\s*)<(\/)?([\w\-:]+)((?:\s+|(?:\s+[\w\-:]+)|(?:\s+[\w\-:]+=[^\s"'<>]+)|(?:\s+[\w\-:"]+="[^"]*")|(?:\s+[\w\-:"]+='[^']*'))*)(\/)?>(\s*)/g,(function(t,e,n,r,o,a,s){return{strong:1,em:1,ul:1,ol:1}[r=i.trim(r).toLowerCase()]?"":"li"===r?"<p>":t})),r=d.html2md(e),e=t.getMdHtml(r),n++}t.text(r)},link:function(){this.selection.link("http://www.nowcoder.com")},image:function(){var t=this.editor;new a({title:"插入图片",content:'\n        <div class="form-group">\n            <label class="control-label">图片链接</label>\n            <div class="control-group"><input type="text"/></div>\n            <div style="position:relative;display:inline-block;line-height:42px;font-size:14px;margin-left:15px;">\n                <a style="display:block;" href="javascript:void(0);" class="link-green js-md-image-upload">上传图片</a>\n            </div>\n        </div>',render:function(){var t=this.getEl(),e=this.urlIpt=s.transform(t.find("div.control-group"));c.show({target:t.find(".js-md-image-upload"),url:"/uploadImage?type=1&watermark=true",type:u.uploadType.image,fileType:"*.jpg;*.JPG;*.png;*.PNG;*.gif;*.GIF;*.bmp;*.BMP;*.jpeg;*.JPEG",fileSize:5,call:function(t){return e.val(t.url)}})},ok:function(){var e=i.trim(this.urlIpt.val());if(!e)return this.urlIpt.setErrorTips("请输入图片链接"),!0;t.selection.image(e),t.fire("afterChange")},cancel:function(){}})},math:function(){var t=this,e=t.editor;l.formula({useLaTex:!1,call:function(n){t.selection.image(n),e.fire("afterChange")}})}})},699:function(t,e,n){n(2);var i=n(4),r=n(1),o=t.exports=i.create();r.extend(o.prototype,{initialize:function(t){var e=this,n=e.editor=t.editor;e.selection=n.selection,e.list=[],e.index=0,e.canRecord=!0,n.listen("destroy",(function(){e.list.length=0,e.index=0}))},record:function(t){var e=this.editor;if(!this.canRecord)return;var n=this.list,i=e.text();n.length=Math.min(this.index+1,n.length);var r=n[this.index];if(!r||r.content!==i&&(t||Math.abs(r.content.length-i.length)>3)){var o=this.selection.getSelection();n.push({content:i,selection:o}),this.index=n.length-1}},redo:function(){var t=this,e=t.editor,n=t.list,i=t.index+1;if(i>=n.length)return;t.disable((function(){var n=t.list[i];e.text(n.content||""),t.index=i;var r=n.selection;r&&t.selection.setSelection(r.start||0,r.end||0),t.selection.focus()}))},undo:function(){var t=this,e=t.editor,n=t.index-1;if(n<0)return;t.disable((function(){var i=t.list[n];e.text(i.content||""),t.index=n;var r=i.selection;r&&t.selection.setSelection(r.start||0,r.end||0),t.selection.focus()}))},disable:function(t){var e=this.editor;this.canRecord=!1,t&&t.call(e),this.canRecord=!0}})},7:function(t,e,n){t.exports=n(28)(8)},700:function(t,e,n){var i=n(2),r=n(1),o=n(4),a=n(3),s=n(581),c=t.exports=o.create();r.extend(c.prototype,{initialize:function(t){if(t.rawConfig.noUploadRemote)return;var e=!1;function n(){if(!e){var n=t.text(),o=[];n.replace(/\!\[.*?\]\((.*?)\)/gi,(function(t,e){return e=i.trim(e),(e=i.trim(e.split(/\s+/)[0]))&&o.push(e),t}));var c=(o=r.uniq(o)).length;if(s.canUpload(o)){var l=0,u=s.isUploaded(o)?null:new a({hasNoTitle:!0,hasNoFooter:!0,noUnique:!0,content:'<div style="font-size:14px;text-align:center;">图片上传中...</div>'});e=!0,r.forEach(o,(function(n){s.upload(n,(function(r){if(r&&n!==r){var o=t.text(),a=o.replace(/\!\[.*?\]\((.*?)\)/gi,(function(t,e){return(e=i.trim(e)).indexOf(n)>=0&&(t=t.replace(n,r)),t}));o!==a&&t.text(a)}++l>=c&&(e=!1,u&&u.close())}))}))}}}t.listen("draftChange",n),n()}})},701:function(t,e,n){n(2);var i=n(1),r=n(4),o=n(8),a=n(80),s=n(84),c=t.exports=r.create();i.extend(c.prototype,{initialize:function(t){var e;if(t.rawConfig.noPasteUpload)return;function n(){return e||(e=s.show({})).popup.listen("close",(function(){e=null})),e}o.bindPaste(document,t.iptEl,(function(e,r){var o=i.find(e,(function(t){return"file"===t.kind&&/image/.test(t.type||"")})),s=o?o.getAsFile():null;s&&(r.preventDefault(),new a({url:"/uploadImage?type=1&watermark=true",progress:function(t){n().showProgress("正在上传："+t+"%",t)},error:function(){n().showError("上传失败")},call:function(e){n().close(),t.selection.image(e.url),t.history.record(),t.fire("afterChange")}}).uploadBlob(s,(new Date).getTime()+"."+s.type.split("/").pop()))}))}})},702:function(t,e,n){var i=n(2),r=n(1),o=n(4),a=n(47),s=t.exports=o.create();r.extend(s.prototype,{initialize:function(t){this.editor=t,this.initHover(),this.initTips(),this.initFix()},initHover:function(){this.editor.toolbarEl.find("span.ke-outline").mouseenter((function(t){i(t.currentTarget).addClass("ke-on")})).mouseleave((function(t){var e=i(t.currentTarget);!e.attr("data-on")&&e.removeClass("ke-on")}))},initTips:function(){var t=this.editor,e=t.toolbarEl.find("span.ke-outline");a.titleEl(e,{verReverse:!0},(function(e){t.pushChild(e)}))},initFix:function(){var t=this.editor,e=t.rawConfig,n=!e.noToolbarFixed,i=+e.toolbarFixedTop||0,r=t.toolbarEl;n&&i&&r.css("top",i),!n&&r.css("position","relative")}})},703:function(t,e,n){var i=n(2),r=n(1),o=n(4),a=n(166),s=t.exports=o.create();r.extend(s.prototype,{initialize:function(t){var e=this;if(e.editor=t,!t.rawConfig.needChangeEditor)return;var n=i('\n    <div class="simple-dropdown ke-change-code">\n        <div class="btn-group">\n            <button class="btn btn-default dropdown-toggle">\n                <span class="js-editor-name">Markdown编辑器</span>\n                <span class="caret"></span>\n            </button>\n        </div>\n    </div>');t.toolbarEl.prepend(n);var r=n.find("div.btn-group"),o=e.editorSelect=a.show({target:r,options:[{text:"Markdown编辑器",value:"md",checked:!0},{text:"富文本编辑器",value:"html"}],needReWidth:!1});o.attach.listen("attachShow",(function(){return r.addClass("open")})),o.attach.listen("attachHide",(function(){return r.removeClass("open")})),o.listen("change",(function(){var t="html"===o.val();r.find(".js-editor-name").html(t?"富文本编辑器":"Markdown编辑器"),t&&e.changeEditor()}))},changeEditor:function(){var t=this.editor,e=t.rawConfig,i=t.getEl(),o=n(582);if(r.isFunction(e.changeEditor))return e.changeEditor();o.loadDep((function(){var n=new o({renderTo:i,renderBy:"after",isAdmin:e.isAdmin,content:t.val(),needChangeEditor:!0,needAt:e.needAt,canUploadVideo:e.canUploadVideo,video:e.video,afterChangeEditor:e.afterChangeEditor,pressEnter:e.pressEnter,width:e.width,height:e.height,draftChange:e.draftChange,disabled:e.disabled,clickMask:e.clickMask,noToolbarFixed:e.noToolbarFixed,toolbarFixedTop:e.toolbarFixedTop,noAutoHeight:e.noAutoHeight,render:function(){return t.destroy()}});e.afterChangeEditor&&e.afterChangeEditor.call(t,n),t.fire("changeEditor",n)})),i.hide()}})},704:function(t,e,n){var i=n(1);t.exports={getToolItems:function(t){var e="source,|,bold,italic,underline,forecolor,|,formatblock,bockquote,codeblock,insertorderedlist,insertunorderedlist,link,|,image,emoji,vote,video,|,table,subscript,superscript,math,removeformat";!t.isAdmin&&(e=e.replace("forecolor","")),!t.isVote&&(e=e.replace("vote","")),!t.canUploadVideo&&(e=e.replace("video",""));var n=e.split(",");return i.filter(n,(function(t){return!!t}))}}},705:function(t,e,n){var i=n(2),r=n(1),o=n(4),a=n(9),s=n(47),c=t.exports=o.create();r.extend(c.prototype,{initialize:function(t){this.editor=t,this.initFullScreen(),this.initTips(),this.initFix(),this.initCodeSelect()},initFullScreen:function(){var t=this.editor,e=t.rawConfig;if(e.fullScreen){var n=i('<a href="javaScript:void(0);" class="full-ico"></a>');t.getToolbarEl().append(n),n.on("click",e.fullScreen)}},initTips:function(){var t=this.editor,e=t.getToolbarEl().find("span.ke-outline");s.titleEl(e,{verReverse:!0},(function(e){return t.pushChild(e)}))},initFix:function(){var t=this.editor,e=t.rawConfig,n=!e.noToolbarFixed,i=+e.toolbarFixedTop||0,r=t.getToolbarEl();n&&i&&r.css("top",i),!n&&r.css("position","relative")},initCodeSelect:function(){var t=this.editor;if(t.rawConfig.noCodeSelect)return;var e=i(t.getToolbarEl()),r=i('<span class="ke-outline ke-insert-box"><span class="ke-insert-code"><i class="icon-insert-code"></i> 插入代码</span></span>');e.prepend(r),r.on("click",(function(){n(706).show({call:function(e){i.trim(e.content)&&function(e,n){var i=t.keEditor;t.removePlaceHolder();var r='<pre class="prettyprint '+(e?"lang-"+e:"")+'">'+a.encodeHTML(n)+"</pre><br />";i.insertHtml(r).focus(),t.fire("afterChange")}(e.code,e.content)}})}))}})},706:function(t,e,n){var i,r=n(218),o=n(7),a=n(4),s=n(3),c=n(129),l=t.exports=a.create();a.mix(l,o,{_template:["<div>",'<div class="pop-note-title mb2"></div>','<div class="js-editor" style="height:320px;font-size:14px;"></div>',"</div>"].join(""),listeners:[{name:"render",type:"custom",handler:function(){var t=this,e=t.rawConfig;l.loadDep((function(){t.initSelect(),t.initCodeEditor(),t.editor.focus(),t.popup.fixPosition(),e.value&&t.val(e.value)}))}}],show:function(t){var e=new l(t=t||{});return s.wrap(e,{title:"插入程序代码",noUnique:!0,content:e.html(),width:720,okTxt:"确定",cancelTxt:"取消",ok:function(){var n=e.val();t.call&&t.call(n)}}),e},loadDep:function(t){r.codemirror({call:function(){i=window.CodeMirror,t&&t()}})}},{initSelect:function(t){var e=this,n=e.getEl();e.langSelect=new c({renderTo:n.find(".pop-note-title"),options:[{text:"C/C++",value:"cpp",checked:!0},{text:"Java",value:"java"},{text:"Python",value:"py"},{text:"JavaScript",value:"js"},{text:"PHP",value:"php"},{text:"Ruby",value:"rb"},{text:"C#",value:"cs"},{text:"Shell",value:"bsh"},{text:"CSS",value:"css"},{text:"HTML",value:"html"},{text:"XML",value:"xml"},{text:"ASP/VB",value:"vb"},{text:"Perl",value:"pl"},{text:"其他",value:""}],change:function(){e.fixCodePlugin()}})},initCodeEditor:function(){var t=this.getEl();this.editor=i(t.find(".js-editor").get(0),{theme:"monokai",indentUnit:4,lineNumbers:!0,showInvisibles:!0,mode:"text/x-csrc",matchBrackets:!0,autoCloseBrackets:!0,hintOptions:{completeSingle:!1,closeOnUnfocus:!0},extraKeys:{Tab:function(t){var e=t.somethingSelected();e&&t.indentSelection("add"),!e&&t.replaceSelection(new Array(5).join(" "),"end","+input")}}})},fixCodePlugin:function(){var t=this.langSelect,e=t?t.val():"",n=this.getCM(e),i=this.editor;i&&n&&n.plugin&&i.setOption("mode",{name:n.name})},val:function(t){var e=this;if(0===arguments.length)return{code:e.langSelect.val(),content:(e.editor.getValue()||"").replace(/ /gi," ")};(t=t||{}).code&&e.langSelect.val(t.code),t.content&&e.editor.setValue(t.content||""),e.fixCodePlugin()},getCM:function(t){return t&&{vb:{plugin:"clike",name:"text/x-c++hdr"},cpp:{plugin:"clike",name:"text/x-c++hdr"},css:{plugin:"css",name:"text/css"},cs:{plugin:"clike",name:"text/x-c++hdr"},html:{plugin:"htmlmixed",name:"text/html"},java:{plugin:"clike",name:"text/x-java"},js:{plugin:"javascript",name:"text/javascript"},pl:{plugin:"clike",name:"text/x-java"},php:{plugin:"php",name:"application/x-httpd-php"},py:{plugin:"python",name:"text/x-python"},rb:{plugin:"ruby",name:"text/x-ruby"},bsh:{plugin:"clike",name:"text/x-c++hdr"},xml:{}}[t]||{}}})},707:function(t,e,n){var i=n(2),r=n(1),o=n(4),a=n(3),s=n(166),c=n(512),l=t.exports=o.create();r.extend(l.prototype,{initialize:function(t){var e=this;if(e.editor=t,!t.rawConfig.needChangeEditor)return;var n=i('\n    <div class="simple-dropdown ke-change-code">\n        <div class="btn-group">\n            <button class="btn btn-default dropdown-toggle">\n                <span class="js-editor-name">富文本编辑器</span>\n                <span class="caret"></span>\n            </button>\n        </div>\n    </div>');t.getToolbarEl().prepend(n);var r=n.find("div.btn-group"),o=e.editorSelect=s.show({target:r,options:[{text:"Markdown编辑器",value:"md"},{text:"富文本编辑器",value:"html",checked:!0}],needReWidth:!1});o.attach.listen("attachShow",(function(){return r.addClass("open")})),o.attach.listen("attachHide",(function(){return r.removeClass("open")})),o.listen("change",(function(){var t="md"===o.val();r.find(".js-editor-name").html(t?"Markdown编辑器":"富文本编辑器"),t&&e.changeEditor()}))},changeEditor:function(){var t=this,e=t.editor,i=e.rawConfig,o=e.getEl(),s=e.val(),l=n(511);if(r.isFunction(i.changeEditor))return i.changeEditor();if(e.isEmpty())return l.loadDep((function(){return u(l)}));function u(t){var n=new t({renderTo:o,renderBy:"after",isAdmin:i.isAdmin,content:t.html2md(s),needChangeEditor:!0,needAt:!!i.needAt,canUploadVideo:i.canUploadVideo,video:i.video,afterChangeEditor:i.afterChangeEditor,pressEnter:i.pressEnter,width:i.width,height:i.height,draftChange:i.draftChange,disabled:i.disabled,clickMask:i.clickMask,noToolbarFixed:i.noToolbarFixed,toolbarFixedTop:i.toolbarFixedTop,noAutoHeight:i.noAutoHeight,render:function(){return e.destroy()}});i.afterChangeEditor&&i.afterChangeEditor.call(e,n),e.fire("changeEditor",n),o.hide()}l.loadDep((function(){var e=a.confirm('切换到 MarkDown 编辑器可能会丢失部分内容格式，确认切换？<a class="link-green" href="javascript:void(0);">预览转换后的效果</a>',(function(){return u(l)}),(function(){t.editorSelect&&t.editorSelect.val("html")}));e&&e.getEl().find("a.link-green").on("click",(function(){var t=l.html2md(s),e=l.md2html(t),n=window.open().document;n.open("text/html","replace"),n.write("<html><head><title>预览</title><style>"+c.css+"</style></head><body>"+e+"</body></html>"),n.close()}))}))}})},708:function(t,e,n){var i=n(2),r=n(1),o=n(4),a=n(19),s=(n(9),n(128)),c=t.exports=o.create();r.extend(c.prototype,{initialize:function(t){if(a.ie())return;var e=t.getEditorDoc();t.keEditor,e=i(e);t.listen("afterBlur",(function(){var e=t.val(),n=s.replaceLink(e);n!==e&&t.val(n)}))}})},709:function(t,e,n){var i=n(2),r=n(1),o=n(4),a=n(8),s=n(21),c=t.exports=o.create();r.extend(c.prototype,{initialize:function(t){var e,n=this,r=t.getEl(),o=i(['<div class="js-editor-img-bar editor-img-bar" style="display:none;width:60px;">','<a href="javascript:void(0);" title="放大" class="icon-zoom-in"></a>','<a href="javascript:void(0);" title="缩小" class="icon-zoom-out"></a>',"</div>"].join(""));i(document.body).append(o),t.listen("destroy",(function(){return o.remove()}));var s=t.getEditorDoc();i(s).on("keydown",(function(t){window.clearTimeout(e),o.unbind("click").hide()})),i(s).on("click",(function(t){window.clearTimeout(e),o.unbind("click").hide();var c=t.target;n.canEdit(c)&&(e=window.setTimeout((function(){var t=c.width,e=c.height;if(t&&e){var n=a.getPosTop(c,s.body),l=a.getPosLeft(c,s.body),u=a.getPosTop(r),d=a.getPosLeft(r);o.css("top",u+n+40).css("left",d+l+1).show();var f=null;o.on("click","a.icon-zoom-in",(function(t){var e=i(c).width();i(c).removeAttr("width height").height("auto"),f=f||i(c).width("auto").width();var n=(Math.round(10*e/f)+1)/10;i(c).width(n>5?e:f*n)})),o.on("click","a.icon-zoom-out",(function(t){var e=i(c).width();i(c).removeAttr("width height").height("auto"),f=f||i(c).width("auto").width();var n=(Math.round(10*e/f)-1)/10;i(c).width(n<.1?e:f*n)}))}}),25))})),i(document.body).on("click",(function(t){var n=t.target;n===o.get(0)||i.contains(o.get(0),n)||(window.clearTimeout(e),o.unbind("click").hide())}))},canEdit:function(t){var e=i(t),n=i.trim(e.attr("src"));return n&&e.get(0)&&"img"===(e.get(0).tagName||"").toLowerCase()&&!s.getParam("tex",n)&&!e.attr("data-card-emoji")&&!e.attr("data-vote-id")}})},710:function(t,e,n){var i=n(2),r=n(1),o=n(4),a=t.exports=o.create();r.extend(a.prototype,{initialize:function(t){var e=t.rawConfig,n=t.getEditorDoc(),r=i(n.body),o=t.getEditor(),a=e.placeholder;a&&(r.attr("data-placeholder",a),t.listen("afterChange",s),s());function s(){var t=o.isEmpty();r[t?"addClass":"removeClass"]("show-placeholder")}}})},711:function(t,e,n){n(2);var i=n(1),r=n(4),o=n(8),a=n(80),s=n(84),c=t.exports=r.create();i.extend(c.prototype,{initialize:function(t){var e=t.rawConfig;if(e.noPasteUpload)return;var n,r=t.getEditor(),c=t.getEditorDoc();function l(){return n||((n=s.show({})).popup.listen("close",(function(){return n=null})),n)}o.bindPaste(c,c.body,(function(t,n){var o=i.find(t,(function(t){return"file"===t.kind&&/image/.test(t.type||"")})),s=o?o.getAsFile():null;s&&(n&&n.preventDefault&&n.preventDefault(),new a({url:e.pasteUploadUrl||"/uploadImage?type=1&watermark=true",progress:function(t){l().showProgress("正在上传："+t+"%",t)},error:function(){l().showError("上传失败")},call:function(t){l().close(),r.exec("insertimage",function(t){var n=e.imageTransformer;return n?n(t):t.url}(t))}}).uploadBlob(s,(new Date).getTime()+"."+(s.type||"").split("/").pop()))}))}})},712:function(t,e,n){var i=n(2),r=n(1),o=n(4),a=n(3),s=n(581),c=t.exports=o.create();r.extend(c.prototype,{initialize:function(t){if(t.rawConfig.noUploadRemote)return;var e=!1;function n(){if(!e){var n=t.getEditorDoc(),o=i(n.body).find("img"),c=o.length;if(0!==c){var l=r.map(o,(function(t){return i.trim(i(t).attr("src"))}));if(s.canUpload(l)){var u=s.isUploaded(l)?null:new a({hasNoTitle:!0,hasNoFooter:!0,noUnique:!0,content:'<div style="font-size:14px;text-align:center;">图片上传中...</div>'});e=!0;var d=0;r.forEach(o,(function(t){t=i(t);var n=i.trim(t.attr("src"));s.upload(n,(function(i){i&&i!==n&&(t.attr("src",i),t.attr("data-ke-src",i)),++d>=c&&(e=!1,u&&u.close())}))}))}}}}t.listen("draftChange",n),n()}})},713:function(t,e,n){n(2);var i=n(1),r=n(4),o=t.exports=r.create();i.extend(o.prototype,{initialize:function(t){}})},714:function(t,e,n){var i=n(2),r=n(1),o=n(4),a=n(21),s=(n(3),n(211)),c=(n(17),n(20),n(63),t.exports=o.create());r.extend(c.prototype,{initialize:function(t){var e=this.action=(t.rawConfig||{}).toolAction||{};this.initMath(t),this.initEmoji(t),this.initVote(t),this.initVideo(t);var n=t.getEditor();r.forEach(e,(function(t,e){n._handlers[e]=[t]}))},initMath:function(t){this.action.clickToolbarmath=function(){s.formula({useLaTex:!0,call:function(e){t.getEditor().exec("insertimage",e)},callLaTex:function(e){t.getEditor().insertHtml(e)}})},i(t.getEditorDoc()).on("click","img",(function(e){var n=i(e.currentTarget),r=n.attr("src"),o=a.getParam("tex",r);o&&s.formula({useLaTex:!0,value:o,valueLaTex:"$ "+o+" $",eidtor:t,call:function(t){n.attr("src",t).attr("data-ke-src",t)},callLaTex:function(t){n.replaceWith(t)}})}))},initEmoji:function(t){this.action.clickToolbaremoji=function(){};var e=t.getEditor(),i=e&&e.toolbar?e.toolbar.get("emoji"):null;if(i&&i.get(0)){var r=n(54).show({target:i.get(0),call:function(t){e.insertHtml(t.html)}});t.pushChild(r)}},initVote:function(t){var e=t.rawConfig;if(!e.cbEditVote)return;var n=i(t.getEditorDoc());this.action.clickToolbarvote=function(){e.cbEditVote({call:function(e){!function(e){var i=n.find("img[data-vote-id]");if(e&&i.get(0))i.attr("data-vote-id",e);else if(e){var r="https://static.nowcoder.com/images/vote-placeholder.png";e&&t.getEditor().insertHtml('<img src="'+r+'" data-vote-id="'+e+'" data-ke-src="'+r+'" /><div><br /></div>')}}(e)}})},n.on("click","img[data-vote-id]",(function(t){var n=i(t.currentTarget),r=i.trim(n.attr("data-vote-id"));r&&e.cbEditVote({voteId:r,call:function(t){n.attr("data-vote-id",t)}})}))},initVideo:function(t){var e=t.rawConfig.video||{};this.action.clickToolbarvideo=function(){};var i=t.getEditor(),r=i&&i.toolbar?i.toolbar.get("video"):null;if(!(r=r&&r.get(0)))return;n(63).show({target:r,url:e.path?e.path:"/admin/upload_video",fileSize:e.size?e.size:200,fileType:e.formats?e.formats:"*.ogg;*.webm;*.mp4",call:function(t,e){var n=t.data||{};i.insertHtml('<video controls><source src="'.concat(n.fileUrl,'" type="').concat(e.type,'"></source></video>'))},error:function(t,e){}})}})},715:function(t,e,n){var i=n(2),r=n(1),o=n(4),a=t.exports=o.create();r.extend(a.prototype,{initialize:function(t){var e,n,r=t.rawConfig;if(r.draftChange){var o=window.setInterval(a,1600);t.listen("destroy",(function(){window.clearInterval(o)}))}function a(){t.waitCreated((function(){try{var o=(new Date).getTime();if(e){if(o-e>800){var a=n||"",s=i.trim(t.iframeHtml());e=o,n=s,s!==a&&(t.fire("draftChange"),r.draftChange&&r.draftChange.call(t,t.val()))}}else e=o}catch(c){}}))}t.listen("afterChange",a)}})},716:function(t,e,n){var i=n(2),r=n(1),o=n(8),a=n(4),s=t.exports=a.create();r.extend(s.prototype,{initialize:function(t){if(t.rawConfig.noAutoHeight)return;var e=t.getEditorEl(),n=o.getScrollParent(e);n=i(n||window);var r=t.val();t.listen("afterChange",(function(){var e=t.val();if(r!==e){r=e;try{t.autoHeight(n)}catch(i){}}})),r&&i(t.getEditorDoc()).one("click",(function(){t.autoHeight(n)}))}})},717:function(t,e,n){var i=n(2),r=n(1),o=n(4),a=n(13),s=n(60),c=t.exports=o.create();r.extend(c.prototype,{initialize:function(t){if(this.editor=t,!t.rawConfig.needAt)return;this.id=r.ascId(),this.initIpt(t)},initIpt:function(t){var e,n=this,r=s.getPool(n.id),o=i(t.getEditorDoc()),a=i(t.getEditorWin()),c=i(o).find("body");function l(){window.clearTimeout(e),e=window.setTimeout((function(){n.analyze()}),150)}function u(t){n.cancelAt()&&t.preventDefault()}o.on("click",l),o.on("focus",l),o.on("keydown",(function(t){window.clearTimeout(e);var i=+t.keyCode;if({37:"left",38:"top",39:"right",40:"down",16:"shift",17:"ctrl",18:"option",91:"cmd"}[i]||!n.cancelAt())return{38:1,40:1,13:1}[i]?13===i&&r.isListMenuShow?t.preventDefault():void 0:l();t.preventDefault()})),a.on("blur",(function(){window.clearTimeout(e),e=window.setTimeout((function(){s.showList(n.id)}),150)})),c.on("paste",u),c.on("cut",u),c.on("copy",u)},analyze:function(){var t=this,e=t.editor,n=e.keEditor,i=t.getAtInfo();if(!i)return s.showList(t.id);var r=t.getPos(i.range);s.showList(t.id,{ipt:e.getEditorDoc(),text:i.text,pos:r,ext:{top:5},ok:function(i){var r=e.getEditorDoc(),o=t.getAtInfo().range;a.isInDev(),i.id;n.insertHtml('​<a data-card-uid="'+i.id+'" href="javascript:void(0);">@'+i.nickname+'</a>&nbsp;<span id="jsNcAtTmpSpan"></span>'),o.deleteContents();try{var s=r.getElementById("jsNcAtTmpSpan");(o=r.createRange()).selectNodeContents(s),o.collapse(!1);var c=e.getEditorWin().getSelection();c.removeAllRanges(),c.addRange(o),s.parentNode.removeChild(s)}catch(l){}}})},getAtInfo:function(){var t=this.editor.keEditor.cmd.range;if(!t.collapsed)return;if(this.getAtNodeByRange(t))return;var e,n=t.shrink().down().startContainer.data||"",i=t.startOffset-1,r=-1;for(;i>=0&&("@"===(e=n[i])&&(r=i),"@"!==e&&!/\s/.test(e));)i--;if(-1===r)return;if(r>0&&/[1-9a-z]/gi.test(n[r-1]))return;var o=t.cloneRange();return o.setStart(t.startContainer,r),{index:r,text:n.substring(r+1,t.startOffset),full:n.substring(r,t.startOffset),range:o}},getPos:function(t){var e=this.editor,n=t.doc,r=n.createDocumentFragment(),o=n.getElementById("ncAtTmpHockSpan");o||((o=n.createElement("span")).id="ncAtTmpHockSpan");o.innerHTML="@",r.appendChild(o),t.insertNode(r);var a=e.getElPos(o),s=i(o).outerHeight();return o.parentNode.removeChild(o),{top:a.top+s,left:a.left}},cancelAt:function(){var t=this.editor.keEditor;t.cmd.selection();var e=t.cmd.range,n=e.collapsed,i=this.getAtNodeByRange(e),r=n?i:this.getAtNodeByRange(e,!0);if(!i&&!r)return;var o=i,a=i!==r&&r?r:null,s=e.createBookmark();return o&&this.removeNode(o,!0),a&&this.removeNode(a,!0),e.moveToBookmark(s),t.select(),!0},getAtNodeByRange:function(t,e){var n=t[e?"endContainer":"startContainer"],i=t[e?"endOffset":"startOffset"];if(1===n.nodeType){var r=n.childNodes;if(i=i>0?i-1:0,r.length>i)return this.getAtNode(r[i])}return this.getAtNode(n)},getAtNode:function(t){for(;t;){var e=(t.nodeName||"").toLowerCase(),n=(t.className,t.getAttribute?t.getAttribute("data-card-uid"):"");if("a"===e&&(n||""===n))break;t=t.parentNode}return t},removeNode:function(t,e){var n,i=(t||{}).parentNode;if(i){if(e&&t.hasChildNodes())for(;n=t.firstChild;)i.insertBefore(n,t);i.removeChild(t)}return t}})},718:function(t,e,n){var i=n(2),r=n(1),o=n(4),a=n(13),s=n(66),c=t.exports=o.create();r.extend(c.prototype,{initialize:function(t){if(this.editor=t,!t.rawConfig.needSubject)return;this.id=r.ascId(),this.initIpt(t)},initIpt:function(t){var e,n=this,r=s.getPool(n.id),o=i(t.getEditorDoc()),a=i(t.getEditorWin()),c=i(o).find("body");function l(){window.clearTimeout(e),e=window.setTimeout((function(){return n.analyze()}),150)}function u(t){n.cancelSubject()&&t.preventDefault()}o.on("click",l),o.on("focus",l),o.on("keydown",(function(t){window.clearTimeout(e);var i=+t.keyCode;return!{37:"left",38:"top",39:"right",40:"down",16:"shift",17:"ctrl",18:"option",91:"cmd"}[i]&&n.cancelSubject()?t.preventDefault():{38:1,40:1,13:1}[i]?13===i&&r.isListMenuShow?t.preventDefault():void 0:l()})),a.on("blur",(function(){window.clearTimeout(e),e=window.setTimeout((function(){return s.showList(n.id)}),150)})),c.on("paste",u),c.on("cut",u),c.on("copy",u)},analyze:function(){var t=this,e=t.editor,n=e.keEditor,i=t.getSubjectInfo();if(!i)return s.showList(t.id);var r=t.getPos(i.range);s.showList(t.id,{ipt:e.getEditorDoc(),text:i.text,pos:r,ext:{top:5},ok:function(i){var r=e.getEditorDoc(),o=t.getSubjectInfo().range;a.isInDev(),i.id;n.insertHtml('​<a data-card-subject-id="'+i.id+'" href="javascript:void(0);">#'+i.content+'#</a>&nbsp;<span id="jsNcSubjectTmpSpan"></span>'),o.deleteContents();try{var s=r.getElementById("jsNcSubjectTmpSpan");(o=r.createRange()).selectNodeContents(s),o.collapse(!1);var c=e.getEditorWin().getSelection();c.removeAllRanges(),c.addRange(o),s.parentNode.removeChild(s)}catch(l){}}})},getSubjectInfo:function(){var t=this.editor.keEditor.cmd.range;if(!t.collapsed)return;if(this.getSubjectNodeByRange(t))return;var e,n=t.shrink().down().startContainer.data||"",i=t.startOffset-1,r=-1;for(;i>=0&&("#"===(e=n[i])&&(r=i),"#"!==e&&!/\s/.test(e));)i--;if(-1===r)return;if(r>0&&/[1-9a-z]/gi.test(n[r-1]))return;var o=t.cloneRange();return o.setStart(t.startContainer,r),{index:r,text:n.substring(r+1,t.startOffset),full:n.substring(r,t.startOffset),range:o}},getPos:function(t){var e=this.editor,n=t.doc,r=n.createDocumentFragment(),o=n.getElementById("ncSubjectTmpHockSpan");o||((o=n.createElement("span")).id="ncSubjectTmpHockSpan");o.innerHTML="#",r.appendChild(o),t.insertNode(r);var a=e.getElPos(o),s=i(o).outerHeight();return o.parentNode.removeChild(o),{top:a.top+s,left:a.left}},cancelSubject:function(){var t=this.editor.keEditor;t.cmd.selection();var e=t.cmd.range,n=e.collapsed,i=this.getSubjectNodeByRange(e),r=n?i:this.getSubjectNodeByRange(e,!0);if(!i&&!r)return;var o=i,a=i!==r&&r?r:null,s=e.createBookmark();return o&&this.removeNode(o,!0),a&&this.removeNode(a,!0),e.moveToBookmark(s),t.select(),!0},getSubjectNodeByRange:function(t,e){var n=t[e?"endContainer":"startContainer"],i=t[e?"endOffset":"startOffset"];if(1===n.nodeType){var r=n.childNodes;if(i=i>0?i-1:0,r.length>i)return this.getSubjectNode(r[i])}return this.getSubjectNode(n)},getSubjectNode:function(t){for(;t;){var e=(t.nodeName||"").toLowerCase(),n=(t.className,t.getAttribute?t.getAttribute("data-card-subject-id"):"");if("a"===e&&(n||""===n))break;t=t.parentNode}return t},removeNode:function(t,e){var n,i=(t||{}).parentNode;if(i){if(e&&t.hasChildNodes())for(;n=t.firstChild;)i.insertBefore(n,t);i.removeChild(t)}return t}})},719:function(t,e,n){var i=n(2),r=n(1),o=n(4),a=t.exports=o.create();r.extend(a.prototype,{initialize:function(t){var e=this;if(t.rawConfig.noShowExplain)return;var n=t.toolbarEl,r=t.bodyEl,o=i('<a class="ico-to-markdown">Markdown语法</a>');n.prepend(o),o.on("click",(function a(){var t=r.find(".js-explain"),n=t.get(0),i=n&&"none"!==t.css("display");i&&t.hide(),i||(n||(t=e.getExplain(),r.append(t),t.on("click",".pop-close",a)),t.show())}))},getExplain:function(){return i(['<div class="markdown-explain js-explain" style="display:none;">','<a href="javascript:void(0);" class="pop-close" title="关闭"></a>','<p class="markdown-explain-txt"><span class="tit">格式</span><span class="txt">语法</span></p>',"<ul>",'<li class="js-insert-md" data-type="h1"><a href="javascript:void(0);"><span class="tit bold">H1</span><span class="txt"># 标题</span></a></li>','<li class="js-insert-md" data-type="h2"><a href="javascript:void(0);"><span class="tit bold">H2</span><span class="txt">## 标题</span></a></li>','<li class="js-insert-md" data-type="h3"><a href="javascript:void(0);"><span class="tit bold">H3</span><span class="txt">### 标题</span></a></li>',"</ul>","<ul>",'<li class="js-insert-md" data-type="hr"><a href="javascript:void(0);"><span class="tit"><i class="icon-markdown icon-markdown1"></i></span><span class="txt">---分割线</span></a></li>','<li class="js-insert-md" data-type="strong"><a href="javascript:void(0);"><span class="tit"><i class="icon-markdown icon-markdown2"></i></span><span class="txt">**加粗**</span></a></li>','<li class="js-insert-md" data-type="em"><a href="javascript:void(0);"><span class="tit italic">斜</span><span class="txt">*斜体*</span></a></li>',"</ul>","<ul>",'<li class="js-insert-md" data-type="code"><a href="javascript:void(0);"><span class="tit"><i class="icon-markdown icon-markdown3"></i></span><span class="txt">`行内代码`</span></a></li>','<li class="js-insert-md" data-type="blockcode"><a href="javascript:void(0);"><span class="tit"><i class="icon-markdown icon-markdown4"></i></span><span class="txt">```代码块```</span></a></li>',"</ul>","<ul>",'<li class="js-insert-md" data-type="ul"><a href="javascript:void(0);"><span class="tit"><i class="icon-markdown icon-markdown5"></i></span><span class="txt">- 列表</span></a></li>','<li class="js-insert-md" data-type="ol"><a href="javascript:void(0);"><span class="tit"><i class="icon-markdown icon-markdown6"></i></span><span class="txt">1.有序列表</span></a></li>',"</ul>","<ul>",'<li class="js-insert-md" data-type="blockquote"><a href="javascript:void(0);"><span class="tit"><i class="icon-markdown icon-markdown7"></i></span><span class="txt">> 引用内容</span></a></li>','<li class="js-insert-md" data-type="link"><a href="javascript:void(0);"><span class="tit"><i class="icon-markdown icon-markdown8"></i></span><span class="txt">[链接标题](URL)</span></a></li>','<li class="js-insert-md" data-type="image"><a href="javascript:void(0);"><span class="tit"><i class="icon-markdown icon-markdown9"></i></span><span class="txt">![图片说明](URL)</span></a></li>',"</ul>",'<a href="https://www.nowcoder.com/discuss/179680" target="_blank" class="explain-more">详细说明 &gt;</a>',"</div>"].join(""))}})},720:function(t,e,n){var i=n(2),r=n(1),o=n(4),a=t.exports=o.create();r.extend(a.prototype,{initialize:function(t){var e,n=this,r=t.rawConfig;if(r.noSyncScroll||!r.noAutoHeight)return;function o(){n.cache={}}n.editor=t,n.iptEl=t.iptEl,n.iframeBody=i(t.iframeDoc.body),n.iframeWin=i(t.iframeWin),n.previewEl=t.previewEl,o(),n.initBakEl(),t.listen("updatePreview",o),t.listen("resize",o),t.listen("showPreview",(function(t){t&&(o(),n.iptEl.trigger("scroll"))})),n.iptEl.on("scroll",(function(){n.lockScrollSide("preview",(function(){window.clearTimeout(e),t.isInPreview&&(e=window.setTimeout((function(){var t=n.getEditorScroll();n.setPreviewScroll(t)}),256))}))})),n.iframeWin.on("scroll",(function(){n.lockScrollSide("editor",(function(){window.clearTimeout(e),t.isInPreview&&(e=window.setTimeout((function(){var t=n.getPreviewScroll();n.setEditorScroll(t)}),256))}))}))},getEditorScroll:function(){this.initCache();var t,e,n=this.cache,i=n.lineNum,o=this.iptEl.scrollTop(),a=n.contentLineTop;r.forEach(i,(function(n){if(!(a[n-1]<o))return e=n,r.BREAK;t=n}));var s=0;if(t&&e&&t!==e){var c=a[t-1],l=a[e-1];s=(o-c)/(l-c)}return{lastMarker:t,nextMarker:e,percent:s}},setEditorScroll:function(t){var e=this;e.initCache();var n=e.cache.contentLineTop,i=n[t.lastMarker-1],r=n[t.nextMarker-1];e.lockScrollSide("editor",(function(){var n=i+(r-i)*t.percent;e.editorAnimate&&e.editorAnimate.stop(),e.editorAnimate=e.iptEl.animate({scrollTop:n},128)}))},getPreviewScroll:function(){this.initCache();var t=this.cache,e=this.iframeWin.scrollTop(),n=0,i=0,o=t.contentLineCount,a=t.previewMaxScroll,s=t.lineEl,c=t.lineNum;r.forEach(s,(function(t,s){var l=t.offsetTop,u=c[s];if(!(l<e))return o=u,a=l,r.BREAK;n=u,i=l}));var l=0;i!==a&&(l=(e-i)/(a-i));return{lastMarker:n,nextMarker:o,percent:l}},setPreviewScroll:function(t){var e=this;e.initCache();var n=e.cache,i=0,r=n.previewMaxScroll;if(t.lastMarker){var o=n.lineNumMap[t.lastMarker];i=n.lineEl[o].offsetTop}if(t.nextMarker){o=n.lineNumMap[t.nextMarker];r=n.lineEl[o].offsetTop}var a=i+(r-i)*t.percent;e.lockScrollSide("preview",(function(){e.previewAnimate&&e.previewAnimate.stop(),e.previewAnimate=e.iframeBody.animate({scrollTop:a},128)}))},initBakEl:function(){if(this.bakDv)return this.bakDv;var t=this.iptEl.get(0),e=null!==window.mozInnerScreenX&&window.mozInnerScreenX!==undefined,n=document.createElement("div"),i=document.createElement("span");n.appendChild(i),document.body.appendChild(n);var r=n.style,o=window.getComputedStyle?window.getComputedStyle(t):t.currentStyle;r.whiteSpace="pre-wrap",r.wordWrap="break-word",r.position="absolute",r.visibility="hidden",r.display="none",r.overflow=e?t.scrollHeight>parseFloat(o.height)?"scroll":r.overflow:"hidden",r.direction=o.direction,r.boxSizing=o.boxSizing,r.width=o.width,r.height=o.height,r.overflowX=o.overflowX,r.overflowY=o.overflowY,r.borderTopWidth=o.borderTopWidth,r.borderRightWidth=o.borderRightWidth,r.borderBottomWidth=o.borderBottomWidth,r.borderLeftWidth=o.borderLeftWidth,r.borderStyle=o.borderStyle,r.paddingTop=o.paddingTop,r.paddingRight=o.paddingRight,r.paddingBottom=o.paddingBottom,r.paddingLeft=o.paddingLeft,r.fontStyle=o.fontStyle,r.fontVariant=o.fontVariant,r.fontWeight=o.fontWeight,r.fontStretch=o.fontStretch,r.fontSize=o.fontSize,r.fontSizeAdjust=o.fontSizeAdjust,r.lineHeight=o.lineHeight,r.fontFamily=o.fontFamily,r.textAlign=o.textAlign,r.textTransform=o.textTransform,r.textIndent=o.textIndent,r.textDecoration=o.textDecoration,r.letterSpacing=o.letterSpacing,r.wordSpacing=o.wordSpacing,r.tabSize=o.tabSize,r.MozTabSize=o.MozTabSize,this.bakDv=n,this.bakSpan=i},initCache:function(){var t=this;!t.cache&&(t.cache={});var e=t.cache;if(e.inited)return;e.inited=!0;var n=t.iptEl.get(0),i=n.value.split("\n");e.contentLineCount=i.length,e.iframeBodyHeight=t.iframeBody.outerHeight(),e.previewElHeight=t.previewEl.outerHeight(),e.previewMaxScroll=e.iframeBodyHeight-e.previewElHeight;var o=e.lineEl=t.iframeBody.find("[data-line]");a=[],s={},r.forEach(o,(function(t,e){var n=+t.getAttribute("data-line");a.push(n),s[n]=e})),e.lineNum=a,e.lineNumMap=s,function(){var o=window.getComputedStyle?window.getComputedStyle(n):n.currentStyle,a=e.contentLineTop={},s=t.bakDv,c="";r.forEach(i,(function(t){return c+="<span>".concat((t||".").replace(/</gi,"[").replace(/>/gi,"]"),"</span>\n")})),s.innerHTML=c,s.style.display="block",s.style.width=o.width,s.style.height=o.height;var l=parseFloat(o.borderTopWidth)||0,u=s.getElementsByTagName("span");r.forCount(e.contentLineCount,(function(t){var e=u[t];a[t]=e.offsetTop+l})),s.innerHTML="",s.style.display="none"}();var a,s},lockScrollSide:function(t,e){var n=this;n.scrollingSide&&n.scrollingSide!==t||(n.scrollingSide=t,window.clearTimeout(n.sideClearTimer),n.sideClearTimer=window.setTimeout((function(){n.scrollingSide=null}),512),e&&e())}})},721:function(t,e,n){var i=n(2),r=n(1),o=n(4),a=t.exports=o.create();r.extend(a.prototype,{initialize:function(t){var e,n=this;if(t.rawConfig.noHighlight)return;var o=!1,a=t.iptEl,s=i(t.iframeDoc.body);function c(){o=!0,window.clearTimeout(e),e=window.setTimeout(l,250)}function l(){if(u(),o&&t.isInPreview){var e=a.val(),i=a.range(),c=i.start,l=i.end,d=(c=n.getPosLine(e,i.start),l=n.getPosLine(e,i.end),c===l);d&&s.find("[data-line="+c+"]").addClass("md-highlight"),!d&&r.forCount(l-c+1,(function(t){s.find("[data-line="+(c+t)+"]").addClass("md-highlight")}))}}function u(){window.clearTimeout(e),s.find(".md-highlight").removeClass("md-highlight")}t.listen("updatePreview",l),a.on("focus",c),a.on("click",c),a.on("blur",(function(){o=!1,u()}))},getPosLine:function(t,e){return t.substring(0,e).split("\n").length}})},75:function(t,e,n){"use strict";var i=n(1);var r={name:"nc-checkbox",props:["radio","disabled","value","text","checkConfirm"],data:function(){return{checked:this.value}},methods:{actionClick:function(){var t=this;if(!(t.disabled||t.radio&&t.checked)){(i.isFunction(t.checkConfirm)?t.checkConfirm:function(t,e){return e(!0)})(!t.checked,(function(e){e&&(t.checked=!t.checked,t.$emit("click",t.checked))}))}}},computed:{chkCls:function(){var t=[this.radio?"radio":"checkbox"];return this.disabled&&t.push("disabled"),this.value&&t.push("checked"),t}},watch:{value:function(t){this.checked=t},checked:function(t){this.$emit("input",t),t&&this.$emit("checked")}}},o=n(0),a=Object(o.a)(r,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("label",{"class":t.chkCls,on:{click:function(e){return e.preventDefault(),t.actionClick(e)}}},[n("span",{staticClass:"icons"}),t._v(" "),"checkbox"==(t.radio?"radio":"checkbox")?n("input",{directives:[{name:"model",rawName:"v-model",value:t.checked,expression:"checked"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(t.checked)?t._i(t.checked,null)>-1:t.checked},on:{click:function(t){t.preventDefault(),t.stopPropagation()},change:function(e){var n=t.checked,i=e.target,r=!!i.checked;if(Array.isArray(n)){var o=t._i(n,null);i.checked?o<0&&(t.checked=n.concat([null])):o>-1&&(t.checked=n.slice(0,o).concat(n.slice(o+1)))}else t.checked=r}}}):"radio"==(t.radio?"radio":"checkbox")?n("input",{directives:[{name:"model",rawName:"v-model",value:t.checked,expression:"checked"}],attrs:{type:"radio"},domProps:{checked:t._q(t.checked,null)},on:{click:function(t){t.preventDefault(),t.stopPropagation()},change:function(e){t.checked=null}}}):n("input",{directives:[{name:"model",rawName:"v-model",value:t.checked,expression:"checked"}],attrs:{type:t.radio?"radio":"checkbox"},domProps:{value:t.checked},on:{click:function(t){t.preventDefault(),t.stopPropagation()},input:function(e){e.target.composing||(t.checked=e.target.value)}}}),t._v(" "),t.$scopedSlots["default"]?t._e():[t._v(t._s(t.text))],t._v(" "),t._t("default")],2)}),[],!1,null,null,null).exports;n(1);a.install=function(t){return t.component(a.name,a)};e.a=a},77:function(t,e,n){var i=n(2),r=n(1),o=n(7),a=n(4),s=n(81),c=n(9),l=n(8),u=n(296),d=t.exports=a.create();a.mix(d,o,{_template:['<div class="btn-group attach-suggest" style="display:block;">','<ul class="dropdown-menu js-menu" style="position:static;float:none;border-bottom:0;overflow-x:hidden;"></ul>','<div style="padding:20px 0;text-align:center;font-size:14px;display:none;background:#fff;border:1px solid #d4d4d4;" class="js-none attach-suggest-none">没有结果</div>',"</div>"].join(""),listeners:[{name:"render",type:"custom",handler:function(){var t=this.getEl();this.ulEl=t.find("ul.js-menu"),this.noneEl=t.find("div.js-none"),this.initIpt(),this.initKeyboard()}},{name:"click ul.js-menu li.js-item",handler:function(t){var e=i(t.currentTarget);this.selectItem(e)}}],show:function(t){var e=this,n=new d(t=t||{});s.wrap(n,{target:t.input,targetHover:t.targetHover,attach:t.attach,content:n.html(),needReWidth:t.needReWidth,noHover:t.noHover,noEnterLeave:t.noEnterLeave,noLeave:t.noLeave,zIndex:t.zIndex,attachShow:function(){return n.refreshList()},attachHide:function(){window.clearTimeout(e._refreshListTimer),n.clear()}});return n}},{initialize:function(t){this.isHide=!0,this.reqStatusMap={},this.selectCls=t.selectCls||"selected",this.ipt=i(t.input),this.cache={}},initIpt:function(){var t=this;t.ipt.on("keyup",(function(){return t.refreshList()}))},initKeyboard:function(){var t=this,e=t.rawConfig;t.getEl();t.keyboardItem=u.mix({el:i(e.focusIpt).length>0?e.focusIpt:t.ipt,canFire:function(){return!t.isHide},getItem:function(){return t.ulEl.find("li.js-item")},up:function(e,n,r){i(r[n]).removeClass(t.selectCls),i(r[e]).addClass(t.selectCls),l.fixScrollPos(t.ulEl,r[e])},down:function(e,n,r){i(r[n]).removeClass(t.selectCls),i(r[e]).addClass(t.selectCls),l.fixScrollPos(t.ulEl,r[e])},selected:function(e,n,i){e>=0&&t.selectItem(i[e])},keyup13:function(n,r,o,a){(!r||o<0)&&e.okNone&&e.okNone({pending:t.reqStatusMap[i.trim(t.ipt.val())]})}})},refreshList:function(){var t=this,e=t.ipt,n=t.rawConfig,r=i.trim(e.val());if(window.clearTimeout(t._refreshListTimer),r===t._lastVal)return;t.clear(),t._lastVal=r;var o=t.cache[r];if(o)return n.dealList&&(o=n.dealList(o.slice(0))),t.renderList(o,r);t.reqStatusMap[r]=!0,t._refreshListTimer=window.setTimeout((function(){n.reqList(r,(function(o){t.reqStatusMap[r]=!1,o&&!n.noCache&&(t.cache[r]=o);var a=i.trim(e.val());a===r&&(n.dealList&&o&&(o=n.dealList(o.slice(0))),t.renderList(o||[],a))}))}),100)},renderList:function(t,e){var n=this,o=n.rawConfig,a=!!o.needSame,s="",c={};r.forEach(t,(function(t){var i=n.getId(),r=n.getItem(t);r._sid=i,c[i]=r,(a||r.text!==e)&&(s+=n.getItemStr(r))})),n._itemMap=c,n.ulEl.html(s),o.showNone?(n.ulEl[s?"show":"hide"](),n.noneEl[s?"hide":"show"](),s&&n.hideList(!1),n.isHide=!s):n.hideList(!s);if(s){var l=Math.max(-1,+o.defaultIndex||0);l>=0&&i(n.ulEl.find("li.js-item")[l]).addClass(n.selectCls),n.keyboardItem&&(n.keyboardItem.index=l)}(o.rePositionInList||o.attach&&o.attach.verReverse)&&n.attach.fixPosition()},clear:function(){this.ulEl.scrollTop(0),this.ulEl.find("."+this.selectCls).removeClass(this.selectCls),this.keyboardItem.clear(),this._lastVal=null},getItem:function(t){var e=this.rawConfig;return e.getItem?e.getItem(t):t},getItemStr:function(t){var e=this.rawConfig;return e.getItemStr?e.getItemStr(t):c.execTpl('<li class="js-item" data-id="#{_sid}"><a href="javascript:void(0);">#{text}</a></li>',t)},selectItem:function(t){var e=this.rawConfig,n=i(t).attr("data-id"),r=n?this._itemMap[n]:null;r&&(e.ok&&e.ok(r),this.clear(),this.hideList())},hideList:function(t){this.rawConfig;var e=this.getEl();t=!1!==t,this.isHide=t,e[t?"removeClass":"addClass"]("open"),this.fire("hideList",t)},getId:function(){return this.id=(this.id||0)+1,r.id(this.id)}})},8:function(t,e,n){t.exports=n(28)(15)},80:function(t,e,n){var i=n(1),r=n(4),o=window.FormData,a=t.exports=r.create();i.extend(a,{support:!!(o&&window.XMLHttpRequest&&window.JSON&&window.addEventListener)}),i.extend(a.prototype,{initialize:function(t){this.rawConfig=t||{}},uploadFile:function(t,e){var n,i=this,r=i.rawConfig,a=t.size,s=r.name||"file",c=0,l=0;if(!t||0===a)return;if(!e||a<=256e3){var u=new o;u.append(s,t),i.uploadForm(u)}else d();function d(){if(l=0,c<a){t.slice(c,256e3);var e=new o;e.append(s,e),function u(t){i.upload({data:t,url:r.url,extData:r.extData,XMLHttpRequest:r.XMLHttpRequest,beforeSend:r.beforeSend,noSupport:r.noSupport,call:function(t){n=t,c+=256e3,d()},error:function(e){var n=++l<3;n&&u(t),!n&&r.error&&r.error.call(i,e)},progress:function(t,e,n){e+=c,r.progress&&r.progress(+(100*e/a).toFixed(2),e,a)}})}(e)}else r.call&&r.call.call(i,n)}},uploadBlob:function(t,e){var n=this.rawConfig,i=new o;i.append(n.name||"file",t,e),this.uploadForm(i,n)},uploadForm:function(t){return this.upload(i.extend({},this.rawConfig,{data:t}))},upload:function(t){var e=this,n=(t=t||{}).data;if(!n)return;if(!a.support)return t.noSupport&&t.noSupport.call(e);i.forEach(t.extData,(function(t,e){return e&&t&&n.append(e,t)}));var r=new(t.XMLHttpRequest||window.XMLHttpRequest);r.withCredentials=!0,r.upload.addEventListener("progress",(function(n){var i=n.loaded,r=n.total||1,o=+(100*i/r).toFixed(2);t.progress&&t.progress.call(e,o,i,r)}),!1),r.onreadystatechange=function(n){if(4===r.readyState){var o=i.json(r.responseText,{msg:"出现错误，请重试"}),a=i.id(o.code),s="0"===a;o.msg="999"===a?"上传失败，请重新登录":o.msg;var c=s?"call":"error";t[c]&&t[c].call(e,o)}},r.open("POST",t.url,!0),t.beforeSend&&t.beforeSend(r),r.send(n)}})},81:function(t,e,n){var i=n(2),r=n(7),o=n(4),a=n(1),s=n(8),c=t.exports=o.create();o.mix(c,r,{_template:'<div style="display:none;">#{content}</div>',listeners:[{name:"render",type:"custom",handler:function(){var t=this.rawConfig,e=this.getEl();t.width&&e.outerWidth(t.width),t.height&&e.outerHeight(t.height),this.initAttach(),this.resize()}}],wrap:function(t,e){if(!t||!e)return;var n=new c(e);return t.attach=n,r.setEvents(),n.listen("destroy",(function(){t.destroy()})),t.listen("destroy",(function(){n.destroy()})),n}},{initialize:function(t){if(t.renderTo=t.attachRenderTo,!t.renderTo){var e=i(t.target),n=s.getScrollParent(e);t.renderTo=i(n||document.body)}},initAttach:function(){var t,e,n,r=this,o=r.rawConfig,c=i(o.target),l=r.getEl(),u=!1;if(0===c.length)return;if(r._initAttached)return;r._initAttached=!0,o.noHover||(c.on("focus",p),(o.targetHover||c).on("mouseenter",p).on("mouseleave",h));function d(){window.clearTimeout(t),window.clearTimeout(e),window.clearTimeout(n)}function f(){if(u||o.noHover){var t="none"===l.css("display");t&&r.forceShow(),!t&&r.forceHide(),u=!0}}function p(){d(),e=window.setTimeout(g,100)}function h(e){d(),t=window.setTimeout((function(){v(e)}),100)}function g(){o.canShow&&!o.canShow()||(window.clearTimeout(n),n=window.setTimeout((function(){u=!0}),500),l.show(),m(),r.fire("attachShow"),o.attachShow&&o.attachShow.call(r))}function v(t){u=!1,window.clearTimeout(n),(!o.canHide||o.canHide())&&"none"!==l.css("display")&&(o.attachHide&&o.attachHide.call(r),l.hide(),r.fire("attachHide",t))}function m(){var t=o.attach||{};s.attachTo(a.extend({},t,{el:l,parent:o.renderTo,target:c,verReverse:!!t.verReverse,center:!!t.center,horz:!!t.horz,zIndex:"zIndex"in o?o.zIndex:t.zIndex}))}!o.noEnterLeave&&l.on("mouseenter",(function(){r.isMouseEnter=!0,d()})),!o.noEnterLeave&&!o.noLeave&&l.on("mouseleave",(function(){r.isMouseEnter=!1,h({attachLeave:!0})})),o.needClick&&c.on("click",f),r.listen("forceHide",(function(t){d(),v(t)})),r.listen("forceShow",(function(){d(),g()})),r.listen("destroy",(function(){c.unbind("mouseenter",p).unbind("focus",p),c.unbind("mouseleave",h),c.unbind("click",f),o.targetHover&&o.targetHover.unbind("mouseenter",p).unbind("focus",p).unbind("mouseleave",h),l.unbind()})),r.listen("jsFixPosition",(function(){m()}))},fixPosition:function(){this.fire("jsFixPosition")},forceHide:function(t){this.fire("forceHide",t)},forceShow:function(){this.fire("forceShow")},isShow:function(){return"none"!==this.getEl().css("display")},resize:function(){var t=this,e=t.rawConfig;if(e.needReWidth&&!t._isInitResize){t._isInitResize=!0;var n=i(e.target),r=t.getEl(),o=!0;t.listen("attachShow",(function(){var e=n.outerWidth(),i=r.outerWidth(),a=r.width("auto").width();(o||i!==a)&&t.fire("widthChange",e);o=!1}))}},_getData:function(t){return{content:t.content}}})},84:function(t,e,n){var i=n(2),r=(n(1),n(7)),o=n(4),a=n(3),s=t.exports=o.create();o.mix(s,r,{_template:'<div class="subject-upload-inner" style="margin:0"></div>',listeners:[{name:"render",type:"custom",handler:function(){var t=this;t.docClick=function(){t.popup&&t.popup.close()},t.showProgress()}},{name:"destroy",type:"custom",handler:function(){i(document).unbind("click",this.docClick)}}],show:function(t){var e=new s(t=t||{});a.wrap(e,{content:e.html(),width:540,hasNoTitle:!0,hasNoMove:!0,hasNoMargin:!0,noUnique:!0});return e}},{showProgress:function(t,e){var n=this.getEl();t=i.trim(t)||" ",e=e||0,n.html('<div class="upload-progress-bar"><span class="progress-txt" style="color:#ccc;">'+t+'</span><div class="progressing" style="width:'+e+'%;"></div></div>'),i(document).unbind("click",this.docClick)},showError:function(t){this.getEl().html('<a href="javascript:void(0);" class="btn btn-block btn-default"><span class="upload-rusult-ico"><span class="fui-cross"></span></span>'+t+"</a>"),i(document).one("click",this.docClick)},close:function(){this.popup&&this.popup.close()}})},9:function(t,e,n){t.exports=n(28)(3)},95:function(t,e,n){"use strict";var i=n(487),r=n(2),o=n(1),a=n(53),s=n(153),c=[];a.listen("popupVueGlobalHideAll",(function(){u&&u.$hide&&u.$hide(!0)}));var l={props:["isShow","hasNoTitle","hasNoFooter","hasNoMove","clickToHide","noUnique","hideOkBtn","hideCancelBtn","width","height","duration","title","content","errorTips","okTxt","cancelTxt","noHideDestroy"],components:{Layer:i.a},data:function(){return{left:null,top:null}},created:function(){!this.noUnique&&u.$hide(),this.initRef(),this.$mount()},mounted:function(){var t=this;t.$nextTick((function(){t.initDrag(),t.initPosition(),t.initDuration(),t.initAction(),t.fixPosition()}))},methods:{initRef:function(){var t=this;c.push(t),t.$on("hook:destroyed",(function(){o.forReverse(c,(function(e,n){return e===t&&c.splice(n,1)}))}))},initDrag:function(){var t=this,e=r(t.$refs.popup),n=e.find(".js-popup-header");!t.hasNoMove&&n.get(0)&&new s({drag:n,listeners:[{name:"start",handler:function(){this.offset={left:parseInt(e.css("marginLeft"),10),top:parseInt(e.css("marginTop"),10)}}},{name:"drag",handler:function(){var e=this.offset,n=e.left+this._moveX-this._downX,i=e.top+this._moveY-this._downY;t.left=n<2?1:n,t.top=i<1?1:i}},{name:"drop",handler:function(){delete this.offset}}]})},initPosition:function(){var t=this,e=t.$refs.layer;function n(){t.left=e.marginLeft,t.top=e.marginTop}n(),e.$watch("marginLeft",n),e.$watch("marginTop",n),t.$watch("isNeedShow",d)},initDuration:function(){var t=this,e=t.duration&&window.parseInt(t.duration,10)||0;if(e>0){var n=window.setTimeout((function(){return t.close()}),e);t.$on("hook:destroyed",(function(){return window.clearTimeout(n)}))}},initAction:function(){var t=r(this.$refs.popup);t.on("click",".js-popup-close",o.bind(this.close,this)),t.on("click",".js-popup-cancel",o.bind(this.cancel,this)),t.on("click",".js-popup-ok",o.bind(this.ok,this))},fixPosition:d,lang:o.bind(o.lang,o),ok:function(){this.$emit("ok"),this.close()},cancel:function(){this.$emit("cancel"),this.close()},close:function(){this.$emit("close"),!this.noHideDestroy&&this.$destroy()},fixVal:function(t,e){return o.id(t)?t:e}},computed:{style:function(){return{width:(this.width||520)+"px",height:this.height?this.height+"px":undefined,marginLeft:this.left+"px",marginTop:this.top+"px"}},isNeedShow:function(){return this.isShow===undefined||!!this.isShow}}},u={$hide:function(t){!t&&a.fire("popupCpnGlobalHideAll"),o.forEach(c.slice(0),(function(t){return t.close()})),c.length=0}};function d(){var t=this;t.isNeedShow&&t.$nextTick((function(){t.$refs.layer.center(t.$refs.popup)}))}var f=l,p=n(0),h=Object(p.a)(f,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("Layer",{ref:"layer",attrs:{isShow:t.isNeedShow,isShowContent:!0,needClick:t.clickToHide},on:{click:t.close},scopedSlots:t._u([{key:"default",fn:function(){return[n("div",{ref:"popup",staticClass:"pop-box",style:t.style},[t.$scopedSlots.title?t._t("title"):t.hasNoTitle?t._e():n("div",{staticClass:"pop-title js-popup-header"},[t.$scopedSlots.closeBtn?t._t("closeBtn"):n("a",{staticClass:"pop-close",attrs:{href:"javascript:void(0);",title:"关闭"},on:{click:function(e){return e.stopPropagation(),t.cancel(e)}}}),t._v(" "),t.errorTips?n("span",{staticClass:"pop-error-tip"}):t._e(),t._v(" "),n("h1",{domProps:{innerHTML:t._s(t.title)}})],2),t._v(" "),t.$scopedSlots.content?t._t("content"):n("div",{staticClass:"pop-content",domProps:{innerHTML:t._s(t.content)}}),t._v(" "),t.$scopedSlots.footer?t._t("footer"):t.hasNoFooter||t.hideOkBtn&&t.hideCancelBtn?t._e():n("div",{staticClass:"pop-footer clearfix"},[t.hideOkBtn?t._e():n("a",{staticClass:"btn btn-primary confirm-btn",attrs:{href:"javascript:void(0);"},domProps:{innerHTML:t._s(t.lang(t.okTxt||"确定"))},on:{click:function(e){return e.stopPropagation(),t.ok(e)}}}),t._v(" "),t.hideCancelBtn?t._e():n("a",{staticClass:"btn btn-default cancle-btn",attrs:{href:"javascript:void(0);"},domProps:{innerHTML:t._s(t.lang(t.cancelTxt||"取消"))},on:{click:function(e){return e.stopPropagation(),t.cancel(e)}}})])],2)]},proxy:!0}],null,!0)})}),[],!1,null,null,null).exports,g=n(10);n(1),g.extend(h),e.a=h}}]);