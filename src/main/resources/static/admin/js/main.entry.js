(window.webpackJsonp=window.webpackJsonp||[]).push([[171],{11:function(t,e,i){var n=i(5);t.exports={url:{newClockRecord:"/clock/new",getTodayClockInfo:"/clock/todayInfo",getDayInfo:"/clock/dayInfo",getMonthInfo:"/clock/monthInfo",getShareImage:"/clock/share-image"}},n.add(t.exports,t.exports.url)},1277:function(t,e,i){i(40),i(41),i(43),i(44),i(1278),t.exports=i(1279)},1278:function(t,e,i){},1279:function(t,e,i){"use strict";i.r(e);var n=i(51),s=i(147),a=i(2),o=i(1),r=i(15),c=i(45),l=i(38),d=i(20),u=i(17);function p(t){var e=this,i=a(t.target),n=i.prop("tagName").toLowerCase(),r=i.attr("id");if("aheadFinish"===r)return e.submitForm.append(e.finishIpt),t.preventDefault(),s.a.submitHandIn((function(){e.submitForm.submit()}),(function(){e.finishIpt.remove()}));var c=o.map(e.uploadFile,(function(t){return t.url})),l=e.answerTextarea.val(),d=c.join(",");e.answerIpt.val(l),e.urlIpt.val(d),"form"!==n&&"aheadFinish"!==r&&e.finishIpt.remove()}r.ready({initialize:function(){var t=this;d.getEditor("hEditor",(function(e){t.fullScreenHeight=window.screen.availHeight||900,t.uploadFile=[],t.submitForm=a("#submitForm"),t.answerIpt=a("#answer"),t.urlIpt=a("#urls"),t.finishIpt=a('<input type="hidden" name="finish" value="1" />'),t.syncIpt=t.submitForm.find("input[name=sync]"),t.fixedMenu=a("div.fixed-menu"),t.answerTextarea=new e({renderTo:a("textarea.subject-anwser-wd"),renderBy:"replaceWith",noUploadRemote:!0,height:320,fullScreen:function(){t.gotoFullScreen()}}),l.transform(a("div.synchronization label"),{change:function(){var e=this.getEl();this.isChecked()?(e.parent().addClass("selected"),t.syncIpt.val("1"),t.submitForm.append(t.syncIpt)):(e.parent().removeClass("selected"),t.syncIpt.remove())}}),t.uploadEl=a("#attachList"),t.uploadUl=t.uploadEl.find("ul");var i=window.selected&&window.selected.content||"";i&&t.answerTextarea.val(i),t.isIntelligentPaper=window.isIntelligentPaper||!1,s.a.init({timeContainer:a("a.progress-time"),timeEl:a("span.time-text"),isCountingUp:t.isIntelligentPaper}),"1"===c.get("questionFullScreen")&&t.gotoFullScreen()}))},initShare:function(){var t=window.questionInfo||{},e=t.paperName,i={1:"我正在练习"+e+"，这道题目太难了！求助！",2:"求助大佬！"+e+"里这道题目太难了！",3:"大佬看看"+e+"里的这道题，太难了！"};n.a.show({logType:"4",target:a(".js-call-help"),btn:["img","wx","qq","weibo","link"],desc:i[Math.ceil(3*Math.random())],link:window.location.origin+"/questionTerminal/"+t.uuid,wxLink:"https://m.nowcoder.com/questionTerminal?uuid="+t.uuid,shareType:u.share.contest,entityId:t.qid})},binds:{"click #next":p,"submit #submitForm":p,"click #aheadFinish":p},gotoFullScreen:function(){var t=this;t.answerTextarea.waitCreated((function(){t.fullScreen?(s.a.gotoFullScreen(!1),t.fullScreen=!1,a(window).scrollTop(t.winScrollTop),t.fixedMenu.show(),t.answerTextarea.keEditor.edit._editHeight=320,t.answerTextarea.resize("100%"),t.answerTextarea.autoHeight()):(t.winScrollTop=a(window).scrollTop(),s.a.gotoFullScreen(),a(window).scrollTop(0),t.fullScreen=!0,t.fixedMenu.hide(),t.answerTextarea.keEditor.edit._editHeight=Math.max(t.fullScreenHeight-320,180),t.answerTextarea.resize("100%"),t.answerTextarea.autoHeight())}))}})},143:function(t,e,i){var n=i(8),s=i(2),a=i(29),o=i(1),r=i(122),c=i(12),l=i(3),d=i(13),u=i(9),p=i(39);t.exports={onlineJudgeHelp:function(t){var e=this;s(t.el).on("click",(function(t){t.preventDefault(),e.showOnlineJudgeHelp()}))},showOnlineJudgeHelp:function(){var t='<div style="font-size:14px;line-height:26px;">';o.forEach([{title:"为什么代码在我本机可以通过，提交到牛客网总是提示答案错误",content:'牛客网的每个编程题都有10-50组测试数据，你的代码在本机可以通过仅仅是通过了样例数据，可能存在边界条件考虑不周导致更多的测试数据没有通过，所以会返回答案错误。还有一种可能是你的代码没有处理多个测试用例，例如A+B的代码需要while循环处理<br/><pre class="prettyprint">#include &lt;stdio.h&gt;<br/>int main() {<br/>    int a,b;<br/>    while(scanf("%d %d",&a, &b) != EOF)<br/>        printf("%d",a+b);<br/>    return 0;<br/>}</pre>'},{title:"为什么Java代码在我本机运行正常，提交到牛客网报编译错误",content:"因为Java文件名和类名需要保持一致。<br />1、如果编程题已经提供了类和要编写代码的方法，请不要擅自给方法加上static，也不要擅自修改类的名字。也不要给代码增加任何package信息。<br/>2、对于没有提供任何辅助代码的编程题，请确认类的名字是Main"},{title:"为什么我的代码在本机运行正常，提交到牛客网总是报运行超时",content:"牛客网对每个编程题的运行时间都有限制，一般是限制在1秒，牛客网后台判题的机器显然不如的你的台式机强劲，所以碰到超时请尽量优化你的代码效率。当然也有可能是你代码对某个测试用例死循环了"},{title:"为什么代码会提示答案正确（提交异常）",content:"这种情况代码本题你的结果是已AC，但是有点小问题：<br />1、牛客网对提交的代码会做相似度的判断，如果发现你的代码通过的测试用例同时和已有代码相似度过高则会给出答案正确（提交异常）的提示<br />2、根据题目的难易程度会对通过代码的提交频率进行控制，如果你提交通过代码的间隔太小，我们也认为有作弊可能，也会提示提交异常"},{title:"运行错误是什么情况",content:"运行错误一般都是数组越界非法访问，野指针乱访问，空指针乱访问等情况造成代码崩溃"}],(function(e){t+='<div style="margin-bottom:20px"><div style="font-weight:bold;">Q：'+e.title+"</div><div>A："+e.content+"</div></div>"})),new l({title:"代码提交常见问题",width:960,content:t+="</div>",okTxt:"问题解决",cancelTxt:"还有问题",listeners:{render:function(){var t=this.cancelBtn;t.attr("href","https://www.nowcoder.com/discuss/276"),t.attr("target","_blank"),n.highlight()}}})},initCodeEditor:function(t,e){var i=c.frequency(1e3),n=!1,h={};o.forEach(["questionId","pid","tid","qid","tagId","subTagId"],(function(t){return t in e&&(h[t]=e[t])}));var f,m,v=t.getLastLangue()||u.trim(r.langCpp);e.submitCode&&(e.submitCode.code||e.submitCode.language)&&(f=!0,m=e.submitCode.code,v=u.trim(e.submitCode.language||v));var g=u.trim(e.codeJudgeType),y="3"===g||"8"===g,w=e.vojLanguageList||[],k=y&&w.length>0?r.getTplVoj(w):[];if(!(y=y&&k.length>0)){var b=e.langTpl||r.getTpl();k=r.checkTpl(g,b)}var C=o.map(k,(function(t){var e=u.trim(t.id),i=v===e;return{value:e,checked:i,code:f&&i?m:"",tplCode:u.trim(t.tpl.val())||"",valueNc:u.trim(t.idNc),name:u.trim(t.name)}})),x=e.codeHint||"keyword",T="";window.showCodeCompleteV2&&{keyword:1,lsp:1}[x]&&(x=y?"keyword":"lsp",T="0"===g?"1":"2");var _=new t({renderTo:s(e.codeEl),noAutoSize:!!e.noAutoSize,noCacheCode:!!e.noCacheCode,codeHint:x,codeHintLspMode:T,tipEl:s(e.runInfoEl),runCode:h,options:C,isJudgeVoj:y,height:e.autoFixHeight?null:320,maxStatusDelay:e.maxStatusDelay,runExtParam:e.runExtParam,statusExtParam:e.statusExtParam,captchaUrl:e.captchaUrl,getUrlSubmitCode:e.getUrlSubmitCode,getUrlGetCodeStatus:e.getUrlGetCodeStatus,judgeType:g,noShowModeTips:!!e.noShowModeTips,modeTipsShowDbKey:e.modeTipsShowDbKey,supportSelfTest:("supportSelfTest"in e?!!e.supportSelfTest:!!window.supportSelfTest)&&!e.noSelfTest,selfTestIsMain:"1"===g,selfTestGetMainTips:e.selfTestGetMainTips,selfTestType:e.selfTestType||9,selfTestRunExtParam:e.selfTestRunExtParam,selfTestSystemCase:e.selfTestSystemCase,selfTestWarning:e.selfTestWarning,needShowDiff:e.needShowDiff,noSelfTestDiff:e.noSelfTestDiff,noSelfTestTreeViewHref:!!e.noSelfTestTreeViewHref,showDiffUrl:e.showDiffUrl,listeners:{render:function(){if(e.autoFixHeight){var t=Math.max((window.screen.availHeight||900)-320,180);this.resize(null,t)}},runCodeFinish:function(t){return n=!1},runCodeSuccess:function(t){return n=!1},runCodeDanger:function(t){return n=!1},runCodeError:function(t){return n=!1},langueChange:function(){}}}),j=s(e.runCodeEl);if(j.length>0){j.on("click",(function(){i((function(){n=!0,_.runCode()}))}));var E=j.html();_.listen("enterSelfTest",(function(){return j.html("自测调试")})),_.listen("exitSelfTest",(function(){return j.html(E)}))}var S=[{el:s(e.loadCodeEl),name:"codeGetLastSubmission"},{el:s(e.loadAcceptCodeEl),name:"codeGetLastAcceptSubmission"}];return o.forEach(S,(function(t){var i=t.el,s=t.name;i.addClass("nc-req-auth"),i.on("click",(function(){if(d.isLogin())return n?l.alert("代码提交运行中，请稍后重试"):void(a.mark(i)||p[s]({query:{questionId:e.questionId},call:function(t){var e=t.data;e&&e.language&&_.val(e.language,e.content)},error:function(t){return l.alert(t.msg)},always:function(){return a.clear(i)}}))}))})),_},initFECodeEditor:function(t,e){var i={};o.forEach(["questionId","pid","tid","qid"],(function(t){t in e&&(i[t]=e[t])}));var n=!1,c=e.langTpl||r.getTplFE(),u=new t({renderTo:s(e.codeEl),noAutoSize:!!e.noAutoSize,noTemplate:e.noTemplate,openPreview:!0,tipEl:s(e.runInfoEl),runCode:i,supportLang:e.supportLang,statusExtParam:e.statusExtParam,captchaUrl:e.captchaUrl,getUrlSubmitCode:e.getUrlSubmitCode,getUrlGetCodeStatus:e.getUrlGetCodeStatus,forceUpdatePreview:e.forceUpdatePreview,languages:o.map(c,(function(t){return{text:t.id,code:s.trim(s(t.tpl).val()),checked:"javascript"===t.id}})),listeners:{render:function(){if(e.autoFixHeight){var t=Math.max((window.screen.availHeight||900)-320,180);this.resize("100%",t),this.height=t}},runCodeFinish:function(t){return n=!1},runCodeSuccess:function(t){return n=!1},runCodeDanger:function(t){return n=!1},runCodeError:function(t){return n=!1},langueChange:function(){}}}),h=s(e.runCodeEl);h.length&&h.on("click",(function(){n=!0,u.runCode()}));var f=[{el:s(e.loadCodeEl),name:"codeGetLastSubmission"},{el:s(e.loadAcceptCodeEl),name:"codeGetLastAcceptSubmission"}];return o.forEach(f,(function(t){var i=t.el,s=t.name;i.addClass("nc-req-auth"),i.on("click",(function(){if(d.isLogin())return n?l.alert("代码提交运行中，请稍后重试"):void(a.mark(i)||p[s]({query:{questionId:e.questionId},call:function(t){var e=t.data,i=o.json(e.content,{});"codeGetLastSubmission"===s?u.resetCode(i):"codeGetLastAcceptSubmission"===s&&e.language&&(u.langueSelect&&u.langueSelect.val(e.language+""),u.resetCode(i))},error:function(t){return l.alert(t.msg)},always:function(){return a.clear(i)}}))}))})),u}}},147:function(t,e,i){"use strict";var n=i(6),s=i.n(n),a=i(55),o=i(2),r=i(8),c=i(153),l=i(52),d=i(9),u=i(12),p=i(45),h=i(3),f=i(143),m=i(17);e.a={init:function(t){this.lastLeft=0,this.isPause=!1,this.dragEl=o("div.full-separator"),this.topicDv=o("div.nowcoder-topic"),this.topicAnswerDv=o("div.nowcoder-topic-answer"),this.canPauseTime=!!window.canPauseTime   ,this.initTime(t.timeContainer,t.timeEl,!0),this.initCollect(),this.initShield(),this.initMark(),this.dragEl.get(0)&&this.initDragSplit(),r.highlight(),this.initShortCut(t.timeContainer),o("div.answer-sheet-box a.card-unfold").on("click",this.toggleFold),o("div.answer-sheet-box a.card-fold").on("click",this.toggleFold),o("div.answer-sheet-box")["1"===p.get("hideanswersheetbox")?"removeClass":"addClass"]("open"),o("div.synchronization").on("click",this.toggleSynchronization),"0"===p.get("nkSynchronization")&&(o("div.synchronization").removeClass("selected"),setTimeout((function(){o("#submitForm input[name=sync]").remove()}),1e3));this.initClickA(),o(document).on("click","ul.answer-sheet-num a",(function(t){t.preventDefault();var e=o(t.currentTarget).attr("data-qid");window.nQFinish=1,o("#submitForm").append('<input type="hidden" name="nqid" value="'+e+'" />').submit()})),f.onlineJudgeHelp({el:o("a.js-click-help")}),o("a.js-parent-fold").on("click",(function(t){var e=o(t.currentTarget);e.closest(".js-parent-content")["1"===e.attr("data-type")?"addClass":"removeClass"]("open")}))},initTime:function(t,e,i){var n=this,s=+e.data("left")||0,a=+e.data("time")||0;(function r(t,e,i,s){if(!n.isPause){if(s?e>=i:i<=0)return t.html("答题时间结束"),void n.submitTest();var a=u.second(e);t.html(a),t.css("font-size",a.length>8?"18px":"20px"),e=s?e+1:Math.max(0,e-1)}setTimeout((function(){r(t,e,i,s)}),1e3)})(e,i?a:s,s+a,i),n.canPauseTime&&(t=o(t)).on("click",(function(){n.toggleTiming(t)}))},initCollect:function(){var t=o(".js-follow");t=0===t.length?o(".js-unfollow"):t,a.a.follow({followCls:"js-follow",unfollowCls:"js-unfollow",followStr:"收藏本题",entityId:t.attr("data-id"),entityType:m.type.problem})},initClickA:function(){var t=this;o("a").on("click",(function(e){var i=o(e.currentTarget),n=i.attr("href");if(!d.isJsHref(n)&&"0"!==i.attr("data-prevent")){var s;if(e.preventDefault(),!window.isLogin)return(s=h.confirm('不想继续做题了吗？直接交卷后可以看正确答案哦！<br ><a href="javascript:void(0);" class="link-green js-close-popup">&gt;&gt;继续答题</a>',(function(){t.submitTest()}),(function(){window.location.href=n}))).okBtn.html("提前交卷"),void s.cancelBtn.html("直接离开");(s=new h({title:"离开页面提示",width:630,content:'\n            <div class="pop-subject-tips-wrapper">\n                <img src="//static.nowcoder.com/fe/style/images/common/res/tips/13.png" style="width:80px;height:80px;">\n                <div class="pop-exit-main">\n                    你本次试卷尚未提交，是否确定离开本页面？\n                    <p class="pop-exit-tips">完成所有题目有机会获得企业内推 <a href="javascript:void(0);" class="link-green js-close-popup">&gt;&gt;继续答题</a></p>\n                </div>\n            </div>',ok:function(){t.submitTest()},cancel:function(){window.location.href=n}})).getEl(".pop-close").remove(),s.okBtn.html("查看答案"),s.cancelBtn.html("确定离开")}}))},initTestPing:function(){var t=this,e=window.questionInfo.tid,i=!!window.isContest;e&&window.setInterval((function(){!t.isPause&&s.a[i?"testContestPing":"testPing"]({body:{testId:e}})}),6e4)},initShortCut:function(t){var e=this;function i(t){t.preventDefault();var e=o("ul.answer-sheet-num a.answering-num").closest("li").next();if(0!==e.length){var i=e.find("a").attr("data-qid");window.nQFinish=1,o("#submitForm").append('<input type="hidden" name="nqid" value="'+i+'" />').submit()}}function n(t){t.preventDefault();var e=o("ul.answer-sheet-num a.answering-num").closest("li").prev();if(0!==e.length){var i=e.find("a").attr("data-qid");window.nQFinish=1,o("#submitForm").append('<input type="hidden" name="nqid" value="'+i+'" />').submit()}}e.canPauseTime&&l.add("space",(function(){!e.isPause&&e.toggleTiming(t)})),l.add("up",n),l.add("left",n),l.add("down",i),l.add("right",i)},initShield:function(){var t=o(".js-shield");t=0===t.length?o(".js-unshield"):t,a.a.shieldQuestion({shieldCls:"js-shield",unShieldCls:"js-unshield",shieldStr:"屏蔽本题",shieldedStr:"取消屏蔽",entityId:t.attr("data-id")})},initMark:function(){var t=o(".js-mark");t=0===t.length?o(".js-unmark"):t,a.a.markQuestion({markCls:"js-mark",unMarkCls:"js-unmark",markStr:"标记一下",markedStr:"已标记",entityId:t.attr("data-id"),testId:t.attr("data-tid"),dtkEls:o("ul.answer-sheet-num a")})},toggleTiming:function(t){var e=this,i=e.isPause=!e.isPause,n=o("#jsQuestionInfo"),a=n.attr("data-tid");t[e.isPause?"addClass":"removeClass"]("time-pause"),t.attr("title",e.isPause?"继续":"暂停"),s.a[i?"testStop":"testRestart"]({body:{testId:a}}),i&&new h({width:500,title:"提示",hasNoMove:!0,hasNoTitle:!0,content:['<div class="confirm-content">','<div class="poptip-word">','<span class="warning-ico"></span>','<span class="warning-word">休息一下吧！共 '+(n.attr("data-total")||"")+" 道题，还剩 "+(n.attr("data-left")||"")+" 道没做哦~</span>","</div>","</div>"].join(""),okTxt:"继续做题",cancelTxt:"下次再做",ok:function(){this.close(),e.toggleTiming(t)},cancel:function(){window.location.href="/"}})},toggleFold:function(t){var e=o(t.currentTarget).parent();e.toggleClass("open"),e.hasClass("open")?p.remove("hideanswersheetbox"):p.set("hideanswersheetbox","1")},toggleSynchronization:function(t){t.preventDefault(),o(t.currentTarget).hasClass("selected")?p.set("nkSynchronization","0"):p.remove("nkSynchronization")},gotoFullScreen:function(t){var e=this,i=o(document.body),n=o("div.nk-container"),s=o("div.nk-main"),a=o("div.nowcoder-topic"),r=o("div.nowcoder-topic-answer");if(t||t===undefined){p.set("questionFullScreen","1"),i.addClass("full-screen-body nk-body"),n.css("backgroundPositionX","35%"),n.css("backgroundPositionY","0"),s.addClass("full-screen-subject"),a.css("width",e.lastLeft?e.lastLeft:"35%"),e.setDragPos(a.width()+10),e.dragEl.show();var c=o(window).height();a.outerHeight(c),r.outerHeight(c),o(window).on("resize",e._winResizeCb=function(){var t=o(window).height();a.outerHeight(t),r.outerHeight(t),e.dragEl.height(t)})}else p.remove("questionFullScreen"),i.removeClass("full-screen-body nk-body"),s.removeAttr("style"),s.removeClass("full-screen-subject"),a.removeAttr("style"),r.removeAttr("style"),e.dragEl.hide(),a.height("auto"),r.height("auto"),e._winResizeCb&&(o(window).unbind("resize",e._winResizeCb),e._winResizeCb=null)},initDragSplit:function(){var t=this,e=t.dragEl;new c({drag:e,listeners:[{name:"start",handler:function(){this.offset=e.offset()}},{name:"drag",handler:function(){var e=this.offset.left+this._moveX-this._downX;t.setDragPos(e)}},{name:"drop",handler:function(){this.offset=null}}]})},setDragPos:function(t){var e=this.dragEl,i=this.topicDv,n=this.topicAnswerDv,s=o(window).width();t<300&&(t=300),s-t<450&&(t=s-450),this.lastLeft=t;var a=100*t/s;e.css("marginLeft",a+"%"),e.css("height",o(window).height()),i.css("width",a-.8+"%"),n.css("marginLeft",a+"%"),n.css("width",100-a-2.8+"%")},submitTest:function(){window.nQFinish=1,o("#submitForm").append('<input type="hidden" name="finish" value="1" />').submit()},submitHandIn:function(t,e){var i=new h({title:"提前交卷提示",width:630,content:'\n        <div class="pop-subject-tips-wrapper">\n            <img src="//static.nowcoder.com/fe/style/images/common/res/tips/13.png" style="width:80px;height:80px;">\n            <div class="pop-exit-main">你还有部分题目未完成，交卷即可查看试卷全部答案及解析，是否立即交卷？</div>\n        </div>',ok:t,cancel:e});i.getEl(".pop-close").remove(),i.okBtn.html("立即交卷"),i.cancelBtn.html("继续做题")}}},16:function(t,e,i){var n=i(5);t.exports={url:{getCircleInfo:"/circle/info",quitCircle:"/circle/quit",applyCircle:"/circle/apply",createCircle:"/circle/create",editCircle:"/circle/edit",exploreCircle:"/circle/center/data",kickMember:"/circle/kick-out",operate:"/circle/operate",getCircleList:"/circle/circle-list",getTopFeed:"/circle/top-feed",stickyFeed:"/circle/set/top-feed",syncFeed:"/circle/set/to-feed",checkSpecial:"/circle/#{id}/is-special"}},n.add(t.exports)},18:function(t,e,i){var n=i(5);t.exports={url:{createMoment:"/moment/create",deleteMoment:"/moment/delete",deleteUnsentMoment:"/moment/deleteUnsent",createShare:"/share/create",deleteShare:"/share/delete",isFeedAdmin:"/share/is-feed-admin",getUnsentMoment:"/moment/getUnsentById",getUnsentByMomentId:"/moment/getUnsentByMomentId"}},n.add(t.exports)},22:function(t,e,i){var n=i(5);t.exports={url:{newNote:"/note/new",editNote:"/note/edit/#{noteId}",delNote:"/note/del/#{noteId}",saveDraft:"/note/draft/new",delDraft:"/note/draft/delete",getNoteData:"/note/data",newestNotes:"/note/newest",queryNotes:"/note/query"}},n.add(t.exports,t.exports.url)},23:function(t,e,i){"use strict";var n=i(16),s=i.n(n),a=i(24),o=i.n(a),r=i(2),c=i(1),l=i(3),d={};var u={props:["value","lock","redCircle","circleForDailyClock","from","isClockToday","isClock","showTimer","circle"],data:function(){return{isShow:!1,isShowTips:!1,current:{},lastcurrent:{},circleList:[],suggestList:[],keyword:""}},mounted:function(){var t=this;t.initCircle(),t.$nextTick((function(){t.initHide()}))},methods:{initHide:function(){var t=this,e=r(document);function i(e){t.isShow=!1}e.on("click",i),t.$on("hook:destroyed",(function(){e.unbind("click",i)}))},initCircle:function(){var t=this;t.getList(!1,(function(e){var i=c.find(e,(function(e){return e.id===+t.value}));i?t.actionSelect(i):t.$emit("input",-1),e.length<=3&&o.a.recommendCirclePublic({type:"GET",call:function(e){var i=e.data,n=(i=void 0===i?{}:i).suggests,s=void 0===n?[]:n;t.suggestList=s},error:function(t){t.msg}})}))},send:function(t){var e=this;!e.lastcurrent.id||e.lastcurrent.id===t.id||e.lastcurrent.id!==e.circleForDailyClock.id||"clock"===e.from||e.lock||e.isClockToday||-1===e.circle?e.$emit("input",t.id):l.confirm("打卡动态需要发布在“每日监督打卡”圈子，是否确定切换圈子",(function(){e.$emit("input",t.id)}),(function(){e.current=e.circleForDailyClock,e.$emit("input",e.circleForDailyClock.id)}))},show:function(t){if(this.lock)return;t=!1!==t,this.isShow=t,t&&(this.focus(),this.$emit("fadeTips"));t&&this.focus(),this.getList()},focus:function(){var t=this;t.$nextTick((function(){t.$refs.input.focus()}))},getList:function(){var t=arguments.length>0&&arguments[0]!==undefined&&arguments[0],e=arguments.length>1?arguments[1]:undefined,i=this,n=r.trim(i.keyword);if(!t&&(d[n]||[]).length>0){if(i.circleList=d[n],i.circleForDailyClock&&i.circleForDailyClock.id){var a=c.findIndex(i.circleList,(function(t){return t.id===i.circleForDailyClock.id}));i.isClockToday||2===i.isClock||3===i.isClock||i.showTimer?-1!==a&&i.circleList.splice(a,1):-1===a&&i.circleList.unshift(i.circleForDailyClock)}return void(c.isFunction(e)&&e(i.circleList))}s.a.getCircleList({query:{query:n},call:function(t){var s=t.data,a=(s=void 0===s?{}:s).data,o=void 0===a?[]:a;d[n]=o,r.trim(i.keyword)===n&&(i.circleList=o),c.isFunction(e)&&e(o)},error:function(t){var e=t.msg;l.alert(e)}})},join:function(t){var e=this;s.a.applyCircle({type:"POST",body:{circleId:t.id,content:""},call:function(i){t.member=!0,e.send(t),e.getList(!0)},error:function(t){l.alert(t.msg)}})},actionSelect:function(t){this.isShow=!1,this.lastcurrent=this.current||{},this.current=t,t?t.member&&this.send(t):this.$emit("input",-1);t&&!t.member&&(this.join(t),this.suggestList=c.filter(this.suggestList,(function(e){return e.id!==t.id})))},actionFindCurrent:function(t){this.current=this.lastcurrent,this.$emit("input",this.lastcurrent.id)}}},p=i(0),h=Object(p.a)(u,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return"clock"!==t.from?i("div",{staticClass:"choose-group-oprt",on:{click:function(e){return e.stopPropagation(),t.show(!t.isShow)}}},[-1===t.value?i("span",[t._v("选择圈子")]):i("span",{staticClass:"title",domProps:{innerHTML:t._s(t.current.name)}}),t._v(" "),i("i",{directives:[{name:"show",rawName:"v-show",value:t.redCircle,expression:"redCircle"}],staticClass:"group-tip-spot"}),t._v(" "),t.lock?t._e():i("i",{staticClass:"icon-angle-down"}),i("i",{staticClass:"icon-angle-up"}),t._v(" "),i("div",{staticClass:"tooltip bottom tooltip-info",staticStyle:{top:"12px",left:"0","z-index":"100"},style:"display: "+(t.redCircle?"block":"none"),on:{click:function(t){t.stopPropagation()}}},[t._m(0),t._v(" "),t._m(1)]),t._v(" "),i("div",{staticClass:"tooltip bottom tooltip-info",staticStyle:{top:"12px",left:"0"},style:"display: "+(t.isShow?"block":"none"),on:{click:function(t){t.stopPropagation()}}},[t._m(2),t._v(" "),i("div",{staticClass:"tooltip-inner"},[i("div",{staticClass:"search-input-wrap right focus"},[i("label",{staticClass:"icon-search"}),t._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:t.keyword,expression:"keyword"}],ref:"input",attrs:{type:"text",placeholder:"输入圈子关键字搜索"},domProps:{value:t.keyword},on:{input:[function(e){e.target.composing||(t.keyword=e.target.value)},t.getList]}})]),t._v(" "),i("ul",{staticClass:"choose-group-tips"},[i("li",{"class":-1===t.value?"selected":"",on:{click:function(e){return t.actionSelect()}}},[t._m(3),t._v(" "),t._m(4),t._v(" "),i("i",{staticClass:"icon-ok-sign"})]),t._v(" "),t._l(t.circleList,(function(e){return i("li",{key:e.id,"class":e.id===t.value?"selected":"",on:{click:function(i){return t.actionSelect(e)}}},[i("a",{staticClass:"choose-group-pic",attrs:{href:"javascript:void(0)"}},[e.logo?i("img",{attrs:{src:e.logo+"?x-oss-process=image/resize,m_mfit,w_150,h_150",alt:e.name}}):t._e()]),t._v(" "),i("div",{staticClass:"choose-group-info"},[i("div",{staticClass:"title"},[i("span",{domProps:{innerHTML:t._s(e.name)}}),t._v(" "),e.member?t._e():i("a",{staticClass:"btn btn-decorate",attrs:{href:"javascript:void(0)"}},[t._v("加入并选中")])]),t._v(" "),i("p",[t._v(t._s(e.memberCount)+" 位圈友")])]),t._v(" "),e.member?i("i",{staticClass:"icon-ok-sign"}):t._e()])})),t._v(" "),t.suggestList.length?[i("li",{staticClass:"group-tip-txt"},[t._v(t._s(0===t.circleList.length?"未搜索到结果，":"")+"发到这些圈子试试：")]),t._v(" "),t._l(t.suggestList,(function(e){return i("li",{key:e.id,on:{click:function(i){return t.actionSelect(e)}}},[i("a",{staticClass:"choose-group-pic",attrs:{href:"javascript:void(0)"}},[e.logo?i("img",{attrs:{src:e.logo+"?x-oss-process=image/resize,m_mfit,w_150,h_150",alt:e.name}}):t._e()]),t._v(" "),i("div",{staticClass:"choose-group-info"},[i("div",{staticClass:"title",staticStyle:{"max-width":"7em"}},[i("span",{domProps:{innerHTML:t._s(e.name)}}),t._v(" "),i("a",{staticClass:"btn","class":e.member?"btn-primary":"btn-decorate",attrs:{href:"javascript:void(0)"}},[t._v(t._s(e.member?"已加入":"加入并选中"))])]),t._v(" "),i("p",[t._v(t._s(e.memberCount)+" 位圈友")])])])}))]:t._e()],2)])])]):i("div",{staticClass:"choose-group-oprt"},[i("span",{staticClass:"title",domProps:{innerHTML:t._s(t.current.name)}})])}),[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"tooltip-arrow"},[e("i")])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"tooltip-inner"},[e("span",{staticStyle:{"white-space":"nowrap"}},[this._v("发布到圈子，被更多人看见")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"tooltip-arrow"},[e("i")])},function(){var t=this.$createElement,e=this._self._c||t;return e("a",{staticClass:"choose-group-pic",attrs:{href:"javascript:void(0)"}},[e("img",{attrs:{src:"//static.nowcoder.com//fe/style/images/common/res/empty/head.png",alt:"empty"}})])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"choose-group-info",staticStyle:{"margin-top":"0"}},[e("div",{staticClass:"title"},[this._v("不发到任何圈子")])])}],!1,null,null,null);e.a=h.exports},24:function(t,e,i){var n=i(5);t.exports={url:{recommendTag:"/recommendation/tags",recommendUser:"/recommendation/user",recommendCircle:"/recommendation/circle",recommendBlack:"/recommendation/sign-recommend-entity-black",recommendAuto:"/recommendation/auto-entity",recommendRemove:"/recommendation/sign-no-recommend-entity",recommendCirclePublic:"/recommendation/circle-public",recommendJobData:"/recommand/v2/job-data",recommendCampusAd:"/recommend/top-image/campus",recommendSocialAd:"/recommend/top-image/fulltime"}},n.add(t.exports)},26:function(t,e,i){var n=i(5);t.exports={domain:"feed.nowcoder.com",domainDev:"dfeed.nowcoder.com",domainPre:"prefeed.nowcoder.com",url:{refresh:"/feed/refresh",getMore:"/feed/more",hasMore:"/feed/has-more",getLinkDetail:"/moment/outer-link",getFeedDetail:"/feed/detail",getTimeLine:"/feed/timeline",shieldFeed:"/feed/shield",deleteFeed:"/feed/delete",refreshCircle:"/feed/circle/refresh",getMoreCircle:"/feed/circle/more",hasMoreCircle:"/feed/circle/has-more",refreshSubject:"/feed/subject/refresh",getMoreSubject:"/feed/subject/more",hasMoreSubject:"/feed/subject/has-more",customizedVote:"/feed/customized-vote",refreshHomePageCircle:"/feed/circle_combined/refresh",getMoreHomePageCircle:"/feed/circle_combined/more",hotCircleRecommended:"/feed/hot-moments",getHasHappendCircle:"/feed/customized-vote"}},n.add(t.exports)},27:function(t,e,i){var n=i(5);t.exports={url:{getHotTagJson:"/discuss/tag/hot/json",getAllTagJson:"/discuss/tag/all/json",createPost:"/discuss/create",editPost:"/discuss/edit",deletePost:"/discuss/delete",saveDiscussDraft:"/discuss/draft/save",getDiscussDraft:"/discuss/draft/get",top:"/discuss/top",untop:"/discuss/untop",gild:"/discuss/gild",ungild:"/discuss/ungild",updateCertify:"/discuss/certify",sink:"/discuss/sink",unsink:"/discuss/unSink",hidden:"/discuss/hidden",unhidden:"/discuss/unhidden",unWarningPost:"/discuss/unWarningPost",hot:"/discuss/hot",unhot:"/discuss/unhot",getSimilarList:"/search/similar-post",getUserRecommend:"/discuss/users/recommend",invitedUser:"/discuss/users/invited",spam:"/admin/mark-post-spam",unspam:"/admin/spam-post-wash-white",allspam:"/admin/delete-all-ugc",attack:"/admin/discuss/discuss-label/label",unattack:"/admin/discuss/discuss-label/re-label",eventDriver:"/discuss/event-driver/up",unEventDriver:"/discuss/event-driver/down",getAllTag:"/discuss/tag/exp",predictPostAttr:"/discuss/predict",getSummary:"/discuss/get-info",getTagNumInfo:"/discuss/tag/numinfo",disableCmt:"/discuss/comment-disable",openSubjectGuide:"/discuss/subject-guide/open",closeSubjectGuide:"/discuss/subject-guide/close",getIndexList:"/discuss/list-json",getTagList:"/discuss/tag/#{tagId}-json",getReferralList:"/discuss/referral/json",getAllReferralList:"/discuss/referral/all/list-json",getExperienceList:"/discuss/experience/json",setAnonymous:"/discuss/set-anonymous",getSocialCircleList:"/discuss/experience/interviewView",getTagListByWord:"/jump/super-jump/institutions",getProblemListByPostId:"/discuss/relate/question",getInternalList:"/discuss/internal-join-staff",getOfferBasicInfo:"/discuss/offer/basic-info",getOfferPostJson:"/discuss/offer/json",getDiscussPostInfo:"/discuss/post-info/tiny"}},n.add(t.exports,t.exports.url)},28:function(t,e){t.exports=vendor_library},30:function(t,e,i){"use strict";var n=i(11),s=i.n(n),a=i(18),o=i.n(a),r=i(34),c=i(26),l=i.n(c),d=i(2),u=i(63),p={},h={initUpload:function(t){var e=t.context;u.show({target:t.target,url:"/uploadImage?type=1&watermark=true",fileType:"*.jpg;*.png;*.gif;*.bmp;*.jpeg",isMultiple:!0,noProgress:!0,noError:!0,checkFile:function(t,i,n){return e.add(t)},progress:function(t,i,n,s){e.progress(s,t)},call:function(t,i){e.finish(i,t)},error:function(t,i){e.error(i)}})},getLinkDetail:function(t){var e=d.trim(t.link);if(p[e])return t.call&&t.call(p[e]);l.a.getLinkDetail({type:"GET",query:{url:e},call:function(i){var n=i.data.link;p[e]=n,t.call&&t.call(n)},error:function(e){t.call&&t.call()}})}};var f=i(1),m=i(4),v=i(84),g=m.create(),y=g;f.extend(g.prototype,{initialize:function(t){this.rawConfig=t||{},this.max=+t.max||0},add:function(t){var e=this,i=e.max,n=e.getList();if(!t)return{right:!1,msg:"错误的文件"};if(i&&n.length>=i)return{right:!1,msg:"图片超过最大上传数量"};e.update(t,(function(e,i,n){e.push({isLoading:!0,alt:t.name||"",file:t,id:f.key()})}));var s=new FileReader;s.onloadend=function(){var i=s.result;e.update(t,(function(t,e,n){e&&(e.dataUrl=i)}))},s.readAsDataURL(t)},progress:function(t,e){this.update(t,(function(t,i,n){i&&(i.progress=e)}))},finish:function(t,e){this.update(t,(function(t,i,n){if(i){var s=e.imageInfo||{};i.isLoading=!1,i.src=e.url,i.width=+(s.ImageWidth||{}).value||0,i.height=+(s.ImageHeight||{}).value||0}}))},error:function(t){v.show({}).showError("图片上传失败"),this.update(t,(function(t,e,i){i>=0&&t.splice(i,1)}))},getList:function(){return(this.rawConfig.getList()||[]).slice(0)},update:function(t,e){var i=this.rawConfig,n=this.getList(),s=f.findIndex(n,(function(e){return e.file===t})),a=s>=0?n[s]:null;e(n,a,s),i.update(n)}});var w=i(2),k=i(1),b=i(8),C=i(80),x=i(60),T=i(19),_=i(66);var j={props:["isReadonly","value","placeholder","upload","subjectRecord","atRecord"],data:function(){return{content:this.value}},mounted:function(){var t=this;t.$nextTick((function(){t.input=w(t.$refs.input),t.initInput(),t.initPasteImage()}))},methods:{initInput:function(){var t=this,e=w(t.$refs.input);b.txtAutoHeight({el:e}),x.input(e,{ok:function(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{},i=e.id,n=void 0===i?"":i,s=e.nickname,a=void 0===s?"":s;t.$emit("update:atRecord",k.uniqPush(t.atRecord,[{id:n,nickname:a}],(function(t){return t.id})))}}),_.input(e,{ok:function(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{},i=e.id,n=void 0===i?"":i,s=e.content,a=void 0===s?"":s;t.$emit("update:subjectRecord",k.uniqPush(t.subjectRecord,[{id:n,content:a}],(function(t){return t.id})))}})},initPasteImage:function(){var t=this.upload;if(!t)return;var e=this.$refs.input,i=b.bindPaste(document,e,(function(e,i){k.forEach(e,(function(e){if(e&&"file"===e.kind&&/image/.test(e.type||"")){var n=e?e.getAsFile():null,s=t.add(n);if(n&&(!s||s.right))i.preventDefault(),new C({url:"/uploadImage?type=1&watermark=true",progress:function(e){return t.progress(n,e)},error:function(){return t.error(n)},call:function(e){return t.finish(n,e)}}).uploadBlob(n,(new Date).getTime()+"."+n.type.split("/").pop())}}))}));this.$on("hook:destroyed",i)},val:function(){return this.input.val()},focus:function(){var t=this;t.$nextTick((function(){return t.input.focus()}))},blur:function(){this.input.blur()},actionSend:function(t){var e="macintosh"===(T.getOs()||{}).os;(e&&t.metaKey||!e&&t.ctrlKey)&&(t.target.blur(),this.$emit("send"))}},watch:{value:function(t){this.content=t},content:function(t){var e=this;e.$emit("input",t),e.$nextTick((function(){b.dispatchEvent(e.input,"change")}))}}},E=i(0),S=Object(E.a)(j,(function(){var t=this,e=t.$createElement;return(t._self._c||e)("textarea",{directives:[{name:"model",rawName:"v-model",value:t.content,expression:"content"}],ref:"input",attrs:{readonly:t.isReadonly,placeholder:t.placeholder},domProps:{value:t.content},on:{keydown:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.actionSend(e)},input:function(e){e.target.composing||(t.content=e.target.value)}}})}),[],!1,null,null,null).exports,I=i(13),D=i(12),L=i(50);var P={props:["value"],data:function(){return{uid:I.getUid()}},mounted:function(){var t=this;L.show({target:t.$refs.datepicker,type:"datetime",startDate:D.form(new Date,"yyyy-MM-dd HH:mm:ss"),endDate:L.yearDiff(1)+"-01-01 00:00:00",call:function(e,i){t.$emit("input",i)}})}},F=Object(E.a)(P,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"timing-publish-wrapper"},[i("div",{staticClass:"time-item"},[i("label",[t._v("发送时间")]),t._v(" "),i("input",{ref:"datepicker",attrs:{readonly:"readonly",type:"text",name:""},domProps:{value:t.value}})]),t._v(" "),i("span",{staticClass:"oprt"},[i("a",{staticClass:"link-green",attrs:{href:"/profile/"+t.uid+"/moment?type=1"}},[t._v("管理待发布动态")]),t._v(" "),i("i",{staticClass:"icon-nc-close",staticStyle:{cursor:"pointer"},on:{click:function(e){return t.$emit("close")}}})])])}),[],!1,null,null,null).exports,M={},q=Object(E.a)(M,(function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"publish-loading-tips"},[e("i",{staticClass:"icon-refresh"}),this._t("default")],2)}),[],!1,null,null,null).exports,$={},H=Object(E.a)($,(function(){var t=this.$createElement;return(this._self._c||t)("div",{staticClass:"publish-loading-tips"},[this._t("default")],2)}),[],!1,null,null,null).exports,A=i(12);var U={props:["value","isShow","lock"],components:{Loading:q,Error:H},data:function(){return{isLoading:!0,isLoaded:!1,data:null,error:"",lastTime:0}},methods:{update:function(){var t=this;t.updateVal();var e=new Date,i=e.getTime(),n=t.lastTime;(!n||i-n>6e4||A.form(e,"yyyy-MM-dd")!==A.form(new Date(n),"yyyy-MM-dd"))&&(t.lastTime=i,t.isLoading=!t.isLoaded,s.a.getTodayClockInfo({type:"GET",call:function(e){t.data=e.data,t.error="",t.isLoaded=!0,t.updateVal()},error:function(e){t.error="获取打卡信息出错，请重试",t.lastTime=0},always:function(){t.isLoading=!1}}))},updateVal:function(){var t=this.data||{};this.$emit("input",{isLoaded:this.isLoaded,date:new Date,days:t.clockDay,isClockToday:t.isClockToday,doneQuestionCount:t.doneQuestionCount,submitCodeCount:t.submissionCount,learnCourseCount:t.vodCount})}},computed:{today:function(){return A.form(this.value.date,"yyyy-MM-dd")},clockText:function(){var t=this.value,e=t.doneQuestionCount,i=t.submitCodeCount,n=t.learnCourseCount,s=[];e&&s.push("".concat(e,"道（题目练习）"));i&&s.push("".concat(i,"次（代码提交）"));n&&s.push("".concat(n,"（学习课程）"));return s.length?"今天完成了：".concat(s.join("/")):"今天继续努力学习吧"}},watch:{isShow:function(t){t&&this.update()}}},R=Object(E.a)(U,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{directives:[{name:"show",rawName:"v-show",value:t.isShow,expression:"isShow"}]},[t.isLoading?i("Loading",[t._v("打卡信息加载中...")]):t.error?i("Error",[t._v(t._s(t.error))]):i("div",{staticClass:"sign-board-publish"},[t.lock?i("a",{staticClass:"icon-nc-tips-close",attrs:{href:"javascript:void(0)"},on:{click:function(e){return t.$emit("cancel")}}}):t._e(),t._v(" "),i("div",{staticClass:"sign-board-time"},[i("i",{staticClass:"sign-board-icon"}),t._v(t._s(t.today))]),t._v(" "),i("div",{staticClass:"sign-board-info"},[t._v("在牛客打卡 "+t._s(t.value.days)+" 天，"+t._s(t.clockText))])])],1)}),[],!1,null,null,null).exports,O=i(1);var N={model:{prop:"images"},props:["images","maxCount","isShow"],methods:{actionDel:function(t){var e=O.without(this.images,t);this.$emit("input",e)}},computed:{leftCount:function(){return(this.maxCount||0)-(this.images||[]).length}}},z=Object(E.a)(N,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{directives:[{name:"show",rawName:"v-show",value:t.isShow,expression:"isShow"}]},[i("ul",{staticClass:"publish-photo-list mb2"},[t._l(t.images,(function(e){return i("li",{key:e.id},[i("a",{staticClass:"icon-nc-tips-close",attrs:{href:"javascript:void(0);"},on:{click:function(i){return t.actionDel(e)}}}),t._v(" "),e.isLoading?[i("img",{staticClass:"image-loading",attrs:{src:"//uploadfiles.nowcoder.com/images/20160415/56_1460702753117_F68B6B6E9DBC3FED9828888665D0AF32"}}),t._v(" "),e.progress?i("div",{staticClass:"image-progress",style:"width:"+e.progress+"%;"}):t._e()]:t._e(),t._v(" "),e.dataUrl||e.src?i("img",{attrs:{src:e.dataUrl||e.src}}):t._e()],2)})),t._v(" "),i("li",{directives:[{name:"show",rawName:"v-show",value:(t.images||[]).length<t.maxCount,expression:"(images || []).length < maxCount"}],ref:"btnImage",staticClass:"publish-photo-add"},[t._v("+")])],2),t._v(" "),i("div",{staticClass:"publish-photo-tips"},[t.leftCount<=0?[t._v("已经上传"+t._s(t.maxCount)+"张")]:[t._v("还可以上传"+t._s(t.leftCount)+"张")]],2)])}),[],!1,null,null,null).exports;var W={props:["isShow","status","link","lock"],components:{Loading:q},methods:{close:function(){this.$emit("cancel")}},computed:{isLoading:function(){return"loading"===this.status},isError:function(){return"error"===this.status}}},B=Object(E.a)(W,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{directives:[{name:"show",rawName:"v-show",value:t.isShow,expression:"isShow"}],"class":"error"!==t.status?"publish-link-cont":"feeds-loading-fail warning-tips"},[t.lock?i("a",{staticClass:"icon-nc-tips-close",attrs:{href:"javascript:void(0);"},on:{click:t.close}}):t._e(),t._v(" "),t.isLoading?i("Loading",[t._v("正在获取网址信息...")]):t.isError?[i("i",{staticClass:"icon-exclamation-sign"}),t._v(" 解析失败，请核对网址并\n        "),i("a",{staticClass:"link-green",attrs:{href:"javascript:void(0);"},on:{click:function(e){return e.stopPropagation(),t.$emit("reinput")}}},[t._v("重新输入")])]:t.link?[i("div",{staticClass:"web-link-logo"},[t.link.icon?i("img",{attrs:{src:t.link.icon}}):t._e()]),t._v(" "),i("div",{staticClass:"web-link-info"},[i("div",{staticClass:"web-name",domProps:{innerHTML:t._s(t.link.title||"没有标题")}}),t._v(" "),i("p",{staticStyle:{overflow:"hidden","text-overflow":"ellipsis","white-space":"nowrap"},domProps:{innerHTML:t._s(t.link.url)}})])]:t._e()],2)}),[],!1,null,null,null).exports,V=i(2),Q=i(9);var J={props:["isDisabled"],data:function(){return{link:"",error:"",isShow:!1,isComposing:!1}},methods:{initHide:function(){var t=this,e=V(document);function i(e){t.isShow=!1}e.on("click",i),t.$on("hook:destroyed",(function(){e.unbind("click",i)}))},initComposition:function(){var t=this,e=V(t.$refs.input);function i(){t.isComposing=!0}function n(){t.isComposing=!1}e.on("compositionstart",i),e.on("compositionend",n),t.$on("hook:destroyed",(function(){e.unbind("compositionstart",i),e.unbind("compositionend",n)}))},show:function(t){t=!1!==t&&!this.isDisabled,this.isShow=t,t&&this.focus()},focus:function(){var t=this;t.$nextTick((function(){t.$refs.input.focus()}))},actionAddLink:function(){if(this.isComposing)return;if(!this.url)return void(this.error="请输入正确的网页链接");this.$emit("add-link",this.url),this.link=""}},mounted:function(){var t=this;t.$nextTick((function(){t.initHide(),t.initComposition()}))},computed:{url:function(){return Q.fixUrl(this.link)}}},G=Object(E.a)(J,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"publish-tool-item","class":[t.isShow?"hover":"",t.isDisabled?"disabled":""],on:{click:function(e){return e.stopPropagation(),t.show(!t.isShow)}}},[i("i",{staticClass:"icon-nc-link"}),t._v("链接\n    "),i("div",{staticClass:"tooltip bottom tooltip-info",staticStyle:{top:"12px",left:"0"},on:{click:function(t){t.stopPropagation()}}},[t._m(0),t._v(" "),i("div",{staticClass:"tooltip-inner publish-link-box"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.link,expression:"link"}],ref:"input",attrs:{type:"text",placeholder:"输入网页链接"},domProps:{value:t.link},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.actionAddLink(e)},focus:function(e){t.error=""},input:function(e){e.target.composing||(t.link=e.target.value)}}}),t._v(" "),i("div",[i("span",[t._v("一次只推荐一个网页哦")]),t._v(" "),i("span",{staticClass:"fn-error"},[t._v(t._s(t.error))]),t._v(" "),i("a",{staticClass:"link-green float-right",attrs:{href:"javascript:void(0)"},on:{click:t.actionAddLink}},[t._v("添加")])])])])])}),[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"tooltip-arrow"},[e("i")])}],!1,null,null,null).exports,K=i(23),Y=i(2),X=i(1),Z=i(21),tt=i(45),et=i(3),it=i(13),nt=i(33),st=i(54),at=i(47);function ot(){var t=this.from;window.pageInfo=window.pageInfo||{};var e=window.pageInfo||{};return{FEED_CACHE_KEY:"FEED_CACHE_KEY_".concat((t||"DEFAULT").toUpperCase(),"_").concat(it.getUid()).concat(this.hash?"_".concat(this.hash):""),isFocus:!1,isLogin:it.isLogin(),source:Z.getParam("source"),isNotClockCircle:!0,circleForDailyClock:{},content:"",contentMaxLength:1e3,contentWarnLength:900,atRecord:[],subjectRecord:[],redCircle:!1,viewCirlceTips:!1,type:0,lockCircle:"link"!==t&&"circleId"in e,circle:"link"!==t&&e.circleId||-1,imageMaxCount:9,images:[],isPublic:!0,clock:{isLoaded:!1,isClockToday:!1,date:new Date,doneQuestionCount:0,submitCodeCount:0,learnCourseCount:0,days:0},linkStatus:"loading",link:{icon:"",title:"",url:""},timed:"",showTimer:!1,syncFeed:!1,publishing:!1}}var rt={name:"Publisher",components:{Editor:S,Timer:F,Clock:R,Photo:z,LinkItem:B,BtnLink:G,BtnCircle:K.a},props:["isAdmin","from","initialContent","hash","specialName"],data:ot,provide:function(){return{upload:this.upload}},mounted:function(){var t=this;t.$watch("type",(function(){t.tipsCompon&&t.tipsCompon.destroy(),t.disabledReason1&&(t.tipsCompon=at.show({target:t.$refs.clockin,content:t.disabledReason1}))})),t.$nextTick((function(){t.input=t.$refs.input,t.initEmoji(),t.initUpload(),t.initCache(),"clock"!==t.from&&"reply"!==t.from&&t.initClock(),"clock"===t.from&&t.$nextTick((function(){t.initClock(t.actionClock)})),"link"===t.from&&t.$nextTick((function(){t.linkStatus="success",t.link=t.initialContent,t.actionType(3)})),"subject"===t.from&&t.$nextTick((function(){t.content="#".concat(t.initialContent,"# ")})),"history"===t.source&&t.$nextTick((function(){t.actionFocus(),t.input.focus()})),"novice"===t.source&&!tt.get("NOVICE_GUIDE_SHARE")&&t.$nextTick((function(){t.content="新人报道！来牛客的第一天～",t.images=X.map([1,2,3,4,5],(function(t){return{width:120,height:124,alt:"badge".concat(t),src:"https://static.nowcoder.com/fe/file/images/web/icons/novice-badge".concat(t,".png")}}))}))}))},methods:{initCache:function(){var t=this;t.$nextTick((function(){var e,i,n;e=tt.get(t.FEED_CACHE_KEY)||{},i=e.extData||{},n=+e.type||0,t.content=e.content||"",t.atRecord=e.atRecord||[],t.subjectRecord=e.subjectRecord||[],2===n?t.images=X.filter(i.imgs,(function(t){return!!t})):3===n&&i&&(t.link=i,t.linkStatus="success"),t.type=2===n&&t.images.length>0?2:3===n&&t.link?3:0,function(){function e(){tt.set(t.FEED_CACHE_KEY,{type:t.type,content:t.content,extData:t.extData,atRecord:t.atRecord,subjectRecord:t.subjectRecord})}t.$watch("content",e),t.$watch("extData",e)}()}))},initEmoji:function(){var t=this,e=t.$refs.input,i=st.show({target:t.$refs.btnEmoji,fixVerReverse:!0,call:function(n){t.isFocus=!0,e.focus(),t.$nextTick((function(){i.attach.fixPosition(),st.renderInIpt(e.$refs.input,n)}))}});t.$ncPushChild&&t.$ncPushChild(i)},initUpload:function(){var t=this,e=[t.$refs.btnImage,t.$refs.photo.$refs.btnImage];X.forEach(e,(function(e){h.initUpload({target:e,context:t.upload})}))},initClock:function(t){var e=this;e.isLogin&&s.a.getTodayClockInfo({type:"GET",call:function(i){var n=i.data,s=(n=void 0===n?{}:n).isClockToday,a=n.circleForDailyClock;e.circleForDailyClock=a,e.clock.isClockToday=s;var o=e.clock.isClockToday?"今日已经打过卡了哦":e.isType(1)||(window.pageInfo&&window.pageInfo.circleId&&e.circleForDailyClock.id)!==window.pageInfo.circleId?'打卡动态请<a class="link-green" href="https://www.nowcoder.com/circle/e56ee50d/feed" target="_blank">点此跳转</a>到指定圈子发布':e.isType(2)?"暂不支持带图打卡哦":e.isType(3)?"暂不支持同时打卡和分享链接哦":e.showTimer?"打卡动态不支持定时发送":"";o&&at.show({target:e.$refs.clockin,content:o}),window.pageInfo&&window.pageInfo.circleId&&(e.isNotClockCircle=window.pageInfo.circleId===e.circleForDailyClock.id),t&&t()}})},clear:function(){var t=this,e=ot.call(t);X.forEach(e,(function(e,i){t[i]=e})),tt.remove(t.FEED_CACHE_KEY),t.content="",t.initClock()},check:function(){var t=this.type,e=this.extData,i=Y.trim(this.input.val()),n="";if(i||e||0!==t){if(this.contentLength>this.contentMaxLength)n="内容最大长度为"+this.contentMaxLength;else if(2===t&&e){X.findIndex(e.imgs,(function(t){return!t}))>=0&&(n="请等待图片上传完成")}else if(3===t&&e){var s=this.linkStatus;n="error"===s?"获取网址信息出错":"loading"===s?"请等待网址加载完成":""}}else n="内容不能为空";return n&&et.alert(n),!n},isType:function(t){return this.type===t},actionFocus:function(){this.isFocus=!0,"reply"!==this.from||this.isLogin||nt.showLogin()},actionBlur:function(){this.isFocus=!1,this.input.blur()},actionInput:function(){this.$emit("textChange",this.content);var t=/\?|？/.test(this.content);this.redCircle=!1,"home"===this.from&&t&&-1===this.circle&&!this.viewCirlceTips&&(this.redCircle=!0)},fadeCircleTips:function(){this.redCircle=!1,this.viewCirlceTips=!0},actionType:function(t){this.type=t},actionClockCancel:function(){this.actionType(0),this.circle=-1},actionClock:function(){if(window.pageInfo&&window.pageInfo.circleId&&window.pageInfo.circleId!==this.circleForDailyClock.id&&!this.specialName)return;this.isClockEnable&&this.$refs.circlecomponent.actionSelect(this.circleForDailyClock),this.isClockEnable&&this.actionType(1)},actionSubject:function(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:"",e=this;e.$emit("input-subject",t),e.input.focus(),e.$nextTick((function(){var i=e.input.$el.selectionStart||0,n=X.isNumber(e.input.$el.selectionEnd)?e.input.$el.selectionEnd:e.input.content.length;e.input.content="".concat(e.input.content.substring(0,i)," #").concat(t?t+"# ":"").concat(e.input.content.substring(n)),e.$nextTick((function(){e.input.$el.selectionStart=i+(t?t.length+2:0)+2,e.input.$el.selectionEnd=i+(t?t.length+2:0)+2}))}))},actionMaxCount:function(){this.isImageMax&&et.alert("最多只能上传"+this.imageMaxCount+"张图片")},actionLink:function(t){var e=this.$refs.btnLink;t&&(this.actionType(0),e.show(!1));0===this.type&&e.show()},actionAddLink:function(t){var e=this;e.actionType(3),e.$refs.btnLink.show(!1),e.linkStatus="loading",h.getLinkDetail({link:t,call:function(t){e.linkStatus=t?"success":"error",t&&(e.link=t)}})},actionToggleScope:function(){this.isPublic=!this.isPublic,this.isPublic?this.circle=this.circleForDailyClock.id:this.circle=-1},actionSubmit:function(){if(!this.check())return;this.$emit("publish",{content:this.input.val().replace(/\s*$/,""),type:this.type,toFeed:this.syncFeed,extData:this.extData,atRecord:this.atRecord,subjectRecord:this.subjectRecord})},actionPublish:function(){var t=this,e=t.type,i=window.pageInfo||{},n=i.clockOriginUri,a=i.clockOrigin,c=i.clockOriginTitle,l=i.clockOriginImg;if(!t.check())return;if(t.publishing)return;if(t.publishing=!0,1===e)return s.a.newClockRecord({body:{feeling:t.input.val().replace(/\s*$/,""),circle:t.circle,isPublic:t.isPublic,clockOriginUri:n,clockOrigin:a,clockOriginTitle:c,clockOriginImg:l},call:function(e){var i=e.data;t.$emit("published",i),t.clear(),t.clock.isClockToday=!0,"link"===t.from&&et.tips("分享成功")},error:function(e){var i=e.msg,n=e.code;et.alert(i,(function(){"clock"===t.from&&2!==n&&(window.location.href="/profile/".concat(it.getUid(),"/clockInfo"))}))},always:function(){t.publishing=!1}});var d=t.extData;o.a.createMoment({body:{content:t.input.val().replace(/\s*$/,""),type:e,ext:d?JSON.stringify(d):undefined,timed:t.showTimer?new Date(t.timed).getTime():undefined,circle:t.circle},call:function(e){var i=e.data;t.$emit("published",i),t.clear(),"link"===t.from&&et.tips("分享成功"),"novice"===t.source&&tt.set("NOVICE_GUIDE_SHARE",!0)},error:function(t){var e=t.code,i=t.msg;2e3===e?r.a.show({propsData:{authType:-1}}):et.alert(i)},always:function(){t.publishing=!1}})}},watch:{images:function(){var t=(this.images||[]).length;this.actionType(0===t?0:2)},circle:function(t,e){var i=this;e===i.circleForDailyClock.id?-1!==t&&i.actionType(0):-1!==e&&t===i.circleForDailyClock.id?(!i.isClockEnable&&!i.specialName&&et.confirm("打卡动态需要发布在“每日监督打卡”圈子，是否确定切换圈子",(function(){i.$refs.circlecomponent.actionSelect(i.circleForDailyClock)}),(function(){i.actionType(0),i.$refs.circlecomponent.actionFindCurrent(e)})),i.actionType(1)):-1===e&&t===i.circleForDailyClock.id?i.actionType(1):-1===e&&t!==i.circleForDailyClock.id&&1===i.type&&i.actionType(0)}},computed:{upload:function(){var t=this;return new y({max:t.imageMaxCount,getList:function(){return t.images},update:function(e){t.images=e,t.actionType(2)}})},extData:function(){var t,e=this.type;if(2===e){var i=X.map(this.images,(function(t){return t.isLoading?null:{src:t.src,width:t.width,height:t.height,alt:t.alt}}));i.length>0&&(t={imgs:i})}else 3===e&&(t=this.link);return t},isEmpty:function(){return 0===this.type&&!this.content},isImageEnable:function(){return!this.type||this.isType(2)},isClockEnable:function(){return this.isType(0)&&!1===this.clock.isClockToday&&!1===this.showTimer},isLinkEnable:function(){return this.isType(0)},isImageMax:function(){return(this.images||[]).length>=this.imageMaxCount},contentLength:function(){return Y.trim(this.content).length},disabledReason1:function(){var t=window.pageInfo&&window.pageInfo.circleId;return this.clock.isClockToday?"今日已经打过卡了哦":this.isType(1)?t&&this.circleForDailyClock.id!==window.pageInfo.circleId?'打卡动态请<a class="link-green" href="https://www.nowcoder.com/circle/e56ee50d/feed" target="_blank">点此跳转</a>到指定圈子发布':"当前正在打卡哦":this.isType(2)?"暂不支持带图打卡哦":this.isType(3)?"暂不支持同时打卡和分享链接哦":this.showTimer?"打卡动态不支持定时发送":""},disabledReason2:function(){return this.isType(2)&&this.isImageMax?"最多可以上传"+this.imageMaxCount+"张图片哦":this.isType(1)?"暂不支持带图打卡哦":this.isType(3)?"暂不支持带图分享链接哦":""},disabledReason3:function(){return this.isType(1)?"暂不支持同时打卡和分享链接哦，你可以直接在正文中输入要分享的网址哦":this.isType(2)?"暂不支持带图分享链接，你可以直接在正文中输入要分享的网址哦":this.isType(3)?"当前正在分享链接哦":""},disabledReason4:function(){return this.isType(1)?"打卡动态不支持定时发送":this.showTimer?"当前正在设置定时发布":""}}},ct=Object(E.a)(rt,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"feed-publish-area","class":t.isFocus||t.type?"focus":"",on:{click:t.actionFocus}},[i("editor",{ref:"input",attrs:{readonly:!1,placeholder:"reply"===t.from?"在这里添加你的回帖吧！":"此刻你想和大家分享什么...",upload:t.upload,subjectRecord:t.subjectRecord,atRecord:t.atRecord},on:{send:function(e){"reply"===t.from?t.actionSubmit():t.actionPublish()},"update:subjectRecord":function(e){t.subjectRecord=e},"update:subject-record":function(e){t.subjectRecord=e},"update:atRecord":function(e){t.atRecord=e},"update:at-record":function(e){t.atRecord=e},input:t.actionInput},model:{value:t.content,callback:function(e){t.content=e},expression:"content"}}),t._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:t.type||t.contentLength>t.contentWarnLength,expression:"type || contentLength > contentWarnLength"}],staticClass:"focus-content"},[i("clock",{attrs:{isShow:t.isType(1)&&(t.circleForDailyClock.id===t.circle||!t.isPublic||-1===t.circle),lock:"clock"!==t.from},on:{cancel:function(e){return t.actionClockCancel(0)}},model:{value:t.clock,callback:function(e){t.clock=e},expression:"clock"}}),t._v(" "),i("photo",{ref:"photo",attrs:{isShow:t.isType(2),maxCount:t.imageMaxCount},on:{cancel:function(e){return t.actionType(0)}},model:{value:t.images,callback:function(e){t.images=e},expression:"images"}}),t._v(" "),i("link-item",{attrs:{isShow:t.isType(3),lock:"link"!==t.from,link:t.link,status:t.linkStatus},on:{cancel:function(e){return t.actionType(0)},reinput:function(e){return t.actionLink(!0)}}}),t._v(" "),t.contentLength>t.contentWarnLength?[t.contentLength<=t.contentMaxLength?i("div",{staticClass:"textarea-txt-tip"},[t._v("\n                还剩\n                "),i("span",{staticClass:"font-green"},[t._v(t._s(t.contentMaxLength-t.contentLength))]),t._v("\n                字\n            ")]):i("div",{staticClass:"textarea-txt-tip"},[t._v("\n                已超出\n                "),i("span",{staticClass:"font-red"},[t._v(t._s(t.contentLength-t.contentMaxLength))]),t._v("\n                字\n            ")])]:t._e()],2),t._v(" "),t.isAdmin?[i("timer",{directives:[{name:"show",rawName:"v-show",value:t.showTimer,expression:"showTimer"}],on:{close:function(e){t.showTimer=!1}},model:{value:t.timed,callback:function(e){t.timed=e},expression:"timed"}})]:t._e(),t._v(" "),i("div",{staticClass:"publish-tool-bar"},["clock"!==t.from&&"link"!==t.from?[i("div",{directives:[{name:"show",rawName:"v-show",value:(t.isImageMax||!t.isImageEnable)&&1!==t.type,expression:"(isImageMax || !isImageEnable) && type !== 1"}],staticClass:"publish-tool-item disabled js-nc-title-tips",attrs:{"data-title":t.disabledReason2},on:{click:t.actionMaxCount}},[i("i",{staticClass:"icon-picture"}),t._v("图片")]),t._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:!t.isImageMax&&t.isImageEnable,expression:"!isImageMax && isImageEnable"}],ref:"btnImage",staticClass:"publish-tool-item"},[i("i",{staticClass:"icon-picture"}),t._v("图片")]),t._v(" "),"reply"!==t.from?i("div",{ref:"clockin",staticClass:"publish-tool-item","class":t.isClockEnable&&t.isNotClockCircle?"":"disabled",on:{click:t.actionClock}},[i("i",{staticClass:"icon-nc-sign2"}),t._v("打卡")]):t._e(),t._v(" "),t.isPublic?i("div",{staticClass:"publish-tool-item feed-topic-entry",on:{click:function(e){return t.actionSubject("")}}},[i("i",{staticClass:"icon-nc-topic"}),t._v("话题")]):t._e(),t._v(" "),"reply"!==t.from&&1!==t.type?i("btn-link",{ref:"btnLink",staticClass:"js-nc-title-tips",attrs:{"data-title":t.disabledReason3,isDisabled:!t.isLinkEnable},on:{"add-link":t.actionAddLink}}):t._e()]:t._e(),t._v(" "),i("div",{ref:"btnEmoji",staticClass:"publish-tool-item"},[i("i",{staticClass:"icon-nc-face4"}),t._v("表情")]),t._v(" "),t.isAdmin&&1!==t.type?i("div",{staticClass:"publish-tool-item js-nc-title-tips","class":1===t.type?"disabled":"",attrs:{"data-title":t.disabledReason4},on:{click:function(e){t.showTimer=1!==t.type||t.showTimer}}},[i("i",{staticClass:"icon-nc-moments_clock1"}),t._v("定时发")]):t._e(),t._v(" "),1===t.type?i("div",{staticClass:"publish-tool-item privacy-feed-oprt js-nc-title-tips",attrs:{"data-title":"点击可切换为"+(t.isPublic?"仅自己可见":"公开")},on:{click:t.actionToggleScope}},[i("i",{"class":t.isPublic?"icon-globe":"icon-lock"}),t._v(t._s(t.isPublic?"公开":"仅自己可见"))]):t._e(),t._v(" "),"reply"===t.from?i("label",{staticClass:"checkbox","class":t.syncFeed?"checked":""},[i("span",{staticClass:"icons"}),i("input",{directives:[{name:"model",rawName:"v-model",value:t.syncFeed,expression:"syncFeed"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(t.syncFeed)?t._i(t.syncFeed,null)>-1:t.syncFeed},on:{change:function(e){var i=t.syncFeed,n=e.target,s=!!n.checked;if(Array.isArray(i)){var a=t._i(i,null);n.checked?a<0&&(t.syncFeed=i.concat([null])):a>-1&&(t.syncFeed=i.slice(0,a).concat(i.slice(a+1)))}else t.syncFeed=s}}}),t._v("同时转发到我的动态")]):t._e()],2),t._v(" "),i("div",{staticClass:"feed-publish-oprt"},["reply"!==t.from&&t.isPublic?i("btn-circle",{ref:"circlecomponent",attrs:{from:t.from,circle:t.circle,showTimer:t.showTimer,lock:t.lockCircle,isClockToday:t.clock.isClockToday,circleForDailyClock:t.circleForDailyClock,redCircle:t.redCircle,isClockEnable:t.isClockEnable,isClock:t.type},on:{fadeTips:t.fadeCircleTips},model:{value:t.circle,callback:function(e){t.circle=e},expression:"circle"}}):t._e(),t._v(" "),i("button",{staticClass:"btn btn-sm","class":t.isEmpty||t.publishing?"btn-default":"btn-primary",attrs:{type:"button",disabled:t.isEmpty||t.publishing},on:{click:t.actionSubmit}},[t._t("default",[i("span",{staticStyle:{display:"inline-block",width:"100%"},on:{click:t.actionPublish}},[t._v(t._s(t.showTimer?"定时":"")+"发布")])])],2)],1)],2)}),[],!1,null,null,null);e.a=ct.exports},31:function(t,e,i){var n=i(2),s=i(1),a={weibo:{url:"http://service.weibo.com/share/share.php",param:{url:"",appkey:"",title:"",pic:"",ralateUid:"",language:"zh_cn"}},t163:{url:"http://t.163.com/article/user/checkLogin.do",param:{info:"",images:"",picSep:",",togImg:!0}},qzone:{url:"http://sns.qzone.qq.com/cgi-bin/qzshare/cgi_qzshare_onekey",param:{desc:"",title:"",summary:"",url:"",site:"",pics:"",picSep:"|"}},tqq:{url:"http://share.v.t.qq.com/index.php",param:{c:"share",a:"index",site:"",url:"",title:"",pic:"",picSep:"|"}},fqq:{url:"http://connect.qq.com/widget/shareqq/index.html",param:{desc:"",title:"",summary:"",url:"",site:"",pics:""}},renren:{url:"http://widget.renren.com/dialog/share",param:{resourceUrl:"",pic:"",title:"",description:""}},kaixin:{url:"http://www.kaixin001.com/rest/records.php",param:{content:"",url:"",starid:"0",aid:"0",pic:"",style:"11",picSep:","}},douban:{url:"http://www.douban.com/recommend/",param:{title:"",url:"",v:"1"}},yixin:{url:"http://open.yixin.im/share",param:{appkey:"",type:"webpage",title:"1",desc:"",userdesc:"",pic:"",url:""}}};t.exports={bind:function(t){var e=this,i=t.attrName||"data-share";s.forEach(t.el,(function(s){var a=(s=n(s)).attr(i);if("weixin"===a)return t.clickWx&&t.clickWx();({weibo:1,t163:1,qzone:1,tqq:1,fqq:1,renren:1,kaixin:1,douban:1,yixin:1})[a]&&s.click((function(){e.share({target:a,title:t.title,desc:t.desc||"",pic:t.image||null,pics:t.image?[t.image]:null,link:t.link||window.location.href,site:t.account?"@"+t.account.replace(/^@/,""):"@牛客网",searchPic:t.searchPic})}))}))},share:function(t){var e=this.shareLink(t),i="",n=t.target;"douban"===n?i="toolbar=0,resizable=1,scrollbars=yes,status=1,width=450,height=330,left="+(window.screen.width-450)/2+",top="+(window.screen.height-330)/2:"yixin"===n&&(i="toolbar=0,resizable=1,scrollbars=yes,status=1,width=650,height=460,left="+(window.screen.width-650)/2+",top="+(window.screen.height-460)/2);i?window.open(e,n,i):window.open(e,"_blank")},shareLink:function(t){var e=t.target,i=t.pics||[],n=t.desc||"",o=t.title||"",r=t.link||"",c=t.site||"",l=t.appkey||"",d=t.userdesc||"",u=t.type||"",p=a[e],h=p.url,f=p.param||{},m=c?" 分享来自 "+c:"",v=o===n?"":n;/^\/\//.test(r)&&(r="http:"+r);var g={weibo:{appkey:l||"3023520088",url:r,title:o+v+m,pic:i[0]||"",searchPic:t.searchPic},t163:{info:o+v+r+m,images:i.join(f.picSep)},qq:{appkey:l||"101003590",title:o+v,url:r,site:c,pic:i.join(f.picSep)},qzone:{url:r,desc:n,title:o,pics:i.join(f.picSep),site:c,images:i.join(f.picSep)},fqq:{url:r,desc:n,title:o,pics:i.join(f.picSep),site:c,images:i.join(f.picSep)},renren:{resourceUrl:r,description:n+m,title:o,pic:i[0]||""},kaixin:{url:r,content:o+v+m,pic:i.join(f.picSep)},douban:{url:r,title:o+v+m},yixin:{appkey:l,type:u||"webpage",title:o,desc:n,userdesc:d,pic:i[0]||"",url:r}}[e];s.extend(f,g);var y=[];return s.forEach(f,(function(t,e){y.push(e+"="+window.encodeURIComponent(t||""))})),h+"?"+y.join("&")}}},34:function(t,e,i){"use strict";var n=i(10),s=i(3);var a={props:["authType"],show:function(t){var e=new(n.extend(this))(t);return s.wrap(e,{width:600,title:"身份认证",hasNoFooter:!0}),e}},o=i(0),r=Object(o.a)(a,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"pop-content"},[t._m(0),t._v(" "),i("div",{staticClass:"pop-verify-txt"},[i("p",[t._v("为保证内推真实有效，"+t._s(-1===t.authType?"该功能仅牛客认证用户（正式员工）可使用，快去进行职业身份认证吧！":"该功能需认证为正式员工可使用，请更换认证方式重新认证。"))])]),t._v(" "),i("div",{staticClass:"pop-verify-box"},[i("a",{staticClass:"btn btn-primary",attrs:{href:"/user/authentication"}},[t._v(" "+t._s(-1===t.authType?"申请":"重新")+"认证")])])])}),[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"pop-verify-pic",staticStyle:{width:"295px"}},[e("img",{staticStyle:{width:"295px",height:"141px"},attrs:{src:"//uploadfiles.nowcoder.com/images/20190313/56_1552478118146_D4243B2D6CA86E479E25A1746E1AC940"}})])}],!1,null,null,null);e.a=r.exports},36:function(t,e,i){"use strict";var n=i(11),s=i.n(n),a=i(23),o=i(18),r=i.n(o),c=i(10),l=i(1),d=i(2),u=i(3),p=i(54),h=i(60),f=i(66);var m={ncPopup:function(t){var e=new(c.extend(this))(t);return u.wrap(e,{width:750,noUnique:!0,hasNoFooter:!0,hasNoTitle:!0}),e},components:{BtnCircle:a.a},props:["data"],mounted:function(){var t=this;r.a.isFeedAdmin({type:"GET",call:function(e){var i=e.data,n=void 0!==i&&i;t.isAdmin=n},error:function(t){t.msg}}),t.$nextTick((function(){var e=d(t.$refs.input);e.focus(),t.initEmoji(),h.input(e),f.input(e)})),s.a.getTodayClockInfo({type:"GET",call:function(e){var i=e.data,n=(i=void 0===i?{}:i).isClockToday,s=i.circleForDailyClock;t.isClockToday=n,t.circleForDailyClock=s}})},data:function(){return{circleForDailyClock:{},isClockToday:!1,circle:-1,isAdmin:!1,comment:"",publishing:!1,replyRoot:!1,commentWarnLength:990,commentMaxLength:1e3}},computed:{rootType:function(){var t=this.data.root||{},e=t.sourceType;return 8===e?1:2===e?3:t.momentType+5},isPublic:function(){return!1!==l.json(this.data.ext,{}).isPublic},title:function(){var t=this.data,e=this.data.type,i=l.json(t.ext)||{};return 1===e||11===e?i.title:3===e?"".concat(t.ownerView.user.nickname,"的回帖："):4===e?1===this.rootType||3===this.rootType?l.json(t.root.ext,{}).title:"".concat(t.root.ownerView.user.nickname,"说："):"".concat(t.ownerView.user.nickname,"说：")},content:function(){var t=this.data,e=this.data.type,i=0,n="",s=1===e||11===e?this.filterHTML(l.json(t.ext,{}).content||""):3===e?this.filterHTML(l.json(t.ext,{}).commentContent||""):4===e?this.filterHTML(1===this.rootType||11===this.rootType?l.json(t.root.ext,{}).content||"":3===this.rootType?l.json(t.root.ext,{}).commentContent||"":l.json(t.root.ext,{}).content||""):this.filterHTML(this.data.content);return l.forEach(s,(function(t){if(!(i+t.length<200))return n=n+t.slice(0,200-i)+"...",l.BREAK;n=n+"<p>"+t+"</p>",i+=t.length})),n},suffix:function(){var t,e=this.data.type;if(4===e)return t=this.data.root||{},this._getSuffix(l.json(t.ext,{}).ext,this.rootType);return this._getSuffix(this.data.ext,e)},transmitText:function(){var t=this.filterHTML(this.data.content).join("");return t.length>200?t.slice(0,200)+"…":t},commentLength:function(){return d.trim(this.comment).length}},watch:{comment:function(t){t||(this.replyRoot=!1)}},methods:{initEmoji:function(){var t=this,e=t.$refs.input,i=p.show({target:t.$refs.btnEmoji,call:function(n){t.isFocus=!0,e.focus(),t.$nextTick((function(){i.attach.fixPosition(),p.renderInIpt(e,n)}))}});t.$ncPushChild(i)},check:function(){if(this.comment.length>this.commentMaxLength)return u.alert("字数超出限制啦"),!1;return!0},clear:function(){this.comment=""},actionSubject:function(){var t=this,e=t.$refs.input;e.focus(),t.$nextTick((function(){var i=e.selectionStart||0,n=e.selectionEnd||t.comment.length;t.comment="".concat(t.comment.substring(0,i)," # ").concat(t.comment.substring(n)),t.$nextTick((function(){e.selectionStart=i+2,e.selectionEnd=i+2}))}))},actionForward:function(){var t=this,e=t.data,i=e.type>=5&&e.type<=8?JSON.stringify({ext:e.ext,content:t.data.content}):e.ext,n=0===e.ownerView.ownerType?e.ownerView.user.userId:l.json(e.ext).author;t.check()&&(t.publishing=!0,r.a.createShare({body:{content:t.comment,ext:i,circle:t.circle,entityId:e.sourceId,entityType:e.sourceType,entityOwner:n,uuid:e.uuid,addComment:t.replyRoot},call:function(){t.$emit("forward"),u.tips("转发成功"),t.clear(),t.popup.close()},error:function(t){u.alert(t.msg)},always:function(){t.publishing=!1}}))},filterHTML:function(t){var e=(t=(t=t.replace(/<img\s+[^>]*?data\-card\-emoji=['"](.*?)['"]\s+[^>]*?src=['"]([^'"]+)[^>]*>/gi,"$1")).replace(/<img [^>]*src=['"]([^'"]+)[^>]*>/gi,"[图片]")).split(/<br[^>]*?>/gi);return l.map(e,(function(t){return d.trim(t).replace(/<[^>].*?>/gi,"")}))},_getSuffix:function(t,e){return{6:"[打卡]",7:new Array((l.json(t,{}).imgs||[]).length+1).join("[图片]"),8:"[链接]"}[e]||""}}},v=i(0),g=Object(v.a)(m,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"pop-content clearfix"},[i("a",{staticClass:"pop-close",staticStyle:{position:"relative","z-index":"99"},attrs:{href:"javascript:void(0)"}}),t._v(" "),i("div",{staticClass:"pop-feed-cont"},[i("div",{staticClass:"clearfix"},[i("textarea",{directives:[{name:"model",rawName:"v-model",value:t.comment,expression:"comment"}],ref:"input",attrs:{placeholder:"此刻你的想法和感受"},domProps:{value:t.comment},on:{input:function(e){e.target.composing||(t.comment=e.target.value)}}}),t._v(" "),t.commentLength>t.commentWarnLength?i("div",{staticClass:"textarea-txt-tip"},[t.commentLength<=t.commentMaxLength?i("div",{staticClass:"textarea-txt-tip"},[t._v("\n                    还剩\n                    "),i("span",{staticClass:"font-green"},[t._v(t._s(t.commentMaxLength-t.commentLength))]),t._v("\n                    字\n                ")]):i("div",{staticClass:"textarea-txt-tip"},[t._v("\n                    已超出 "),i("span",{staticClass:"font-red"},[t._v(t._s(t.commentLength-t.commentMaxLength))]),t._v(" 字\n                ")])]):t._e()]),t._v(" "),i("div",[4===t.data.type?i("div",{staticClass:"feed-transmit"},[i("i",{staticClass:"icon-nc-share2 mr1"}),t._v(" "),i("a",{staticClass:"name",staticStyle:{color:"#333"},attrs:{href:"javascript:void(0)"},domProps:{innerHTML:t._s(t.data.ownerView.user.nickname)}}),t._v(" "),i("span",{staticClass:"font-gray",staticStyle:{display:"inline-block","vertical-align":"middle"},domProps:{innerHTML:t._s(t.transmitText)}})]):t._e(),t._v(" "),i("div",{staticClass:"feed-cont-quote"},[t.title?i("div",{staticClass:"feed-title",domProps:{innerHTML:t._s(t.title)}}):t._e(),t._v(" "),i("div",{staticClass:"feed-cont"},[i("p",{domProps:{innerHTML:t._s(t.content)}}),t._v(" "),t.suffix?i("p",[t._v(t._s(t.suffix))]):t._e()])])]),t._v(" "),i("div",{staticClass:"pop-publish-oprt"},[i("div",{staticClass:"publish-tool-bar"},[i("div",{ref:"btnEmoji",staticClass:"publish-tool-item"},[i("i",{staticClass:"icon-nc-face4"}),t._v("表情")]),t._v(" "),t.isPublic?i("div",{staticClass:"publish-tool-item",on:{click:t.actionSubject}},[i("i",{staticClass:"icon-nc-topic"}),t._v("话题")]):t._e(),t._v(" "),t.data.type>=5?i("div",{staticClass:"publish-tool-item"},[i("label",{staticClass:"checkbox","class":[t.replyRoot&&t.comment?"checked":"",t.comment?"":"disabled"],on:{click:function(e){e.preventDefault(),t.replyRoot=!t.replyRoot}}},[i("span",{staticClass:"icons"}),i("input",{attrs:{type:"checkbox"}}),t._v("同时回复给原作者 ")])]):t._e()]),t._v(" "),i("div",{staticClass:"feed-publish-oprt"},[t.isAdmin&&t.isPublic?i("btn-circle",{attrs:{circleForDailyClock:t.circleForDailyClock,isClockToday:t.isClockToday},model:{value:t.circle,callback:function(e){t.circle=e},expression:"circle"}}):t._e(),t._v(" "),i("button",{staticClass:"btn btn-primary btn-sm",attrs:{disabled:t.publishing,type:"button"},on:{click:t.actionForward}},[t._v("发布")])],1)])])])}),[],!1,null,null,null);e.a=g.exports},46:function(t,e,i){var n=i(5);t.exports={url:{createImg:"/helper/share/pic",log:"/share-record/add"}},n.add(t.exports,t.exports.url)},48:function(t,e,i){var n=i(2),s=i(1),a=i(31),o=i(8),r=i(15),c=i(3),l=i(25),d=i(17),u=(i(52),i(19));t.exports={wx:function(t,e){if(t)return new c({title:"分享到微信",noUnique:e,width:320,content:['<div class="avarta-box">','<img height="200px" style="display:block;margin:0 auto;" src="',t,'" />','<div style="text-align:center;font-size:14px;margin-top:20px;">微信扫一扫，点击手机屏幕右上角分享</div>',"<div>"].join("")})},ac:function(t){var e=this,i=t.nextUrl||"",n=(t.share,window.location.origin+"/questionTerminal/"+t.uuid),s=new c({title:"恭喜通过本题",width:700,content:['<div class="clearfix">','<div class="pop-course">','<div class="pop-c-main"><img src="//static.nowcoder.com/images/res/course/add-jy.png" >','<span class="pop-c-tip">恭喜你通过本题</span>','<div class="pop-c-result">',"<p>运行时间：",t.seconds,"ms</p>","<p>占用内存：",t.memory,"k</p>"," </div>",'<div class="layer-share-wrapper" style="position:initial;border:0px;box-shadow:initial;">','<span style="line-height:42px;font-size:14px;">邀请朋友来挑战：</span>','<div class="layer-share-item js-share-wx"><i class="icon-nc-wechat"></i><p>微信</p></div>','<div class="layer-share-item js-share-link" data-share="fqq"><i class="icon-nc-qq"></i><p>QQ</p></div>','<div class="layer-share-item js-copy-link"><i class="icon-nc-link"></i><p>复制链接</p></div>'," </dl>","</div>",""!==i?'<a href="'+i+'" class="btn btn-primary js-go-next">进入下一题</a>':"","</div>",'<a href="',t.answerUrl,'" class="btn btn-primary" target="_blank">分享解题思路</a>',"</div>"].join(""),listeners:{"click .js-share-wx":{handler:function(){e.wx(r.rqUrl("https://m.nowcoder.com/questionTerminal?uuid="+t.uuid))}}}});return a.bind({el:s.getEl('.js-share-link[data-share="fqq"]'),desc:"这道题我终于AC了，有要一起刷的吗？",link:n}),o.copy({el:s.getEl(".js-copy-link"),content:n,call:function(){c.tips("复制成功!")},error:function(){c.alert("复制失败!")}}),s},acNew:function(t){var e=this,i=t.nextUrl||"",n=(100*t.timePercent).toFixed(2),s=(100*t.memoryPercent).toFixed(2),l=(t.share,window.location.origin+"/questionTerminal/"+t.uuid),d=u.getOs(),p="macintosh"===(u.getOs()||{}).os;(u.getOs()||{}).os;console.log(d);var h=new c({hasNoTitle:!0,width:t.width||700,content:['<div class="clearfix">','<a href="javascript:void(0);" class="pop-close js-popup-close" style="position:relative;z-index: 5;" title="关闭"></a>','<div class="pop-course">','<div class="pop-c-main"><img style="width: 499px;position: absolute;top: -116px;left: -31px;" src="//static.nowcoder.com/fe/file/images/web/ta/ac-champion.png" >','<div class="pop-c-result" style="margin-top: 120px;padding: 0 20px;background: #fff;">','<div class="" style="text-align: left; position: relative; font-size: 14px;">',"<div><span>运行时间：",t.seconds,"ms</span><br />",'<span style="display: inline-block;margin-top: 8px;color:#999999;">超过<span style="color: #EC5F1F">'+n+"%</span>用"+t.language+"提交的代码</span>",'<i class="icon-nc-overseas-time" style="position: absolute;right: 0;font-size: 28px;top: 12px;color: #999;"></i></div>',"</div>",'<div class="" style="text-align: left; position: relative; font-size: 14px;margin-top: 28px;">',"<div><span>占用内存：",t.memory,'KB</span><br /><span style="display: inline-block;margin-top: 8px;color:#999999;">','超过<span style="color: #EC5F1F">'+s+"%</span>用"+t.language+"提交的代码</span>",'<i class="icon-nc-overseas-neicun" style="position: absolute;right: 0;font-size: 28px;top: 12px;color: #999;"></i></div>',"</div>"," </div>",'<div class="layer-share-wrapper" style="position:initial;border:0px;box-shadow:initial;">','<span style="line-height: 42px;font-size: 12px;color: #666666;" class="invite-friend">邀请朋友来挑战：</span>','<div class="layer-share-item js-share-wx"><i class="icon-nc-wechat"></i><p>微信</p></div>','<div class="layer-share-item js-share-link" data-share="fqq"><i class="icon-nc-qq"></i><p>QQ</p></div>','<div class="layer-share-item js-copy-link"><i class="icon-nc-link"></i><p>复制链接</p></div>'," </dl>","</div>","</div>",'<a href="',t.answerUrl,'" class="btn btn-primary" target="_blank" style="border: 1px solid">分享解题思路</a>',""!==i?!0===p?'<a href="'+i+'" class="btn btn-primary js-go-next" style="background: #fff;color: #25bb9b;border: 1px solid #25bb9b;float: right;height: 20px;margin-right: 20px;"><span style="position: relative;top: -5px;">进入下一题</span><div style="display: inline-block;width: 40px;height: 20px;background: #EEFAF8;border-radius: 4px;margin-left: 4px;position: relative;"><i class="icon-nc-command" style="position: absolute;left: 3px;top: 3px;"></i><i style="margin-top: 7px;display: inline-block;position: absolute;" class="icon-nc-lottery"></i></div></a>':'<a href="'+i+'" class="btn btn-primary js-go-next" style="background: #fff;color: #25bb9b;border: 1px solid #25bb9b;float: right;margin-right: 20px;"><span style="position: relative;">进入下一题  ctrl</span><div style="display: inline-block;position: relative;width: 12px;height: 10px;"><i class="icon-nc-lottery" style="position: absolute;top: 3px;"></i></div></a>':"","</div>"].join(""),listeners:{"click .js-share-wx":{handler:function(){e.wx(r.rqUrl("https://m.nowcoder.com/questionTerminal?uuid="+t.uuid))}}}});return a.bind({el:h.getEl('.js-share-link[data-share="fqq"]'),desc:"这道题我终于AC了，有要一起刷的吗？",link:l}),o.copy({el:h.getEl(".js-copy-link"),content:l,call:function(){c.tips("复制成功!")},error:function(){c.alert("复制失败!")}}),h},ipt:function(t,e,i,n,s){return new c({title:t||"提示",width:530,content:['<div class="pop-recovery-content">',e?'<p class="pop-tip">'+e+"</p>":"",'<div class="control-group js-ipt" style="width:100%;"><textarea class="pop-recovery-txt"',i?" placeHolder="+i:"",' style="width:97%;padding:0.5% 1%;height:120px;margin:10px auto;resize:none;"></textarea></div>',"</div>"].join(""),render:function(){var t=this.ipt=l.transform(this.getEl("div.js-ipt"));s&&t.listen("change",(function(){s(t,t.val())}))},ok:function(){var t=this.ipt,e=t.val();return!(!s||s(t,e))||(s||e)&&n&&n.call(this,e,t)},close:function(){}})},selectJob:function(t,e){var i=d.jobs,a=s.toMap(t,(function(t){return{key:t,value:!0}})),o="";s.forEach(i,(function(t,e){o+='<a class="tag-label '+(a[t]?"selected":"")+'" href="javascript:void(0);" data-name="'+e+'">'+e+"</a> "})),new c({title:"职业方向",content:o,noUnique:!0,render:function(){this.getEl().on("click","a.tag-label",(function(t){var e=n(t.currentTarget);e[e.hasClass("selected")?"removeClass":"addClass"]("selected")}))},ok:function(){var t=this.getEl(),a=[],o=[];if(s.forEach(t.find("a.selected"),(function(t){var e=n.trim(n(t).attr("data-name")),s=i[e];s&&a.push(s),s&&o.push(e)})),0===o.length)return c.error("请选择职业方向"),!0;e&&e(a,o)},cancel:function(){}})}}},49:function(t,e,i){var n=i(5);t.exports={url:{newHrAccount:"/job/new-account",internCenter:"/job/center",delJob:"/job/del",getJobs:"/job/list",hideJob:"/job/hide",revertHideJob:"/job/revert-hide",downJob:"/job/down",revertDownJob:"/job/revert-down",forbidHr:"/job/forbid",getPublishInfo:"/job/publisherInfo"}},n.add(t.exports,t.exports.url)},50:function(t,e,i){var n=i(2),s=i(1),a=i(7),o=i(4),r=i(81),c=i(9),l=i(8),d=i(12),u=i(61),p=i(19),h=(i(38),i(25),t.exports=o.create());o.mix(h,a,{_template:'<div style="position:relative"></div>',listeners:[{name:"render",type:"custom",handler:function(){var t=this.rawConfig;this.value=this.str2data(t.val||""),this.initIpt(),this.initHtml(),this.refresh()}},{name:"click .js-toggle",handler:function(){this.changeMinType(),this.resize(),this.fixPostion()}},{name:"click .js-quick",handler:function(t){this.rawConfig;var e=+n(t.currentTarget).attr("data-ext")||0,i=new Date((new Date).getTime()+864e5*e);this.val(d.form(i,"yyyy-MM-dd HH:mm:ss"))}},{name:"click li.js-item",handler:function(t){var e=n(t.currentTarget);if(!e.hasClass("selected")&&!e.hasClass("disabled")){var i=this.value,a=e.closest("div.js-part"),o=(this.type,a.attr("data-type")),r=e.attr("data-val");if(r&&o&&{year:1,month:1,day:1,hour:1,min:1}[o]){var c=+r||0;if(e.closest("div").find(".js-item.selected").removeClass("selected"),e.addClass("selected"),this.value[o]=c,"year"===o)(!s.id(i.month)||!this.canSelectDate(c,this.value.month))&&(this.value.month=null),(!s.id(i.month)||!s.id(i.day)||!this.canSelectDate(c,this.value.month,this.value.day))&&(this.value.day=null),this.renderMonth(),this.renderDay(),this.renderHour(),this.renderMin();else if("month"===o)(!s.id(i.day)||!this.canSelectDate(this.value.year,c,this.value.day))&&(this.value.day=null),this.renderDay(),this.renderHour(),this.renderMin();else if("day"===o){var l=s.id(i.min)?[i.hour,i.min]:[i.hour];s.id(i.hour)&&this.canSelectTime.apply(this,l)||(this.value.hour=null,this.value.min=null),this.renderHour(),this.renderMin()}else"hour"===o&&(!s.id(i.min)&&(this.value.min=0),!this.canSelectTime(this.value.hour,this.value.min)&&(this.value.min=null),this.renderMin());this.resize(),this.fixQuick(),this.fixPostion("year"===o,"hour"===o),this.callback()}}}}],show:function(t){var e=new h(t=t||{});return r.wrap(e,{target:t.target,attach:t.attach,content:e.html(),zIndex:t.zIndex,noHover:t.noHover,needClick:t.needClick,canShow:t.canShow}),e},yearDiff:function(t){return t=+t||0,(new Date).getFullYear()+t}},{initialize:function(t){this.type=s.contains(["date","dateNoDay","datetime","time"],t.type)?t.type:"datetime",this.quickTool=!!t.quickTool&&"dateNoDay"!==this.type&&"time"!==this.type,"time"===this.type&&(t.startDate=t.startDate||"00:00",t.endDate=t.endDate||"23:59");this.endDate=this.getDateConf(t.endDate),this.startDate=this.getDateConf(t.startDate,!0)},initHtml:function(){var t=this.getEl(),e=this.type,i="time"===e?"":['<div class="js-date date-picker" style="position:absolute;">','<div class="js-part first-column" data-type="year"></div>','<div class="js-part js-tile second-column" data-type="month" style="overflow:hidden;"></div>',"dateNoDay"===e?"":'<div class="js-part js-tile third-column" data-type="day" style="overflow:hidden;"></div>',"</div>"].join(""),n="date"===e||"dateNoDay"===e?"":['<div class="js-time date-picker" style="position:absolute;">','<div class="js-part first-column" data-type="hour"></div>','<div class="js-part js-tile third-column" data-type="min" style="left:71px;width:262px;overflow:hidden;position:relative;">','<div class="js-list" style="padding:0 0 40px;"></div>','<div style="padding:5px 0;text-align:right;background:#fff;position:absolute;bottom:0;left:0;width:100%;">','<a href="javascript:void(0);" class="js-toggle link-green">更多时间&gt;</a>&nbsp;&nbsp;',"</div>","</div>","</div>"].join(""),s=this.quickTool?['<ul class="date-days js-quicktool">','<li class="js-quick" data-ext="0"><a href="javascript:void(0);"><i class="day-spot"></i>今天</a></li>','<li class="js-quick" data-ext="1"><a href="javascript:void(0);"><i class="day-spot"></i>明天</a></li>','<li class="js-quick" data-ext="2"><a href="javascript:void(0);"><i class="day-spot"></i>后天</a></li>',"</ul>"].join(""):"";t.html(i+n+s),this.dateEl=t.find("div.js-date"),this.timeEl=t.find("div.js-time");this.elMap={year:this.dateEl.find(".js-part.first-column"),month:this.dateEl.find(".js-part.second-column"),day:this.dateEl.find(".js-part.third-column"),hour:this.timeEl.find(".js-part.first-column"),min:this.timeEl.find(".js-part.third-column"),minList:this.timeEl.find(".js-list"),minToggle:this.timeEl.find(".js-toggle"),quickTool:t.find(".js-quicktool")}},initIpt:function(){var t=this,e=t.rawConfig,i=t.ipt=n(e.ipt);i.length>0&&(n(e.ipt).attr("readonly",1),t.attach.listen("attachShow",(function(){var n=i.val();n=e.transformIptVal?e.transformIptVal(n):n,t.val(n)})))},val:function(t){var e=this.type,i=this.str2data(t),n=this.canSelectDate(i.year,i.month,i.day),s=this.canSelectTime(i.hour,i.min);(("date"===e||"dateNoDay"===e)&&n||"datetime"===e&&n&&s||"time"===e&&s)&&(this.value=i);this.refresh(),this.callback()},resize:function(){var t=this.getEl(),e=this.elMap,i=this.dateEl,n=this.timeEl,a=e.year,o=e.month,r=e.day,c=e.hour,d=e.min,u=e.quickTool,p=Math.max(this.lastMaxHeight||0,"time"===this.type?180:186);s.forEach([o,r,d],(function(t){t.height(1);var e=t.get(0)?t.get(0).scrollHeight:0;t.height(e),p=Math.max(p,t.outerHeight())})),this.lastMaxHeight=p;var h=0,f=0;s.forEach([[a,o,r],[c,d]],(function(t,e){var i=0===e;s.forEach(t,(function(t){var e=t.outerWidth()-(t.get(0)?1:0);t.outerHeight(p),i&&(h+=e),!i&&(f+=e)}))})),o.css("left",a.outerWidth()-1),r.css("left",a.outerWidth()+o.outerWidth()-2),d.css("left",c.outerWidth()-1),i.outerWidth(h).outerHeight(p),n.outerWidth(f).outerHeight(p).css("left",h-1);var m=(n.get(0)?l.getPosLeft(n,t)+n.outerWidth():h)+1;u.outerWidth(m).css("top",p-1),t.outerWidth(m).outerHeight(u.outerHeight()+p-1)},fixPostion:function(t,e){this.getEl();var i=this.elMap.year;if(!t&&i.length>0){(s=(s=i.find("li.selected")).get(0)?s:i.find("li[data-val="+(new Date).getFullYear()+"]")).get(0)&&this.scrollCenter(s,i)}var n=this.elMap.hour;if(!e&&n.length>0){var s;s=(s=n.find("li.selected")).get(0)?s:n.find("li[data-val=12]"),this.scrollCenter(s,n)}},fixQuick:function(){var t=this.value;if(this.quickTool){var e=new Date,i=new Date(e.getTime()+864e5),n=new Date(e.getTime()+1728e5),a=this.isSameDate(e.getFullYear(),e.getMonth()+1,e.getDate(),t.year,t.month,t.day),o=this.isSameDate(i.getFullYear(),i.getMonth()+1,i.getDate(),t.year,t.month,t.day),r=this.isSameDate(n.getFullYear(),n.getMonth()+1,n.getDate(),t.year,t.month,t.day),c=a?0:o?1:r?2:null,l=this.elMap.quickTool;l.find("li a").removeClass("selected"),s.id(c)&&l.find("li[data-ext="+c+"] a").addClass("selected")}},callback:function(){var t=this.rawConfig,e=this.type,i=this.value;if(!t.call)return;var n=s.id(i.year),a=s.id(i.month),o=s.id(i.day),r=s.id(i.hour),c=s.id(i.min),l="";"datetime"===e&&n&&a&&o&&r&&c?l=[i.year,u.form(i.month),u.form(i.day)].join("-")+" "+[u.form(i.hour),u.form(i.min),"00"].join(":"):"date"===e&&n&&a&&o?l=[i.year,u.form(i.month),u.form(i.day)].join("-"):"dateNoDay"===e&&n&&a?l=[i.year,u.form(i.month)].join("-"):"time"===e&&r&&c&&(l=[u.form(i.hour),u.form(i.min),"00"].join(":"));l&&l!==this._lastCallbackVal&&(this._lastCallbackVal=l,t.call.call(this,i,l),p.mobile()&&this.attach.forceHide())},refresh:function(){this.renderYear(),this.renderMonth(),this.renderDay(),this.renderHour(),this.renderMin(),this.fixQuick(),this.resize(),this.fixPostion()},renderYear:function(){var t=this;if("time"!==t.type){var e="",i=t.endDate.year,n=t.startDate.year;s.forCount(i-n+1,(function(i){i=n+i,e+=c.execTpl('<li class="js-item #{selected}" data-val="#{val}">#{val}</li>',{val:i,selected:i===t.value.year?"selected":""})})),t.elMap.year.html("<ul>"+e+"</ul>")}},renderMonth:function(){var t=this;if("time"!==t.type){var e=t.value.year,i=e?"":'<div style="text-align:center;margin:10px 0;color:#999;">请先选择年份</div>';i||(s.forCount(12,(function(n){n++,i+=c.execTpl('<li class="js-item #{disabled} #{selected}" data-val="#{val}">#{month}月</li>',{disabled:t.canSelectDate(e,n)?"":"disabled",selected:n==t.value.month?"selected":"",val:n,month:u.form(n)})})),i='<ul class="clearfix">'+i+"</ul>"),t.elMap.month.html(i)}},renderDay:function(){var t=this;if("time"!==t.type&&"dateNoDay"!==t.type){var e=t.value.year,i=t.value.month,n=e&&i?"":'<div style="text-align:center;margin:10px 0;color:#999;">请先选择年份和月份</div>';if(!n){n='<ul class="no-hover clearfix"><li>一</li><li>二</li><li>三</li><li>四</li><li>五</li><li>六</li><li>日</li></ul>';var a=d.getDateItem(e,i,1);s.forEach(a,(function(a){n+='<ul class="clearfix">',s.forEach(a,(function(s){n+=c.execTpl('<li class="js-item #{selected} #{nohover} #{disabled}" data-val="#{val}">#{val}</li>',{disabled:t.canSelectDate(e,i,s)?"":"disabled",nohover:s?"":"no-hover",selected:s&&s===t.value.day?"selected":"",val:s||""})})),n+="</ul>"}))}t.elMap.day.html(n)}},renderHour:function(){var t=this;if("time"===t.type||"datetime"===t.type){var e="";s.forCount(24,(function(i){e+=c.execTpl('<li class="js-item #{selected} #{disabled}" data-val="#{val}">#{hour}</li>',{disabled:t.canSelectTime(i)?"":"disabled",selected:i===t.value.hour?"selected":"",val:i,hour:u.form(i)})})),t.elMap.hour.html("<ul>"+e+"</ul>")}},renderMin:function(){var t=this;if("time"===t.type||"datetime"===t.type){var e="";s.forCount(60,(function(i){e+=c.execTpl('<li class="js-item #{selected} #{disabled}" data-val="#{val}">#{min}</li>',{disabled:t.canSelectTime(t.value.hour,i)?"":"disabled",selected:i===t.value.min?"selected":"",val:i,min:u.form(i)})})),t.elMap.minList.html('<ul class="clearfix">'+e+"</ul>"),t.changeMinType((t.value.min||0)%5!=0)}},changeMinType:function(t){var e=this.minType;e=!0===t?"full":!1===t?"tiny":{full:"tiny",tiny:"full"}[e]||"tiny",this.minType=e;t="full"===e;s.forEach(this.elMap.minList.find(".js-item"),(function(e,i){n(e)[t||i%5==0?"show":"hide"]()})),this.elMap.minToggle.html(t?"常用时间&gt;":"更多时间&gt;")},canSelectDate:function(t,e,i){var n=this,s=Math.min(3,arguments.length);if(s>0){var a=n.startDate,o=n.endDate,r=new Date(a.year,s>1?a.month-1:0,s>2?a.day:1),c=new Date(o.year,s>1?o.month-1:0,s>2?o.day:1),l=new Date(t,s>1?e-1:0,s>2?i:1);return l.getTime()>=r.getTime()&&l.getTime()<=c.getTime()}},canSelectTime:function(t,e){var i=this,n=i.type,a=i.value,o=i.startDate,r=i.endDate,c=arguments.length;if(c<=0)return!1;if("date"===n||"dateNoDay"===n)return!1;if(c>1&&(!s.id(t)||!s.id(e)))return!0;if("datetime"===n){if(s.id(a.year)&&s.id(a.month)&&s.id(a.day)){var l=new Date(o.year,o.month-1,o.day,o.hour,c>1?o.min:0),d=new Date(r.year,r.month-1,r.day,r.hour,c>1?r.min:0),u=new Date(a.year,a.month-1,a.day,t,c>1?e:0);return u.getTime()>=l.getTime()&&u.getTime()<=d.getTime()}return!0}if("time"===n){var p=1===c?t:60*t+e,h=1===c?o.hour:60*o.hour+o.min,f=1===c?r.hour:60*r.hour+r.min;return p>=h&&p<=f}return!1},getDateConf:function(t,e){if("now"===t){return{year:(i=new Date).getFullYear(),month:i.getMonth()+1,day:i.getDate(),hour:i.getHours(),min:i.getMinutes()}}var i=e?new Date(1900,0,1,0,0,0):new Date,n=/(\d{4})-(\d{2})-(\d{2})/.exec(t||"")||[],a=/(\d{2}):(\d{2})/.exec(t||"")||[],o=s.id(n[1])?+n[1]:i.getFullYear(),r=s.id(n[2])?+n[2]:i.getMonth()+1,c=s.id(n[3])?+n[3]:i.getDate(),l=s.id(a[1])?+a[1]:i.getHours(),u=s.id(a[2])?+a[2]:i.getMinutes();return o=o<=0?1900:o,r=Math.min(12,Math.max(1,r)),c=c<=0||c>d.getDayCount(o,r)?1:c,{year:o,month:r,day:c,hour:l=l<0||l>=24?0:l,min:u=u<0||u>=60?0:u}},scrollCenter:function(t,e){t.parent().outerHeight();var i=l.getPosTop(t,e);e.scrollTop(i-e.outerHeight()/2+t.height()/2)},isSameDate:function(t,e,i,n,a,o){return s.id(t)===s.id(n)&&s.id(e)===s.id(a)&&s.id(i)===s.id(o)},str2data:function(t){var e=/(\d{4})-(\d{1,})-(\d{1,})/.exec(t||"")||[],i=/(\d{1,}):(\d{1,})/.exec(t||"")||[],n=+e[1],a=+e[2],o=+e[3],r=+i[1],c=+i[2];return{year:s.id(n)?n:null,month:s.id(a)?a:null,day:s.id(o)?o:null,hour:s.id(r)?r:null,min:s.id(c)?c:null}}})},51:function(t,e,i){"use strict";var n=i(14),s=i.n(n),a=i(46),o=i.n(a),r=i(27),c=i.n(r),l=i(30),d=i(36);function u(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,n)}return i}function p(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?u(Object(i),!0).forEach((function(e){s()(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):u(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}var h=i(1),f=i(4),m=i(7),v=i(8),g=i(15),y=i(31),w=i(10),k=i(2),b=i(47),C=i(3),x=i(48),T=i(20),_=i(33),j=i(13),E=f.create();e.a=E,f.mix(E,m,{_showTips:[],_template:'<div class="layer-share-main">#{content}</div>',listeners:[{name:"render",type:"custom",handler:function(){var t=this,e=t.rawConfig;if(!e.shareType||!e.entityId)return t.initShare();t.getImg((function(e){return t.initShare(e)}))}},{name:"click .js-share-feed",handler:function(t){var e,i;if(!j.isLogin())return _.showLogin();"forward"===this.rawConfig.feedType?(e=this.rawConfig,1===(i=e.feedData.type)?c.a.getSummary({query:{postId:e.feedData.sourceId},call:function(t){var i=t.data,n=i.title,s=i.content;d.a.ncPopup({propsData:{data:p(p({},e.feedData),{},{ext:JSON.stringify({title:n,content:s})})}})},error:function(t){var e=t.msg;C.alert(e)}}):3===i&&d.a.ncPopup({propsData:{data:p(p({},e.feedData),{},{ext:JSON.stringify({commentContent:e.feedData.commentContent})})}})):function(t){var e=new(w.extend(l.a))({propsData:{from:"link",initialContent:{title:"".concat(t.title||"").concat(t.desc||""),url:t.link||window.location.href,icon:"https://uploadfiles.nowcoder.com/images/20190823/6658561_1566555667627_FB5C81ED3A220004B71069645F112867"}}});e.$on("published",(function(t){return e.popup&&e.popup.close()})),e.$watch("link",(function(){return e.$nextTick((function(){return e.popup&&e.popup.fixPosition()}))})),C.wrap(e,{width:750,title:"分享到动态",hasNoFooter:!0,close:function(){e.actionBlur()}})}(this.rawConfig)}},{name:"click .js-share-wx",handler:function(t){var e=this.rawConfig,i=e.wxImg&&this.imgUrl||e.wxLink||e.link||window.location.href;x.wx(g.rqUrl(i))}},{name:"click .js-share-img",handler:function(t){var e=this.rawConfig;T.shareImg({shareType:e.shareType,entityId:e.entityId})}},{name:"click .layer-share-item",handler:function(t){var e=k(t.currentTarget),i=k.trim(e.attr("data-to"));i&&this.log(i)}}],show:function(t){if(!t.target||0===t.target.length)return;var e=new E(t),i=b.wrap(e,{target:t.target,content:e.html(),theme:!0,autoWidth:!0,attach:p({zIndex:t.zIndex||1001},t.attach)});return t.target.on("click",(function(){var e=i.getEl().is(":hidden");t.target.trigger(e?"mouseenter":"mouseleave")})),i.getEl().addClass("layer-share-tips"),i.getEl(".tooltip-inner").addClass("layer-share-wrapper").css("position","initial"),e},fixStr:function(t){return(t||"").replace(/\r|\n/g,"").replace(/\s+/g," ")},fixContent:function(t){return(t=this.fixStr(t)).length>100?t.substring(0,100)+"...":t}},{initShare:function(t){var e=this.rawConfig,i=e.link||window.location.href;y.bind({el:this.getEl('.js-share-link[data-share="weibo"]'),title:e.title,desc:e.desc,link:i,image:t,searchPic:"false",account:"牛客网"}),y.bind({el:this.getEl('.js-share-link[data-share="fqq"]'),title:(e.title||"")+(e.title?" ":"")+(e.desc||"")+" 来自@牛客网",link:i,image:t,account:"牛客网"}),v.copy({el:this.getEl(".js-copy-link"),content:i,call:function(){return C.tips("复制成功!")},error:function(){return C.alert("复制失败!")}}),e.noTxt&&this.getEl(".js-txt").hide()},getImg:function(t){var e=this,i=e.rawConfig;o.a.createImg({query:{shareType:i.shareType,entityId:i.entityId},call:function(i){e.imgUrl=i.data,t&&t(i.data)},error:function(e){t&&t("")}})},log:function(t){var e=this.rawConfig;o.a.log({body:{url:e.link||window.location.href,shareTo:t,entityId:e.entityId||1,shareType:e.logType}})},_getData:function(t){var e=t.btn||["feed","img","wx","qq","weibo","link"],i={feed:'<div class="layer-share-item js-share-feed" data-to="6"><i class="ico-nc-share4"></i><p class="js-txt">转发到动态</p></div>',img:'<div class="layer-share-item js-share-img" data-to="5"><i class="ico-picture"></i><p class="js-txt">生成图片</p></div>',wx:'<div class="layer-share-item js-share-wx" data-to="1"><i class="ico-nc-wechat"></i><p class="js-txt">微信</p></div>',qq:'<div class="layer-share-item js-share-link" data-share="fqq" data-to="2"><i class="ico-nc-qq"></i><p class="js-txt">QQ</p></div>',weibo:'<div class="layer-share-item js-share-link" data-share="weibo" data-to="3"><i class="ico-nc-weibo"></i><p class="js-txt">微博</p></div>',link:'<div class="layer-share-item js-copy-link" data-to="4"><i class="ico-nc-link" data-type="4"></i><p class="js-txt">复制链接</p></div>'};return{content:h.map(e,(function(t){return i[t]||""})).join("")}}})},52:function(t,e,i){var n,s=i(2),a=i(1),o=navigator.userAgent||"",r=!/Edge\/(\d+)/.exec(o)&&/AppleWebKit/.test(o)&&/Mobile\/\w+/.test(o)||/Mac/.test(navigator.platform||""),c={ctrl:"@",cmd:"!",shift:"#",alt:"$",space:"%",enter:"&",up:"+",down:"-",left:"[",right:"]"},l={0:48,1:49,2:50,3:51,4:52,5:53,6:54,7:55,8:56,9:57,a:65,b:66,c:67,d:68,e:69,f:70,g:71,h:72,i:73,j:74,k:75,l:76,m:77,n:78,o:79,p:80,q:81,r:82,s:83,t:84,u:85,v:86,w:87,x:88,y:89,z:90,"@":17,ctrl:17,"!":[91,92,93],cmd:[91,92,93],"#":16,shift:16,$:18,alt:18,"%":32,space:32,"&":13,enter:13,"+":38,up:38,"-":40,down:40,"[":37,left:37,"]":39,right:39},d=a.toMap(l.cmd,(function(t){return{key:t}})),u={};a.forEach(l,(function(t,e){if(!c[e])return a.isArray(t)?a.forEach(t,(function(t){return u[t]=e})):void(u[t]=e)})),t.exports={keys:[],data:{},action:function(t){var e="",i=t.keyCode+"";if(!u[i])return!0;i==l.ctrl||i==l.shift||i==l.alt||d[i]||(e+=t.ctrlKey?c.ctrl:"",e+=t.shiftKey?c.shift:"",e+=t.altKey?c.alt:"",r&&!t.ctrlKey&&(e+=t.metaKey?c.cmd:""));e+=u[i];var n=this.keys.join("")+u[i];if(this.data[e])return a.forEach(this.data[e],(function(e){return e(t)})),!0;if(this.data[n])return a.forEach(this.data[n],(function(e){return e(t)})),!0;return!1},add:function(t,e){var i,n=(t||"").toLowerCase().replace(/\s+/g,"").split("+"),s="",a="",o="",r="",l=!1;if(t="",0===n.length)return;for(var d=0,u=n.length;d<u;d++){if(i=n[d],!/[a-z0-9]/.test(i)&&!c[i])return;!l&&{ctrl:1,shift:1,alt:1,cmd:1}[i]?"ctrl"===i?s+=c.ctrl:"cmd"===i?a+=c.cmd:"shift"===i?o+=c.shift:r+=c.alt:(l=!0,t+=c[i]||i)}t=s+a+o+r+t,this.data[t]||(this.data[t]=[]);this.data[t].push(e)}},s(document).on("keydown",(function(e){var i=t.exports,s=(e.target.tagName||"").toLowerCase();"input"!==s&&"textarea"!==s&&(n&&window.clearTimeout(n),n=window.setTimeout((function(){return i.keys.length=0}),500),i.action(e)?(i.keys.length=0,window.clearTimeout(n)):i.keys.push(u[e.keyCode]))}))},55:function(t,e,i){"use strict";var n=i(6),s=i.n(n),a=i(22),o=i.n(a),r=i(11),c=i.n(r),l=i(2),d=i(7),u=i(4),p=i(1),h=i(3),f=i(9),m=i(15),v=i(31),g=i(48),y=u.create(),w=y;u.mix(y,d,{_template:'\n    <div class="pop-sign-cont">\n        <div class="pop-sign-success">\n            <div class="sign-success-tip">\n                <p class="fui-check-inverted"></p>\n                <p>今日已打卡成功</p>\n            </div>\n            <div class="pop-sign-tip">你已打卡#{studyDay}天，再接再励吧！ <a href="/feed/main/detail/#{feedUuid}" target="_blank" class="link-green">本次打卡页面 »</a></div>\n            <dl class="pop-clock-share">\n                <dt>同步到：</dt>\n                <dd><a href="javascript:void(0);" class="js-share share-wb" data-share="weibo"></a></dd>\n                <dd><a href="javascript:void(0);" class="js-share share-tx" data-share="qzone"></a></dd>\n                <dd><a href="javascript:void(0);" class="share-wx"></a></dd>\n            </dl>\n        </div>\n        <div class="pop-member-wrap">\n            #{memberList}\n            <a href="javascript:void(0);" class="btn btn-primary confirm-btn">确定</a>\n        </div>\n    </div>',listeners:[{name:"render",type:"custom",handler:function(){this.initShare(),this.initGetImage()}},{name:"click a.share-wx",handler:function(t){g.wx(m.rqUrl(this.getShareUrl()),!0)}},{name:"click .icon-nc-zan2",handler:function(t){var e=l(t.currentTarget).parent().parent(),i=e.hasClass("selected");t.preventDefault(),s.a[i?"unlike":"like"]({body:{id:e.data("id"),type:e.data("type")},call:function(){e.toggleClass("selected")},error:function(t){var e=t.msg;h.alert(e)}})}}],show:function(t){var e=new y(t=t||{});return h.wrap(e,{title:"每日学习打卡",content:e.html(),width:630,hasNoFooter:!0,ok:t.ok,close:t.close}),e}},{initShare:function(){var t=this.getEl(),e=this.rawConfig.data||{},i=f.execTpl("我在「牛客」学习打卡第#{studyDay}天，刷题#{doneQuestionCount}道，提交代码#{submissionCount}行#{desc}",{studyDay:e.studyDay,doneQuestionCount:e.doneQuestionCount,submissionCount:e.submissionCount,desc:e.feeling?"，"+e.feeling.slice(0,200):""});this.shareConf={el:t.find("a.js-share"),title:"",desc:i,image:this.shareImage,link:this.getShareUrl()},v.bind(this.shareConf)},initGetImage:function(){var t=this,e=t.rawConfig,i=(new Date).getTime(),n=null;t.listen("destroy",(function(){window.clearTimeout(n)})),function s(){(new Date).getTime()-i>3e5||c.a.getShareImage({query:{id:e.data.id},call:function(e){var i=e.data;l.trim(i)&&(t.shareImage=i,t.shareConf&&(t.shareConf.image=i))},always:function(){l.trim(t.shareImage)||(n=window.setTimeout(s,1e3))}})}()},_getData:function(t){var e=this.rawConfig.data||{},i="";e.clockUsers&&e.clockUsers.length>0&&p.forEach(e.clockUsers,(function(t){var e=t.sourceId,n=t.sourceType,s=t.feedUuid,a=t.name,o=t.headUrl,r=t.isLiked;i+='<div class="pop-member-item '.concat(r?"selected":"",'" data-id="').concat(e,'" data-type="').concat(n,'">')+'<div class="head-pic">'+'<img src="'.concat(o,'" title="').concat(a,'" width="50" height="50">')+'<i class="icon-nc-zan2"></i></div>'+'<a href="/feed/main/detail/'.concat(s,'" target="_blank" class="pop-member-go link-green">去看看</a>')+"</div>"}));return{id:e.id,feedUuid:e.feedUuid,memberList:e.clockUsers.length?'<div class="pop-sign-tip">他们也在打卡，去给战友们加加油吧！</div><div class="pop-member">'.concat(i,"</div>"):"",profile:this.getProfileUrl(),studyDay:e.studyDay}},getProfileUrl:function(){return"/profile/"+window.globalInfo.ownerId+"/clockInfo"},getShareUrl:function(){var t=this.rawConfig.data||{};return t.feedUuid?"".concat(window.location.origin,"/feed/main/detail/").concat(t.feedUuid):"http://m.nowcoder.com/profile/clockInfo?id="+t.id}});var k=i(30),b=i(7),C=i(4),x=i(1),T=i(3),_=C.create(),j=_;C.mix(_,b,{_template:'\n    <div>\n        <div class="pop-verify-pic">\n            <img src="//uploadfiles.nowcoder.com/images/20190313/56_1552478118146_D4243B2D6CA86E479E25A1746E1AC940" style="width:295px;height:141px;">\n        </div>\n        #{content}\n        <div class="pop-verify-box">\n            <a href="//www.nowcoder.com/user/authentication" class="btn btn-primary">申请认证</a>\n        </div>\n    </div>',listeners:[{name:"render",type:"custom",handler:function(){}}],show:function(t){var e=new _(t=t||{});T.wrap(e,{title:"身份认证",content:e.html(),width:600,hasNoFooter:!0})}},{_getData:function(t){var e=t.type;return{content:"1"===x.id(e)?'<div class="pop-verify-txt"><p>发布职位功能只针对正式员工和实习员工开放，您当前的认证身份是准员工，如果你已入职，请重新申请正式员工认证。</p></div>':'\n    <div class="pop-verify-txt"><p>为保障职位信息真实，该功能仅牛客认证用户（正式员工/实习员工）或企业用户可使用，快去进行职业身份认证吧！</p></div>\n    <div class="pop-verify-txt"><p>认证通过后，你可以：</p></div>\n    <div class="pop-verify-txt">\n        <p>1、获得牛币奖赏，精美礼物直接兑换</p>\n        <p>2、专属认证标示，获得官方背书</p>\n        <p>3、拥有专属招聘特权</p>\n    </div>'}}});var E=i(49),S=i.n(E),I=i(10),D=i(3),L=i(38);var P,F,M={show:function(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{},e=this,i=I.extend(e),n=new i(t);return D.wrap(n,{width:600,title:"".concat(1===n.type?"实习":"社招","职位发布使用说明与协议"),hasNoFooter:!0}),n},props:["type","hrUrl","relationHrId"],data:function(){return{argeeCpn:undefined,checked:!1}},mounted:function(){var t=this;t.argeeCpn=new L({renderTo:t.$refs.checkbox,text:'我已阅读并同意<a href="javascript:void(0);" class="link-green">《发布'.concat(1===t.type?"实习":"社招","职位功能使用协议》</a>"),change:function(){t.checked=t.argeeCpn.isChecked()}})},methods:{actionSubmit:function(){var t=this;if(!t.checked)return;if(t.relationHrId>0)return window.open(t.hrUrl),t.$emit("success");S.a.newHrAccount({type:"POST",call:function(e){window.open(t.hrUrl),t.$emit("success")},error:function(e){if(2===e.code)return D.show({noUnique:!0,type:"confirm",content:"你的认证邮箱已经注册过企业账号，是否将该认证邮箱注册的企业账号关联到你的牛客账号，关联后你可以发布".concat(1===t.type?"实习":"社招","职位。"),okTxt:"确定关联",cancelTxt:"暂不关联",ok:function(){S.a.newHrAccount({body:{confirm:!0},call:function(e){window.open(t.hrUrl),t.$emit("success")},error:function(t){D.alert(t.msg)}})},cancel:function(){t.popup.close()}});D.alert(e.msg)}})}}},q=i(0),$=Object(q.a)(M,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"pop-content"},[i("div",{staticClass:"pop-agreement"},[i("h2",[t._v(t._s(1===t.type?"实习":"社招")+"职位发布使用说明与协议")]),t._v(" "),1===t.type?i("div",{staticClass:"pop-agreement-cont"},[i("p",[t._v("1. 欢迎在牛客网发布贵司招聘职位，给学弟学妹提供更直接靠谱的工作机会；")]),t._v(" "),i("p",[t._v("2. 你可直接在牛客网招聘后台进行职位管理、简历处理，还可限时免费使用牛客网的视频面试工具，发送面试邮件通知，方便快速的进行面试筛选；")]),t._v(" "),i("p",[t._v("3. 你发布的职位将直接出现在牛客的求职区中，并有机会获得牛客网公众号的免费推荐；")]),t._v(" "),i("p",[t._v("4.以上服务都是免费的。我们只希望你能体恤学弟学妹们简历石沉大海的心塞，及时处理简历，标记简历是否通过，我们会给应聘者及时反馈；")]),t._v(" "),i("p",[t._v("5.如果你简历处理及时，我们将免费增加你发布职位的曝光率，并给你进行优质牛友简历的精准推荐。")]),t._v(" "),t._m(0)]):i("div",{staticClass:"pop-agreement-cont"},[i("p",[t._v("1. 欢迎在牛客网发布贵司社会招聘职位，给大家提供更直接靠谱的工作机会；")]),t._v(" "),i("p",[t._v("2. 你可直接在牛客网招聘后台进行职位管理、简历处理，方便快速的进行面试筛选；")]),t._v(" "),i("p",[t._v("3. 你发布的职位将直接出现在牛客的求职区中，并有机会获得牛客网公众号的免费推荐；")]),t._v(" "),i("p",[t._v("4. 以上服务都是免费的。我们只希望你能体恤求职者们简历石沉大海的心塞，及时处理简历，标记简历是否通过， 我们会给应聘者及时反馈；")]),t._v(" "),i("p",[t._v("5. 如果你简历处理及时，我们将免费增加你发布职位的曝光率，并给你进行优质牛友简历的精准推荐。")]),t._v(" "),t._m(1)]),t._v(" "),i("div",{ref:"checkbox"})]),t._v(" "),i("div",{staticClass:"pop-btn-wrapper"},[i("a",{staticClass:"btn","class":t.checked?"btn-primary":"btn-default",attrs:{href:"javascript:void(0);"},on:{click:t.actionSubmit}},[t._v("确定")])])])}),[function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("使用协议请查看"),e("a",{staticClass:"link-green",attrs:{href:"https://www.nowcoder.com/discuss/131474",target:"_blank"}},[this._v("《发布实习职位功能使用协议》")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("使用协议请查看"),e("a",{staticClass:"link-green",attrs:{href:"https://www.nowcoder.com/discuss/131474",target:"_blank"}},[this._v("《发布社招职位功能使用协议》")])])}],!1,null,null,null).exports,H=i(57),A=i(2),U=i(7),R=i(4),O=i(1),N=i(3),z=i(12),W=i(9),B=i(8),V=i(25),Q=i(20),J=i(56),G=i(17),K=R.create(),Y=K;R.mix(K,U,{_template:'<div><div style="font-size:14px;text-align:center;">笔记加载中...</div></div>',listeners:[{name:"render",type:"custom",handler:function(){var t=this,e=t.rawConfig;Q.getEditor(["hEditor","mdEditor"],(function(i){P=i.hEditor,F=i.mdEditor,t.fetchData((function(i){var n=e.defaultTilte;t.noteId=i.noteId,t.isEdit=!!t.noteId,t.isMd="1"===O.id(i.contentType),!t.isEdit&&n&&(i.title=n.length<=30?n:n.substr(0,27)+"..."),t.initHtml(),t.initTitle(),t.initEditor(),t.initTagIpt((i.allTags||"").split(",")),t.val(i),t.popup.fixPosition(),t.isMd&&e.mdAttach&&t.attachContent(e.mdAttach),!t.isMd&&e.contentAttach&&t.attachContent(e.contentAttach)}))}))}}],show:function(t){var e=new K(t=t||{}),i=N.wrap(e,{title:"编辑笔记",width:960,content:e.html(),ok:function(){return e.check()&&e.saveNote((function(e){i.close(),t.ok&&t.ok()})),!0},cancel:function(){return e.delDraft((function(){i.close()})),!0},listeners:{destroy:function(){e.contentIpt&&e.contentIpt.destroy()}}});return i.getEl(".pop-close").remove(),e}},{initialize:function(t){this.frequency=z.frequency(250),this.noteId=t.noteId,this.entityId=t.entityId,this.entityType=t.entityType},initHtml:function(){this.getEl().html(['\n    <div class="js-editor"></div>\n    <div class="notes-tag-edit js-tags"></div>'].join(""))},initTitle:function(){var t=this.getEl();this.titleIpt=new V({renderTo:t.find(".js-title"),placeholder:"笔试笔记标题",clsIpt:"edit-notes-title",listeners:{change:O.bind(this.saveDraft,this),blur:function(){(this.val()||"").length>30?this.setErrorTips("长度不能超过30"):this.none()}}})},initEditor:function(){var t=this,e=t.getEl(),i=t.isMd?F:P;t.contentIpt=new i({renderTo:e.find("div.js-editor"),height:180,noToolbarFixed:!0,noAutoHeight:!0,needChangeEditor:!t.isEdit,content:"",draftChange:O.bind(t.saveDraft,t),afterCreate:function(){t.popup.fixPosition()},afterChangeEditor:function(e){t.contentIpt=e}})},initTagIpt:function(t){var e=this.getEl("div.js-tags");this.tagsIpt=new J({renderTo:e,common:t,limitStr:[" ",","],width:e.width(),listeners:{change:O.bind(this.saveDraft,this)}})},attachContent:function(t){if(!t)return;var e=this.contentIpt;if(e.isMd){var i=e.text()+"\n\n"+t;return void e.text(i)}e.waitCreated((function(){var i=A(e.getEditorDoc().body),n=e.getEditor(),s=A("<div><br /></div>");i.append(t),i.append(s),B.scrollToEl({scrollEl:e.getEditorWin(),el:s});try{n.focus(),n.cmd.range.selectNode(s.get(0)),n.select()}catch(a){}}))},val:function(t){var e=this,i=e.isEdit,n=e.contentIpt,s=n.isMd;if(0===arguments.length)return{noteType:"1",title:"",contentType:s?"1":"0",content:n.val(),mdContent:s?n.text():"",entityId:i?undefined:e.entityId,entityType:i?undefined:e.entityType,tags:e.tagsIpt.val().join(",")};n[s?"text":"val"](t[s?"mdContent":"content"]);var a=O.map(W.split(t.draftTags||"",","),(function(t){return{text:t,value:t}}));a.length>0&&e.tagsIpt.val(a)},valDraft:function(){var t=this.val();return t.draftType=G.draftType.note,t.entityId=this.entityId,t.entityType=this.entityType,t},check:function(){if(this.val().title.length>30)return this.titleIpt.setErrorTips("长度不能超过30"),!1;return!0},saveDraft:function(){var t=this;t.frequency((function(){o.a.saveDraft({body:t.valDraft()})}))},delDraft:function(t){var e=this;N.confirm("取消将清除本次所编辑内容的草稿，确定删除本次草稿吗？",(function(){o.a.delDraft({body:{draftType:G.draftType.note,entityId:e.entityId,entityType:e.entityType},always:t})}))},saveNote:function(t){var e=this,i=!!e.isEdit;if(!i&&e.isSaving)return;!i&&(e.isSaving=!0),o.a[i?"editNote":"newNote"]({body:e.val(),params:{noteId:i?e.noteId:null},call:function(){N.tips("操作成功"),t&&t()},error:function(t){N.alert(t.msg)},always:function(){e.isSaving=!1}})},fetchData:function(t){var e=this;o.a.getNoteData({query:{noteId:e.noteId,entityId:e.entityId,entityType:e.entityType},call:function(e){t&&t(e.data||{})},error:function(t){e.popup.close(),N.alert(t.msg)}})}});var X=i(2),Z=i(29),tt=i(1),et=i(8),it=i(3),nt=i(47),st=i(13),at=i(33),ot=i(79),rt=i(10);e.a={publishJob:function(t){t=t||{},at.click({cls:t.cls||".js-publish-job",needLogin:!0,call:function(e,i){e.preventDefault();var n=st.getUser(),s=tt.id(n.authenticationUserType),a=Number(i.attr("data-type"))||1;if("0"!==s&&"2"!==s)return j.show({type:s});var o="http://".concat(st.isInDev()?"d":"","hr.nowcoder.com/login-more?autoLoginType=1&recruitType=").concat(a);if(+n.relationHrId>0&&(1===a?t.hasInternProject:t.hasSocialProject))return window.open(o);$.show({propsData:{relationHrId:+n.relationHrId,hrUrl:o,type:a}}).$on("success",(function(){window.location.reload()}))}})},follow:function(t){var e=t.followCls||"js-follow",i=t.unfollowCls||"js-unfollow",n="followStr"in t?t.followStr:"收藏",a="followedStr"in t?t.followedStr:"已收藏",o=tt.id(t.followCount)?+t.followCount:-1,r=t.followCb||function(){},c="."+e+", ."+i,l=X(c);if(l.addClass("nc-req-auth"),!st.isLogin())return;t.noHover||et.hover(X(c),(function(){d(X(this),!0)}),(function(){d(X(this))}));return X(document).on("click",c,(function(n){t.stopPropagation&&n.stopPropagation();var a=X(n.currentTarget);if(!Z.mark(a)){var c={id:t.entityId,type:t.entityType};t.entityCb&&(c=t.entityCb(n));var l=a.hasClass(i);l&&(t.noPopup?p():ot.show({entityId:c.id,entityType:c.type,isEdit:!0,ok:tt.bind(u,null,!1,c),cancel:p,close:function(){Z.clear(a),r("",o)}})),!l&&s.a.follow({body:c,call:function(){a.addClass("oprt-item-new-color-click"),a.parent().removeClass("oprt-div").addClass("oprt-div-click"),a.removeClass(e).addClass(i),o>=0&&(o+=1),d(a),!t.noPopup&&ot.show({entityId:c.id,entityType:c.type,isEdit:!1,ok:tt.bind(u,null,!0,c),cancel:tt.bind(r,null,"new",o),close:tt.bind(r,null,"new",o)}),t.noPopup&&r("new",o)},error:function(t){return it.alert(t.msg)},always:function(){return Z.pause(a)}})}function p(){s.a.unfollow({body:c,call:function(){a.removeClass("oprt-item-new-color-click"),a.parent().removeClass("oprt-div-click").addClass("oprt-div"),a.removeClass(i).addClass(e),o>=0&&(o=Math.max(0,o-1)),d(a),!t.noTips&&it.tips("操作成功"),r("cancel",o)},error:function(t){return it.alert(t.msg)},always:function(){return Z.pause(a)}})}})),{update:function(t){o=tt.id(t)?+t:-1,d(l)}};function d(e,s){var r=e.hasClass(i),c=r&&s;if(t.renderResult)t.clickFollow?(c&&e.parent().attr("data-title","编辑收藏"),!c&&e.parent().attr("data-title","收藏"),!c&&t.renderResult(e,r,o,r?a:n)):(c&&e.text("编辑收藏"),!c&&t.renderResult(e,r,o,r?a:n));else{var l=(r?a:n)+(o>=0?"("+o+")":"");r&&e.text(s?"编辑收藏":l),!r&&e.text(l)}}function u(t,e,i){if(!t||i.length>0)return s.a[t?"createFollowTags":"editFollowTags"]({body:tt.extend(e,{tags:i.join(",")}),call:function(){it.tips("操作成功"),r(t?"new":"edit",o)},error:function(t){return it.alert(t.msg)}});it.tips("操作成功"),r("new",o)}},correction:function(t){var e=X(t.el);if(!t.entityType||!t.entityId)return;e.on("click",(function(e){e.preventDefault(),H.a.show({entryType:t.entityType,entryId:t.entityId})}))},note:function(t){if(!t.entityType||!t.entityId)return;var e=tt.map(t.editCls,(function(t){return"."+t})).join(","),i=tt.map(t.foldCls,(function(t){return"."+t})).join(",");if(X(e).addClass("nc-req-auth"),!st.isLogin())return;e&&X(document).on("click",e,(function(){Y.show({defaultTilte:t.defaultTilte,entityId:t.entityId,entityType:t.entityType,ok:t.ok})})),i&&X(document).on("click",i,(function(e){e.preventDefault();var i=X(t.container);i[i.hasClass("open")?"removeClass":"addClass"]("open")})),t.delCls&&t.noteId&&X("."+t.delCls).on("click",(function(e){it.confirm("删除了不可恢复，是否确认删除？",(function(){o.a.delNote({params:{noteId:t.noteId},call:function(){it.tips("操作成功",(function(){if(t.del)return t.del();window.location.reload()}))},error:function(t){return it.alert(t.msg)}})}))}))},clock:function(t){var e=X(t.el);if(e.addClass("nc-req-auth"),!st.isLogin())return;var i=+e.attr("data-count")||0,n=rt.extend(k.a);e.on("click",(function(s){var a=new n({propsData:{from:"clock",specialName:t.name}});a.$on("published",(function(n){var s=null;a.popup&&a.popup.close(),t.ok||(e.closest("div.sign-main").find("div.sign-info a").html(i+1),e.replaceWith('<a href="/profile/'+window.globalInfo.ownerId+'/clockInfo" class="btn btn-default">已打卡</a>')),window.setTimeout((function(){return s=it.mask("请稍等...")})),window.setTimeout((function(){s&&s.hide();var e=w.show({data:n});t.ok&&e.popup.listen("close",t.ok)}),2e3)})),a.$watch("clock",(function(){return a.$nextTick((function(){return a.popup&&a.popup.fixPosition()}))})),it.wrap(a,{width:750,title:"每日学习打卡",hasNoFooter:!0})}))},shieldQuestion:function(t){var e=t.shieldCls||"js-shield",i=t.unShieldCls||"js-unshield",n=t.shieldStr||""===t.shieldStr?"屏蔽本题":t.shieldStr,a=t.shieldedStr||""===t.shieldedStr?"取消屏蔽":t.shieldedStr,o="."+e+", ."+i,r=X(o);if(r.addClass("nc-req-auth"),!st.isLogin())return;tt.forEach(r,(function(t){X(t).attr("title",X(t).hasClass(e)?"屏蔽该题，该题将不会出现在以后的组卷中。":"取消屏蔽后，该题可能会再次出现在以后的组卷中。")})),r.addClass("js-nc-title-tips"),nt.title(".js-nc-title-tips"),X(document).on("click",o,(function(o){var r=X(o.currentTarget),c=r.hasClass(e);function l(){s.a.questionShield({body:{qid:t.entityId,isShield:c},call:function(){r.removeClass(c?e:i).addClass(c?i:e),r.html(c?a:n),r.attr("title",c?"取消屏蔽后，该题可能会再次出现在以后的组卷中。":"屏蔽该题，该题将不会出现在以后的组卷中。"),it.tips("操作成功")},error:function(t){return it.alert(t.msg)},always:function(){return Z.pause(r)}})}c&&it.confirm("确定屏蔽该题后，该试题将再也不会出现以后的组卷中。",l),!c&&!Z.mark(r)&&l()}))},markQuestion:function(t){var e=this,i=t.markCls||"js-mark",n=t.unMarkCls||"js-unmark",a=t.markStr||""===t.markStr?"标记一下":t.markStr,o=t.markedStr||""===t.markedStr?"已标记":t.markedStr,r="."+i+", ."+n;et.hover(X(r),(function(){return l(X(e),!0)}),(function(){return l(X(e))}));var c=X(r);if(c.addClass("nc-req-auth"),!st.isLogin())return;function l(t,e){t.hasClass(n)&&t.text(e?"取消标记":o)}c.hasClass(i)&&c.attr("title","标记该题，着重查看。"),c.addClass("js-nc-title-tips"),nt.title(".js-nc-title-tips"),X(document).on("click",r,(function(e){var r=X(e.currentTarget),c=r.hasClass(i);Z.mark(r)||s.a.questionMark({body:{qid:t.entityId,tid:t.testId,isMark:c},call:function(){c&&r.removeClass(i).addClass(n).removeAttr("data-title"),!c&&r.removeClass(n).addClass(i).attr("data-title","标记该题，着重查看。"),r.html(c?o:a),tt.forEach(t.dtkEls,(function(e){if((e=X(e)).attr("data-qid")===t.entityId)return e[c?"addClass":"removeClass"]("mark-spot"),tt.BREAK}))},error:function(t){return it.alert(t.msg)},always:function(){return Z.pause(r)}})}))}}},56:function(t,e,i){var n=i(2),s=i(1),a=i(4),o=i(8),r=i(7),c=i(12),l=i(77),d=i(76),u=t.exports=a.create();a.mix(u,r,{_template:'\n    <div>\n        <div class="tags-input-wrap js-tag-wrap" style="margin:0;display:block;">\n            <label class="icon-tag"></label>\n            <div class="tags-input-cont" style="cursor:text">\n                <div class="tag-label-box js-tag-home">\n                    <span class="js-input-wrap">\n                        <input type="text" class="js-input" style="width:5px;padding-left:0;padding-right:0;">\n                    </span>\n                </div>\n            </div>\n        </div>\n        <div class="js-error" style="color:#ff5000;font-size:12px;"></div>\n        <div class="pop-common-wrap js-common-wrap" style="display:none;">\n            <span>常用:</span>\n            <div class="pop-common-label js-common-tag"></div>\n        </div>\n    </div>',listeners:[{name:"render",type:"custom",handler:function(){var t=this.rawConfig;this.getEl();this.input=this.getEl(".js-input"),this.resize(),this.initIpt(),this.initCommon(),this.initSuggest(),t.value&&this.val(t.value)}}]},{initialize:function(t){this.tagList=[];var e=this.suggestMap={};t.customCommon&&s.forEach(t.common,(function(t){t&&(s.isString(t)&&(t={value:t,text:t}),e[t.text]=t)}));t.maxTagLength=+t.maxTagLength||20},initIpt:function(){var t,e=this,i=e.rawConfig,a=e.getEl(),r=a.find(".js-tag-wrap"),l=(a.find(".js-input-wrap"),e.input),d=c.frequency(20);function u(t){var i=e.tagList,n=i.length;if(!l.val()&&n>0){var s=i[n-1];e.delTag(s),e.suggest&&e.suggest.attach.fixPosition()}}function p(t){t.preventDefault();var a=(e.suggest||{}).keyboardItem;if(!(a&&a.index>=0)){var o=n.trim(l.val());if(o){var r=e.suggestMap[o];if(!r){if(i.noCustom)return e.showError("暂不支持自定义，请选择已有标签");if(o.length>i.maxTagLength)return e.showError("标签最长"+i.maxTagLength+"个字符");if(!!s.find(i.limitStr,(function(t){return o.indexOf(t)>=0})))return e.showError("标签中包含非法字符")}e.addTag(r?{text:r.text,value:r.value}:{text:o,value:o}),e.input.val(""),e.fixIptWidth(),e.showError(!1),e.suggest&&e.suggest.attach.fixPosition()}}}r.on("click",(function(){return l.focus()})),o.bindChange(l,(function(){d((function(){e.fixIptWidth(),e.showError(!1)}))})),l.on("focus",(function(){window.clearTimeout(t),r.addClass("focus"),e.showError(!1)})),l.on("blur",(function(){window.clearTimeout(t),t=window.setTimeout((function(){r.removeClass("focus"),e.suggest&&e.suggest.attach.forceHide(),e.fixIptWidth()}),200)})),l.on("keydown",(function(t){var e={8:u,13:p,32:p,188:p}[t.keyCode+""];e&&e(t)})),e.listen("change",(function(){return e.fixIptWidth()}))},initCommon:function(){var t=this,e=t.rawConfig,i=t.getEl(),a=i.find(".js-common-tag"),o=[];s.forEach(e.common,(function(t){var e=s.isObject(t)?t:{text:t,value:t};n.trim(e.text)&&o.push(e)}));var r=o.length;if(i.find(".js-common-wrap")[0===r?"hide":"show"](),0===r)return;var c=s.map(o,(function(e){return new d({renderTo:a,text:e.text,value:e.value,needToggle:!0,listeners:{toggle:function(){var i=this.isChecked();i&&t.addTag(e),!i&&t.delTag(t.getTagByVal(e.text))}}})}));t.listen("change",(function(){var e=s.toMap(t.tagList,(function(t){return{key:t.val(),value:!0}}));s.forEach(c,(function(t){return t.checked(!!e[t.val()])}))}))},initSuggest:function(){var t=this,e=t.rawConfig,i=t.input;t.getEl();if(!e.getSuggest)return;t.suggest=l.show({input:i,needReWidth:!0,needSame:!0,noCache:!1,rePositionInList:!0,attach:e.attach,noLeave:!0,defaultIndex:e.noCustom?0:-1,reqList:function(t,i){e.getSuggest(t,(function(t){i&&i(t)}))},dealList:function(e){var i=[],n=t.suggestMap,a=s.toMap(t.tagList,(function(t){return{key:t.val()}}));return s.forEach(e,(function(t){n[t.text]=t,!a[t.value]&&i.push(t)})),i},ok:function(e){i.val(""),t.addTag({text:e.text,value:e.value}),t.fixIptWidth(),t.input.focus()}}),t.pushChild(t.suggest)},val:function(t){var e=this;if(0===arguments.length)return s.map(e.tagList,(function(t){return t.val()}));s.forEach(e.tagList,(function(t){return t&&t.destroy()})),e.tagList.length=0,s.forEach(t,(function(t){t&&s.isString(t)&&(t={value:t,text:t}),e.addTag(t)}))},check:function(){var t=this.input,e=this.rawConfig,i=n.trim(t.val());i&&(t.focus(),this.showError(e.noSaveTips||"你还有未保存的收藏标签，请回车生成标签"));return!i},addTag:function(t){var e=this;if((!t||!e.getTagByVal(t.value))&&t&&t.value&&t.text){var i=new d({renderTo:e.getEl(".js-input-wrap"),renderBy:"before",text:t.text,value:t.value,checked:!0,needDel:!0,listeners:{del:function(){e.delTag(this)}}});i.getEl().css("margin","2px"),e.tagList.push(i),e.fire("change","add",t)}},delTag:function(t){var e=this.tagList;if(t&&s.contains(e,t)){this.tagList=s.without(e,t),t.destroy();var i=t.rawConfig;this.fire("change","del",{text:i.text,value:i.value})}},hasVal:function(){return!!(this.input.val()||this.tagList.length>0)},getTagByVal:function(t){return s.find(this.tagList,(function(e){return e.val()===t}))},resize:function(){this.fixIptWidth()},fixIptWidth:function(){var t=this,e=t.rawConfig,i=t.getEl(),s=t.input,a=i.find(".tags-input-cont"),o=+e.iptMinWidth||130,r=a.width(),c=t.hasVal();c&&function(e){var i=s[0],n=s.val();if(n!==t._lastVal){t._lastVal=n;var a=parseFloat(s.css("paddingLeft"))+parseFloat(s.css("paddingRight"));if(s.width(1).css("overflowX","hidden"),i.scrollWidth>1){var o=e&&i.scrollWidth>e,r=o?e-a:i.scrollWidth-a;s.width(r),s.css("overflowX",o?"auto":"hidden")}}}(r),!c&&s.outerWidth(o),!c&&(t._lastVal=null),s.attr("placeholder",c?"":n.trim(e.placeholder)||"输入标签，回车确定")},showError:function(t){var e=this.getEl();e.find(".js-tag-wrap")[t?"addClass":"removeClass"]("error"),e.find(".js-error").html(t||"")}})},57:function(t,e,i){"use strict";var n=i(14),s=i.n(n),a=i(6),o=i.n(a);function r(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,n)}return i}var c=i(7),l=i(4),d=i(1),u=i(3),p=i(29),h=(l=i(4),i(20)),f=i(17),m=l.create();e.a=m,l.mix(m,c,{_template:'\n    <div class="pop-recovery-content">\n        <p class="pop-tip">#{tips}</p>\n        <div style="margin-bottom:20px;"><span class="js-temp"></span></div>\n        <div class="submit-btnbox" style="text-align:right;">\n            <a class="btn btn-primary confirm-btn" href="javascript:void(0);">#{submitTxt}</a>\n        </div>\n    </div>',listeners:[{name:"render",type:"custom",handler:function(){this.initEditor()}}],show:function(t){var e=(t=t||{}).entryId,i=t.entryType,n=new m(t),a=u.wrap(n,{title:t.title||"牛客网试题或答案纠错",width:960,content:n.html(),hasNoFooter:!0,noUnique:!0,ok:function(){var c=n.getEl(),l=n.val();if(l&&t.submit)t.submit(l);else if(l&&!p.mark(c)){var h=l+(t.extContent?"\r\n"+t.extContent:"")+"\r\n "+(t.noSubmitUrl?"":'<a href="'.concat(window.location.href,'">').concat(window.location.href,"</a>")),m={call:function(e){t.call&&t.call(l||null),a.close(),window.setTimeout((function(){return u.tips(t.okText||"您的纠错反馈已经提交，我们会尽快处理")}),500)},error:function(t){return u.alert(t.msg||"出现错误")},always:function(){return p.pause(c)}};if(d.isFunction(t.action))return t.action(function(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?r(Object(i),!0).forEach((function(e){s()(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):r(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}({content:h},m));i===f.type.recommendJob||i===f.type.referralOwner?o.a.isCorrected({body:{entryType:i,entryId:e},call:function(t){if(!t.data)return v();u.alert("你已经举报过啦"),a.close()},error:function(t){return u.alert(t.msg)}}):v()}else l||u.alert("请填写信息后再提交");return!0;function v(){o.a.correction(d.extend({body:{entryType:i,entryId:e,content:h}},m))}}});return n}},{initEditor:function(){var t=this,e=t.getEl();h.getEditor("hEditor",(function(i){t.ipt=new i({renderTo:e.find(".js-temp"),renderBy:"replaceWith",height:320,noToolbarFixed:!0,noAutoHeight:!0,needChangeEditor:!1,afterCreate:function(){return t.popup.fixPosition()},afterChangeEditor:function(e){return t.ipt=e}})}))},val:function(){return this.ipt?this.ipt.val():""},_getData:function(t){return{submitTxt:t.submitTxt||"提交错误",tips:t.tips||"我们为新入库的题目提供了纠错入口，欢迎细心的你来纠错，为方便我们更快的排查并修正错误，请你详细描述本题错误："}}})},6:function(t,e,i){var n=i(5);t.exports={url:{reserve:"/reserve/#{paperId}/do",unReserve:"/reserve/#{paperId}/undo",isFollow:"/sns/is-follow",follow:"/sns/follow",unfollow:"/sns/unfollow",multiFollow:"/sns/multi_follow",multiUnfollow:"/sns/multi_unfollow",getFollowData:"/sns/followdata",createFollowTags:"/sns/followtags/create",editFollowTags:"/sns/followtags/edit",updateFollowTag:"/sns/followtags/update",like:"/sns/like",unlike:"/sns/del_like",comment:"/comment/create",delComment:"/comment/delete",getComment:"/comment/list",getUserComment:"/comment/self-comment",getCommentByPage:"/comment/listByPage",getCommentByPageV2:"/comment/list-by-page-v2",getCommentPageNum:"/comment/pageNum",getWonderfulCommentList:"/comment/woderful/list",newWonderfulComment:"/comment/wonderful",delWonderfulComment:"/comment/unwonderful",getAcceptedList:"/comment/accepted/list",acceptComment:"/comment/accept",newLitigantComment:"/comment/litigant",delLitigantComment:"/comment/un-litigant",getRefAnswer:"/comment/recommendComment?questionId=#{questionId}",getCaptcha:"/captcha/#{type}",correction:"/corrections/v2",isCorrected:"/corrections/isCorrected",setRefAnswer:"/audit/setReferAnswerFromCmt",unsetRefAnswer:"/audit/unsetReferAnswerFromCmt",setRightAnswer:"/audit/setRightAnswer",getLikeUsers:"/sns/likeUsers",testPing:"/test/updateInfo",testRestart:"/test/restart",testStop:"/test/stop",testContestPing:"/contest/updateInfo",saveAnswerDraft:"/answer/draft/save",getAnswerDraft:"/answer/draft/get",editAnswer:"/comment/editAnswer",getQuestionInfo:"/getQuestionInfo",wantAnswer:"/want-answer/want",cancelWantAnswer:"/want-answer/cancel",getQuestionQr:"/qr/question/#{uuid}",addLeave:"/contest/addLeave",getLatestSubmission:"/practice/latestSubmission",getLatestAcceptSubmission:"/practice/latestAcceptSubmission",sendCtsPhoneCode:"/cts/phone_code",validateCtsPhoneCode:"/cts/validate_phone_code",correctPerson:"/test/code/lanuage",questionShield:"/question/shield",questionMark:"/question/mark",blackUser:"/sns/black",unblackUser:"/sns/unblack",blockUser:"/sns/shield",unblockUser:"/sns/un-shield"}},n.add(t.exports,t.exports.url)},76:function(t,e,i){var n=i(7),s=i(4),a=t.exports=s.create();s.mix(a,n,{_template:['<#{tag} class="tag-label">','<span class="js-text"></span>',"</#{tag}>"].join(""),listeners:[{name:"render",type:"custom",handler:function(){var t=this.rawConfig;"span"!==t.tag&&this.getEl().attr("href","javascript:void(0);"),t.text&&this.text(t.text),t.checked&&this.checked(),t.needDel&&this.needDel(),t.disabled&&this.disabled()}},{name:"click",handler:function(){this.rawConfig.needToggle&&this.checked(!this.isChecked()),!this.isDisabled()&&this.fire("click")}},{name:"click.stop .js-del",handler:function(){this.fire("del")}}]},{text:function(t){var e=this,i=e.getEl(".js-text");if(0===arguments.length)return i.html();i.html(t)},val:function(){return this.rawConfig.value},checked:function(t){var e=this,i=this.getEl();e.isChecked()!==(t=!1!==t)&&(i[t?"addClass":"removeClass"]("selected"),this.fire("toggle"))},isChecked:function(){return this.getEl().hasClass("selected")},disabled:function(t){t=!1!==t,this.getEl()[t?"addClass":"removeClass"]("disabled"),this.needDel(!t&&this.rawConfig.needDel)},isDisabled:function(){return this.getEl().hasClass("disabled")},needDel:function(t){var e=this.getEl(".js-del");(t=!1!==t)&&!e.get(0)&&this.getEl().append('<span class="del-tag js-del">x</span>'),!t&&e.get(0)&&e.remove()},showDel:function(t){return this.getEl(".js-del").css("display",!1===t?"none":"")},_getData:function(t){return{tag:"span"===t.tag?"span":"a"}}})},79:function(t,e,i){i(2);var n=i(7),s=i(4),a=i(1),o=i(9),r=i(3),c=i(56),l=i(39),d=t.exports=s.create();s.mix(d,n,{_template:'<div><div style="font-size:14px;text-align:center;">数据加载中...</div></div>',listeners:[{name:"render",type:"custom",handler:function(){var t=this,e=t.getEl();t.fetchTags((function(i,n){e.html(""),t.initCpn(i,n),t.initBtn(),t.popup.fixPosition()}))}}],show:function(t){var e=new d(t=t||{});r.wrap(e,{title:t.isEdit?"修改收藏":"收藏成功",content:e.html(),width:630,hasNoFooter:!!t.isEdit,ok:function(){if(!e.tagInput.check())return!0;var i=a.uniq(e.tagInput.val());t.ok&&t.ok(i)},cancel:function(){},listeners:{cancel:t.cancel,close:t.close}});return e}},{initCpn:function(t,e){var i=this,n=i.getEl();i.tagInput=new c({renderTo:n,common:a.map(e,(function(t){return{text:t,value:t}})),value:a.map(t,(function(t){return{text:t,value:t}})),listeners:{change:function(){i.fire("change")}}})},initBtn:function(){var t=this.rawConfig,e=this.getEl();t.isEdit&&e.append(['<div class="pop-collect-tag" style="margin-top:20px;">','<a href="javascript:void(0);" class="btn btn-primary confirm-btn">修改收藏标签</a>','<div class="cut-line"><span class="cut-txt">或者</span></div>','<a href="javascript:void(0);" class="btn btn-warn cancle-btn">删除收藏</a>',"</div>"].join(""))},fetchTags:function(t){var e=this,i=e.rawConfig,n={id:i.entityId,type:i.entityType};i.isEdit&&(n.isEdit=!0),l.getFollowData({query:n,call:function(e){var i=o.split(e.data.allTags,","),n=o.split(e.data.draftTags,",");t&&t(n,i)},error:function(t){i.isEdit&&(e.popup.close(),r.alert(t.msg))}})}})}},[[1277,1,0]]]);